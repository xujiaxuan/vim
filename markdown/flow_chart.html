<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <link href="data:text/css;charset=utf-8,body%20%7B%0Amax%2Dwidth%3A100%25%3B%0Amax%2Dheight%3A100%25%3B%0Afont%3A14px%2F1%2E4%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20%22Open%20Sans%22%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dfamily%3A%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20%22Microsoft%20YaHei%20New%22%2C%20%22Microsoft%20Yahei%22%2C%20%22%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%22%2C%20%E5%AE%8B%E4%BD%93%2C%20SimSun%2C%20STXihei%2C%20%22%E5%8D%8E%E6%96%87%E7%BB%86%E9%BB%91%22%2C%20sans%2Dserif%3B%0Abackground%2Dcolor%3A%20white%3B%0Apadding%3A%206px%3B%20%7D%0Abody%20%3E%20%2A%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%20%21important%3B%20%7D%0Abody%20%3E%20%2A%3Alast%2Dchild%20%7B%0Amargin%2Dbottom%3A%200%20%21important%3B%20%7D%0Aa%20%7B%0Acolor%3A%20%234183C4%3B%20%7D%0Aa%2Eabsent%20%7B%0Acolor%3A%20%23cc0000%3B%20%7D%0Aa%2Eanchor%20%7B%0Adisplay%3A%20block%3B%0Apadding%2Dleft%3A%2030px%3B%0Amargin%2Dleft%3A%20%2D30px%3B%0Acursor%3A%20pointer%3B%0Aposition%3A%20absolute%3B%0Atop%3A%200%3B%0Aleft%3A%200%3B%0Abottom%3A%200%3B%20%7D%0Aa%3Alink%20%7B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Avisited%20%7B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Atext%2Ddecoration%3A%20underline%3B%0A%7D%0Aa%3Aactive%20%7B%0Atext%2Ddecoration%3A%20underline%3B%0A%7D%0Ah1%2C%20h2%2C%20h3%2C%20h4%2C%20h5%2C%20h6%20%7B%0Amargin%3A%2020px%200%2010px%3B%0Apadding%3A%200%3B%0Afont%2Dweight%3A%20bold%3B%0A%2Dwebkit%2Dfont%2Dsmoothing%3A%20antialiased%3B%0Acursor%3A%20text%3B%0Aposition%3A%20relative%3B%20%7D%0Ah1%3Ahover%20a%2Eanchor%2C%20h2%3Ahover%20a%2Eanchor%2C%20h3%3Ahover%20a%2Eanchor%2C%20h4%3Ahover%20a%2Eanchor%2C%20h5%3Ahover%20a%2Eanchor%2C%20h6%3Ahover%20a%2Eanchor%20%7B%0Atext%2Ddecoration%3A%20none%3B%20%7D%0Ah1%20tt%2C%20h1%20code%20%7B%0Acolor%3A%20black%3B%0Afont%2Dsize%3A%20inherit%3B%20%7D%0Ah2%20tt%2C%20h2%20code%20%7B%0Acolor%3A%20black%3B%0Afont%2Dsize%3A%20inherit%3B%20%7D%0Ah3%20tt%2C%20h3%20code%20%7B%0Acolor%3A%20black%3B%0Afont%2Dsize%3A%20inherit%3B%20%7D%0Ah4%20tt%2C%20h4%20code%20%7B%0Acolor%3A%20black%3B%0Afont%2Dsize%3A%20inherit%3B%20%7D%0Ah5%20tt%2C%20h5%20code%20%7B%0Acolor%3A%20black%3B%0Afont%2Dsize%3A%20inherit%3B%20%7D%0Ah6%20tt%2C%20h6%20code%20%7B%0Acolor%3A%20black%3B%0Afont%2Dsize%3A%20inherit%3B%20%7D%0Ah1%20%7B%0Afont%2Dsize%3A%2028px%3B%0Aborder%2Dbottom%3A%201px%20solid%20%23cccccc%3B%0Acolor%3A%20black%3B%20%7D%0Ah2%20%7B%0Afont%2Dsize%3A%2024px%3B%0Acolor%3A%20black%3B%20%7D%0Ah3%20%7B%0Afont%2Dsize%3A%2018px%3B%20%7D%0Ah4%20%7B%0Afont%2Dsize%3A%2016px%3B%20%7D%0Ah5%20%7B%0Afont%2Dsize%3A%2014px%3B%20%7D%0Ah6%20%7B%0Acolor%3A%20%23777777%3B%0Afont%2Dsize%3A%2014px%3B%20%7D%0Ap%2C%20blockquote%2C%20ul%2C%20ol%2C%20dl%2C%20li%2C%20table%2C%20pre%20%7B%0Amargin%3A%2015px%200%3B%20%7D%0Ahr%7Bmargin%2Dtop%3A20px%3Bmargin%2Dbottom%3A20px%3Bborder%3A0%3Bborder%2Dtop%3A1px%20solid%20%23eee%7D%0Abody%20%3E%20h2%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%3B%0Apadding%2Dtop%3A%200%3B%20%7D%0Abody%20%3E%20h1%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%3B%0Apadding%2Dtop%3A%200%3B%20%7D%0Abody%20%3E%20h1%3Afirst%2Dchild%20%2B%20h2%20%7B%0Amargin%2Dtop%3A%200%3B%0Apadding%2Dtop%3A%200%3B%20%7D%0Abody%20%3E%20h3%3Afirst%2Dchild%2C%20body%20%3E%20h4%3Afirst%2Dchild%2C%20body%20%3E%20h5%3Afirst%2Dchild%2C%20body%20%3E%20h6%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%3B%0Apadding%2Dtop%3A%200%3B%20%7D%0Aa%3Afirst%2Dchild%20h1%2C%20a%3Afirst%2Dchild%20h2%2C%20a%3Afirst%2Dchild%20h3%2C%20a%3Afirst%2Dchild%20h4%2C%20a%3Afirst%2Dchild%20h5%2C%20a%3Afirst%2Dchild%20h6%20%7B%0Amargin%2Dtop%3A%200%3B%0Apadding%2Dtop%3A%200%3B%20%7D%0Ah1%20p%2C%20h2%20p%2C%20h3%20p%2C%20h4%20p%2C%20h5%20p%2C%20h6%20p%20%7B%0Amargin%2Dtop%3A%200%3B%20%7D%0Ali%20p%2Efirst%20%7B%0Adisplay%3A%20inline%2Dblock%3B%20%7D%0Ali%20%7B%0Amargin%3A%200%3B%20%7D%0Aul%2C%20ol%20%7B%0Apadding%2Dleft%3A%2020px%3B%20%7D%0Aul%20%3Afirst%2Dchild%2C%20ol%20%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%3B%20%7D%0Adl%20%7B%0Apadding%3A%200%3B%20%7D%0Adl%20dt%20%7B%0Afont%2Dsize%3A%2014px%3B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dstyle%3A%20italic%3B%0Apadding%3A%200%3B%0Amargin%3A%2015px%200%205px%3B%20%7D%0Adl%20dt%3Afirst%2Dchild%20%7B%0Apadding%3A%200%3B%20%7D%0Adl%20dt%20%3E%20%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%3B%20%7D%0Adl%20dt%20%3E%20%3Alast%2Dchild%20%7B%0Amargin%2Dbottom%3A%200%3B%20%7D%0Adl%20dd%20%7B%0Amargin%3A%200%200%2015px%3B%0Apadding%3A%200%2015px%3B%20%7D%0Adl%20dd%20%3E%20%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%3B%20%7D%0Adl%20dd%20%3E%20%3Alast%2Dchild%20%7B%0Amargin%2Dbottom%3A%200%3B%20%7D%0Ablockquote%20%7B%0Aborder%2Dleft%3A%204px%20solid%20%23ddd%3B%0Apadding%3A%200%2015px%3B%0Acolor%3A%20%23777777%3B%20%7D%0Ablockquote%20%3E%20%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%3B%20%7D%0Ablockquote%20%3E%20%3Alast%2Dchild%20%7B%0Amargin%2Dbottom%3A%200%3B%20%7D%0Atable%20%7B%0Apadding%3A%200%3Bborder%2Dcollapse%3A%20collapse%3B%20%7D%0Atable%20tr%20%7B%0Aborder%2Dtop%3A%201px%20solid%20%23cccccc%3B%0Abackground%2Dcolor%3A%20white%3B%0Amargin%3A%200%3B%0Apadding%3A%200%3B%20%7D%0Atable%20tr%20th%20%7B%0Abackground%2Dcolor%3A%20%23555555%3B%0Atext%2Dalign%3Aleft%3B%0Acolor%3A%20%23ffffff%3B%0Afont%2Dweight%3A%20bold%3B%0Aborder%3A%201px%20solid%20%23cccccc%3B%0Amargin%3A%200%3B%0Apadding%3A%208px%2010px%3B%20%7D%0Atable%20tr%20td%20%7B%0Amin%2Dwidth%3A%20140px%3B%0Aborder%3A%201px%20solid%20%23cccccc%3B%0Amargin%3A%200%3B%0Apadding%3A%206px%2010px%3B%20%7D%0Atable%20tr%20th%20%3Afirst%2Dchild%2C%20table%20tr%20td%20%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%3B%20%7D%0Atable%20tr%20th%20%3Alast%2Dchild%2C%20table%20tr%20td%20%3Alast%2Dchild%20%7B%0Amargin%2Dbottom%3A%200%3B%20%7D%0Aimg%20%7B%0Amax%2Dwidth%3A%20100%25%3B%20%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%0Amargin%3A%200%2E5em%3B%0Apadding%3A%200%2E5em%3B%0A%7D%0Adiv%2Efigure%20p%20%7B%0Afont%2Dweight%3Abold%3B%0Afont%2Dsize%3A90%25%3B%0A%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%2Escaled%20%7B%0Awidth%3A%20100%25%3B%0A%7D%0Aspan%2Eframe%20%7B%0Adisplay%3A%20block%3B%0Aoverflow%3A%20hidden%3B%20%7D%0Aspan%2Eframe%20%3E%20span%20%7B%0Aborder%3A%201px%20solid%20%23dddddd%3B%0Adisplay%3A%20block%3B%0Afloat%3A%20left%3B%0Aoverflow%3A%20hidden%3B%0Amargin%3A%2013px%200%200%3B%0Apadding%3A%207px%3B%0Awidth%3A%20auto%3B%20%7D%0Aspan%2Eframe%20span%20img%20%7B%0Adisplay%3A%20block%3B%0Afloat%3A%20left%3B%20%7D%0Aspan%2Eframe%20span%20span%20%7B%0Aclear%3A%20both%3B%0Acolor%3A%20%23333333%3B%0Adisplay%3A%20block%3B%0Apadding%3A%205px%200%200%3B%20%7D%0Aspan%2Ealign%2Dcenter%20%7B%0Adisplay%3A%20block%3B%0Aoverflow%3A%20hidden%3B%0Aclear%3A%20both%3B%20%7D%0Aspan%2Ealign%2Dcenter%20%3E%20span%20%7B%0Adisplay%3A%20block%3B%0Aoverflow%3A%20hidden%3B%0Amargin%3A%2013px%20auto%200%3B%0Atext%2Dalign%3A%20center%3B%20%7D%0Aspan%2Ealign%2Dcenter%20span%20img%20%7B%0Amargin%3A%200%20auto%3B%0Atext%2Dalign%3A%20center%3B%20%7D%0Aspan%2Ealign%2Dright%20%7B%0Adisplay%3A%20block%3B%0Aoverflow%3A%20hidden%3B%0Aclear%3A%20both%3B%20%7D%0Aspan%2Ealign%2Dright%20%3E%20span%20%7B%0Adisplay%3A%20block%3B%0Aoverflow%3A%20hidden%3B%0Amargin%3A%2013px%200%200%3B%0Atext%2Dalign%3A%20right%3B%20%7D%0Aspan%2Ealign%2Dright%20span%20img%20%7B%0Amargin%3A%200%3B%0Atext%2Dalign%3A%20right%3B%20%7D%0Aspan%2Efloat%2Dleft%20%7B%0Adisplay%3A%20block%3B%0Amargin%2Dright%3A%2013px%3B%0Aoverflow%3A%20hidden%3B%0Afloat%3A%20left%3B%20%7D%0Aspan%2Efloat%2Dleft%20span%20%7B%0Amargin%3A%2013px%200%200%3B%20%7D%0Aspan%2Efloat%2Dright%20%7B%0Adisplay%3A%20block%3B%0Amargin%2Dleft%3A%2013px%3B%0Aoverflow%3A%20hidden%3B%0Afloat%3A%20right%3B%20%7D%0Aspan%2Efloat%2Dright%20%3E%20span%20%7B%0Adisplay%3A%20block%3B%0Aoverflow%3A%20hidden%3B%0Amargin%3A%2013px%20auto%200%3B%0Atext%2Dalign%3A%20right%3B%20%7D%0Acode%2C%0Akbd%2C%0Apre%2C%0Asamp%20%7B%0Afont%2Dfamily%3A%20Menlo%2C%20Monaco%2C%20Consolas%2C%20%22Courier%20New%22%2C%20monospace%3B%0A%7D%0Acode%20%7B%0Apadding%3A%202px%204px%3B%0Afont%2Dsize%3A%2090%25%3B%0Acolor%3A%20%2320639b%3B%0Abackground%2Dcolor%3A%20%23f5f5f5%3B%0Aborder%2Dradius%3A%204px%3B%0A%7D%0Akbd%20%7B%0Apadding%3A%202px%204px%3B%0Afont%2Dsize%3A%2090%25%3B%0Acolor%3A%20%23fff%3B%0Abackground%2Dcolor%3A%20%23333%3B%0Aborder%2Dradius%3A%203px%3B%0A%2Dwebkit%2Dbox%2Dshadow%3A%20inset%200%20%2D1px%200%20rgba%280%2C%200%2C%200%2C%20%2E25%29%3B%0Abox%2Dshadow%3A%20inset%200%20%2D1px%200%20rgba%280%2C%200%2C%200%2C%20%2E25%29%3B%0A%7D%0Akbd%20kbd%20%7B%0Apadding%3A%200%3B%0Afont%2Dsize%3A%20100%25%3B%0A%2Dwebkit%2Dbox%2Dshadow%3A%20none%3B%0Abox%2Dshadow%3A%20none%3B%0A%7D%0Apre%20%7B%0Adisplay%3A%20block%3B%0Apadding%3A%209%2E5px%3B%0Amargin%3A%200%200%2010px%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E42857143%3B%0Acolor%3A%20%23333%3B%0Aword%2Dbreak%3A%20break%2Dall%3B%0Aword%2Dwrap%3A%20break%2Dword%3B%0Abackground%2Dcolor%3A%20%23f5f5f5%3B%0Aborder%3A%201px%20solid%20%23ccc%3B%0Aborder%2Dradius%3A%204px%3B%0A%7D%0Apre%20code%20%7B%0Apadding%3A%200%3B%0Afont%2Dsize%3A%20inherit%3B%0Acolor%3A%20inherit%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%0Abackground%2Dcolor%3A%20transparent%3B%0Aborder%2Dradius%3A%200%3B%0A%7D%0Asup%20%7B%0Afont%2Dsize%3A%200%2E83em%3B%0Avertical%2Dalign%3A%20super%3B%0Aline%2Dheight%3A%200%3B%0A%7D%0A%2A%20%7B%0A%2Dwebkit%2Dprint%2Dcolor%2Dadjust%3A%20exact%3B%0A%7D%0A%40media%20screen%20and%20%28min%2Dwidth%3A%201064px%29%20%7B%0Abody%20%7B%0Awidth%3A%201004px%3B%0Amargin%3A0%20auto%3B%0A%7D%0A%7D%0A%40media%20print%20%7B%0Atable%2C%20pre%20%7B%0Apage%2Dbreak%2Dinside%3A%20avoid%3B%0A%7D%0Apre%20%7B%0Aword%2Dwrap%3A%20break%2Dword%3B%0A%7D%0A%7D%0A" rel="stylesheet" type="text/css" />
  <link href="data:text/css;charset=utf-8,%23TOC%5FCONTENT%20%7B%0Afont%2Dsize%3A%2080%25%3B%0Apadding%3A%20%2E5em%3B%0Amargin%3A%200em%200em%201em%201em%3B%0Adisplay%3A%20block%3B%0A%7D%0A%23TOC%5FCONTENT%20a%20%7B%0Acolor%3A%20%234183C4%3B%0A%7D%0A%23TOC%5FCONTENT%20a%3Ahover%20%7B%0Atext%2Ddecoration%3A%20underline%3B%0A%7D%0A%23TOC%5FCONTENT%20li%20%7B%0Amargin%3A%20%2E2em%3B%0A%7D%0A%23TOC%5FCONTENT%20h2%20%7B%0Amargin%2Dtop%3A%20%2E2em%3B%0Aborder%3A%20none%3B%0A%7D%0A%23TOC%20%7B%0Afont%2Dsize%3A%2014pt%3B%0Acolor%3A%20%23bd3c00%3B%0Aposition%3A%20fixed%3B%0Aright%3A%200em%3B%0Atop%3A%200em%3B%0Abackground%2Dcolor%3A%20%23f5f5f5%3B%0Az%2Dindex%3A%201%3B%0A%2Dwebkit%2Dbox%2Dshadow%3A%200%200%201em%20%23777777%3B%0A%2Dmoz%2Dbox%2Dshadow%3A%200%200%201em%20%23777777%3B%0Abox%2Dshadow%3A%200%200%201em%20%23777777%3B%0A%2Dwebkit%2Dborder%2Dbottom%2Dleft%2Dradius%3A%2015px%3B%0A%2Dmoz%2Dborder%2Dradius%2Dbottomleft%3A%2015px%3B%0Aborder%2Dbottom%2Dleft%2Dradius%3A%2015px%3B%0Atext%2Dalign%3A%20left%3B%0A%0Amax%2Dheight%3A%2080%25%3B%0Aoverflow%3A%20auto%3B%20%7D%0A%23TOC%20p%20%7B%0Acolor%3A%20%23bd3c00%3B%0Amax%2Dwidth%3A%2012em%3B%0Afont%2Dweight%3A%20bold%3B%0Apadding%2Dleft%3A%200%2E5em%3B%0Apadding%2Dright%3A%200%2E5em%3B%0Apadding%2Dtop%3A%200%2E05em%3B%0Apadding%2Dbottom%3A%200%2E05em%3B%20%7D%0A%23TOC%20%23TOC%5FCONTENT%20%7B%0Adisplay%3A%20none%3B%0Atext%2Dalign%3A%20left%3B%20%7D%0A%23TOC%3Ahover%20%23TOC%5FCONTENT%20%7B%0Adisplay%3A%20block%3B%0Apadding%3A%200%2E5em%3B%0Amargin%2Dtop%3A%20%2D1%2E5em%3B%20%7D%0A%23main%20%7B%0Apadding%2Dtop%3A%2030px%3B%0Abackground%2Drepeat%3A%20no%2Drepeat%3B%0Abackground%2Dimage%3A%20url%28data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAAeoAAAA4CAYAAAAy7LuqAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAFSVJREFUeNrsXQmYFdWZ%2Fd%2FrptkJiwGDsgkYxSiaUVwRogZRo6A4MSooJhgcHUeNSUxmYoQYnERHZxwnOiYTMRoSHAcXEjTGDJsaYkQmEqI0AjYgREFkh5be5h7q1NeXol6%2FV6%2BrG2jP%2Bb7%2Fe1vVrVtV9%2F3n3%2B6tTF1dnQmCIAiCcGAiq0sgCIIgCCJqQRAEQRBE1IIgCIIgohYEQRAEQUQtCIIgCIKIWhAEQRBE1IIgCIIgiKgFQRAEQUQtCIIgCIKIWhAEQRAEK%2FU%2FZMbO8D%2F2ctLXyZFODnPS28knnXRy0prbYP3R3U52ONnq5EMnH%2FB1k5MNlG1OtvD7qhZ3FUvKzDavMpt5o0aUsN%2Bg5YAF4WNA1MQQJ9c6OcPJgBzbJMF2J5tJ4O9TVjhZ7WSlk3J%2BJwiCIAhCHqIe7%2BR%2Bes1poQPl8JjfdtHTftfJ207%2B7OQtJ8tI7Bud1Og2HbS4zsnf8P4udvKMBVGY5sahTmqdrC9w%2B%2BNoqK5j3zEuPyry2F9wMpzGKIzS563wqNLdToY6WetktpMHNaQEQUQ9JWWSzoe2FCjSE51c7hH4Ciq2xZQ3SeYHZnyvrjatlro7udhJmZMSJ%2B2bqMc7SRioU5jppKIJjgEDbQLfz3fydDPcCaRlejjp52SQk9Mo1U6%2BwXPNh55OfsT3SOuc4mRJkf05xMmtfI8x%2FLIFKaBCsI3HBnaLqAVBRG30Og4EgLw%2FQxlDJQtvaI2T%2F6OyW2hB%2BHzXfu9treO7Lo4Xjhxptuw3jW2tH0mihCTxmpNM2j2mpxsaZWsKIOpWNB7qCuwPtlvOe1fKe9Yuwb7h60c5xmU3Jxc56UPjBtKbrzA%2BOjvp6JEc%2BnGnkzecrOIYyzV2sM1SJ0fROGxMagYEv51Gy6sWpIEKhX9P5khdCYKIGpjq5PYDtJ89KSdbEFKF8v2jk987%2BQMJvGK%2F9A5FPFnXxX7DnOngulK5uTGt1dDTBVHPJhk1BR53MtY7Zj58y8kF3LZTAYQLcu3qjTF41hda%2FpkGGRLobr7elMObxXafc3KEk0oSMcLUCBOP5jbPOfkXC9IoWxhF2MQ%2B%2FJSG0F1O3om0nfWMg%2FcsKJRszNit8zzkJMawf62qpa4EQUQN3OvkTCfDDoK%2Bw7s7g2L03qDQX6BUWHOGyXc7nd9riPPz%2BjuqeD0Nj9eawJP2URLjwTaEQTSSQBg3k%2FxK8uxT7XmtrXnP8p039vk7J2fxc8cc2%2BL417DNSu8cEGo%2Bhx7skhyeKK7rLBqmI5xMdvJI5PeMR5Zp3YdsTD%2FyRRWSjAmVfQvCx4Cot9DLetTJ2QfZuQygjOZ5LHDyKycvWVAM1LTIOP1Z6RymIV81e3piSxwrlXxFuOBnFoRzmwpDSNS78nj7NbZv%2BLq9R2ZlDRDaNAvSKc%2FSu%2F48CXtpyudS5RFo1Cu%2B3slV3rWNEvOnvM%2FftqDYMy4igbTESi9CIghCCyZqAOHDyyyo%2Fr7yAOlnrSVbnOUTTkZS4HnNJWn%2F2gov5EmOOscbHbqb9Xc2zor%2FTbv1NjkUOpT5QAuKtbL0cuOqipGTRgj37RS8wo4kary%2FiO2%2BZOnNkW%2FdiH13eMSYrz8vOhnn5EknX7Igj760EZ4pvPjekeMP8CIPyKsfyc9ZGpRPWXw4HKF%2FFMF9mp9hbL5CUo77H2%2BQOhOEjw9RAxtp6f%2BOXkbvxlIYFQlIsoLGwCYq1V1UaLupNE%2BO2R%2FFP9MtCG%2BjorczyRjvD6MCbEcCiVZJIxR6KWUVFeNjFhQMpRwqdM2VOj4deI7ZmlfdGaXmdKKoDrnWGyyohvdxMb%2BHUh%2FG8xwfo%2Fy%2F7%2BSvTr7cCIK2iMHUj95oOxoAV6YUvfCPlSvUizEwguRY5xl0nT0yO559KmM7KAqbFWkHq%2Fx8j%2BPvx2F8pMh%2Bn%2BTkPyIeNMZkW35Gjn8wzyvLY3%2B3gfZwv77o9XO6VJYgiKijXuyj9NRucXK15c4X5gKIcSY9ASjw1dZwyPTIHEQNQrjEgjzifbb3nFYo1a4k5J40Knqxrb587cFt%2B%2FBcJtLD%2FjkVd3qEDXI%2B3Onrnsc5k%2BT3abUKMj6XpDiKnpiRkBDqR%2F74Rp7rOJL5ZG%2F%2F%2Fk5O5%2FaPMcKQFBnvNXx%2FPa89sJJEeLvtHbL1x9M2XutS2ztE7Rt0MKBqYo4bRSeOie7e%2FavhWAk9ckQaxpKosxyDs7xrF3rck1K6T6%2FRUPKJ%2BrO8bx0Y0ZniRT425mmvnfe%2BvdSVIIioc2ElSQB5ScxDRaizTYH7gWAWJ%2BjPo%2FSAusX8hhDgD6ncfhpR7hsp5THK%2FBAq7OEWFBkdQwV4Gfs3l%2BT%2FoqUyPY256sFXOLPEedW1qazX8jQ94WG8Btfxe3weyvcwSn5J8rqD1yL0wCZ4RtbAIokaHvlURkBQCX2c1c%2BRLmf%2FPuS96xy5lnX0Km%2FwvgvTECWR8diN92MmDbK%2F5OjPGhol2Qgx4vp8nZ9B%2BmN4jIxnAGDlvb%2B3oJL9%2BRT%2FTzBC34oZg%2BG1wPkuk9oRBCFtog6xkOQ2jIpuFL2EXOhIkkwCTLH6WwtCkAMiv%2F0PZXaC9rZSYDSgEvzb9CyvpecDL2UE5QkLQqBvNvqqIlfd2fHm4UMcWS9I4z6henm8BSt7TSQBPWTB1KU2vDcgHeTjb7Mg%2FPoACRSkehXbedj2rm5OgmUeycBj%2FQFJaAP7FOb%2Bb86x%2FxU0jLL09vN5savzXWXbNweNtk%2FzPsOIQah5UWS7co7P52j0oS%2FvNtF%2FrMyLCiRdjtcvlNspdSUIIupCMY9yEgkAObTuMdvhAR7T6N1MS9D%2BHBInSPNyz%2BNC%2BBahXeS1UfCD%2BbL%2BtJxC8QoV9xGeN2o0QkDiX7OguKhxqHEcMtxx57y7zVa9ksa9mkcy%2Fk8L5v4ib30ef%2FsRSdpo5GA1q7F8jzB4T0Yc%2FtXSWZIVIe%2BRfP8b9q0h9KCRlKFBNKmJxjPO%2B1jvc1caOFGiRjoHVeVIA3yF%2B91GY64p5yvHhfERmRjNcbyVr2U0hk7xtrucYxb%2F2fBBOKU0xJ4RkQuCiDoOr1F%2BQG8JnvAJkTaxNOjP%2Bds9FixMUghRYAGKcfQakVMezrZPoCKDp7GGAk%2BowoLCm00k7xpuV8L%2BINTdxYLCM3jqyOkOjDku1iN%2FnPs1rnAHXnWd08tnfsNsgXN6K7c402JRY5cahUeMqUtfJlkCr0f6WkVjA1XeJ1KMnnR5CmPmNBpRIensjvzegV5sKa8jSGcCDYtKkuQ5Fl%2FZjftaS9JB1CDp%2BtqX2b51FLhWj8aQdQWNTJDcybyGOLemnMoXesgwnLBewZ8YdRrB6M5gXtcNjF5U0xDCWEbx5Pkc2zBAjglNQt7jP0mdCYKIOhfWkoQfJKEiJH4BlVEIfHcuPRYoRBT0bIu00537QCG1pZIHCTxApQ1j4GgqMhDvp61%2B6kqaAIGgwvpV23fFqmSorQ66e8at7kq7ZiteduJ4anmjpm5NomI%2FnAp8su07bWsDv5%2FG64h7dG8K16Y3PXo%2F5RGdNoeox%2FMkTHj5q9nP%2BfwdBlh0ilEd2%2BnP%2B49Uxecsf%2Fg7etxxHnllabh15bmfb%2FvOuYY3ejW9%2FBkWP4e6NnJ92zNCsKpAo7PGi%2Fqgj1jG9Es0GOHto%2FYD6ZxOJNt%2BNBYaWsdgIu8DgNzK21JlgiCiLgQ7SMCzSLhQjKNp7UOxtSFhoxgN06yeo4cNL2IolXQ7KvESz2ODh7jd9q6AbWrA8z690UQdclCVcxCruHLZoc6x%2FMyl7iydLVL%2BfDCNKyT1LQWlSeFJdeZ7XCOER38Vs91gj0S78PNvG3Ei7UgOx5IAWzdwT8Ljol%2F%2FQLIL1wgvib9Ie%2FYBYY7kNklTGpN4nlM59nowmgOPHsV3KIa7NWa%2FcpLiJqsv%2Bqr23pfQQMRUr%2FM4LuazzZoC%2F2Ph9biIUs6%2B%2BA8p2Uovuh89%2FIE5CBjtXeV9%2FgX%2Fe4IgiKgTAY8H%2FC8KlNyZVMBQcp%2BkErqJkg%2BtmpmkjZ786nSbzATLjGaczu7YM%2BCh4680O2FcsKoZPs%2B%2Fx%2FmSDaZ7%2BzBy4Xu0XycB%2BzteyO8zHsnCqzzLilsYA2R3H4kKhW1T2F67HKRb43mTSSaT10ReCwWiLcjhonIfYfmL%2BT1C59%2FkmPsaP98Z41lHp0kdYvVzn8%2Bgx4upZwtJ%2BHMtf1i%2BOw2Ga7z79RaP%2F4zFPxBkESNP8NqRLrorZhukDcKCORD7k1JjgtCykW2GY0A5PUzFczq9gelW%2FPN9mxqoXr7B6kO16QI5ajxtCx50jbMHqiudt%2B10dkkZnr7VkOHUgR4tPC6ESBH%2BrCSJ3kUyAlBwdD8NnF%2BQWADkiP%2BxyF5P5vFA0pju9JpHZHmsk0RGYzELjaDeAOkR1Cggb7%2FT6pcObcVxNpaGxYXedfLRmu3A%2B8e0sP%2B2%2Buenw%2FvFlLfhFuTapzYQaelAY%2BZ%2Bku5UGqmhd4588y8t91O7nrL6SvZLGSGI%2Fl%2F9qACMtg%2BkxgRBHnVaQDjxbQoKthD2G51Cux9RqmzvfGCGiq2UirtNDsNkNRUvQp%2FI982g4h7LaAC8q45Utju43UoaIMglbk7hHLJWW3uufbR9icVXHSP8%2Bm%2BMSmwlIaGvKK67jh7WUHpq95LMl9Gr3kQv7BTuB7J4IWH%2FsDxoXwtW0cL9G5zg3iQZH0mXIMW9eYz3GMS2nOceDZtX8lp8x%2BrzzZivfSKvG%2FLhPbn%2F6zRwJllQA7GO17oQoP3b%2BH4F20AuG9X2nQv4vy3isa%2FmvR3DqFSIcYyKAHhy3E%2BkwgRBRN2UgNJHZXKvhPttIyHNI2lsISFkPHL2PZBSelat6U1h1SzkLxF%2BR751A9t7hAR0H0ktbspZmMdsw2NCCc%2B1oPhsXZHXwfWrboyVtNpi2dL3IscNK9exgMlX%2BN2tHnFAUY9nP14kUYzmNZpAL9PYvydosFxfBFE%2FR0mKsxOQCe7VZxO0fSi90%2BMYrZnjXbNcwL1DFTiK8frzPoLwHiJBh%2Bt8wwC43fuP5FpnPYrQA57CNteScEsKjDDU8l6dx3HwTXrZH9JQupPXaSMND03JEgQRdZMC3ihCigjfnRTzO8gIlVbIyx5lQYFXJ3q3XyDBL6CCxSIlmKqVdHFtkPcRPD4mOw%2BK8bpDRY5Q%2BHp67e1I9ifSk0OVM0LDfyjCIxzlDrncaqvn2QflUWUORXy856X9c8TDWkQC%2FTX7MZle6c30gkPM4Ofh9ECbC3VWeFFYrSUrIMP1Rjj%2FwgSGR2saZ4igIFy%2B2PadfWAk5mLC8Fg8BcWUMyPHTIIl9MQfpDEJ4%2Bt7%2FNyLBuJNkfsrCIKIusmwkIoWedRrPM8DOcKrPS8GXvAAeryD%2BHosiSdU8uUk7IU0AqDwVudR%2FlB6CGEjXHp0DEnjoSQoUormAXfRq3mTxDeOJDmqQM%2FLeB7w7GZbJrt4zzzrN6bHEcsyEssbVNhR3MJ%2Bh8VkD1j86mOPkPifbcb7iyKsGxJsj8hGoQ%2BA%2BRkNkCUJozG3NOH5%2FjGldlDTgXoOLKd7LQ1JFLXtppc9TapLEETUzYn3qYwQxkSxE3Jw3WzvtaL%2FSgm9iPBJWX0tmJt6PL0rTGs52%2BqrhjeTiFH8tJSkt57f%2B2HD9jm8wR9bYcU6aP8CK6w4r4SE3muPQVJXt87adnKU9v1c92cbjZa%2F5DACVvO4c%2BihfyvHcUHQc61pV96KMzSSjMVWCbavaMH%2FS4z9CTQgTyNJGz3tf5faEgQR9f7CbHqFXyRxg1iwZvWsmG13UkDyCI8%2Fzu%2FbkLwP4yvC5qjePdWC3G0ZyQ55bYTKN7CNsBjNn%2BOL0OdIeuqtvGsVLu8Y5r1R6Ysw%2BA8tf87wGJ4fjvmTPdtjPvV6Z0u83%2BCCWK8WoNjv4HnlKsgK1z1vbsIpFNWW%2BmNHD1qgsG28BWkZHyMYXXnK9l0RThAEEXWzoIae9bNUSigSQuUr5gnjmZHr8niElfScl8Z4sSDUT9Bb7%2BoJina60Hs%2Bi555CITjEYJECHw7iRmvKPp6l975m%2FRqGwp5w3BACB1VxNMsfHpVtjRYWvS3%2FxS8Ng6rGrFvponuZ5ntO8UoF7IJPeqWiB4k6Bs5ZhDN%2BS4jNog2DaegNgPru8%2B0%2BBy7IAgi6iYHPNNnKMhFY3oRFqzYRRJ%2Bg1KoB1ZDb3OLNbyQCYgbjz%2F8KhVlhuSKsHO41GOSgrWhJP8%2BVK437eV1Z5398M68NEi6GDRHCPwSGjr5UgLhymQ9DqAxmE3JiNkZ06YPFEgi4oPFUcJHvGKMO%2BttT6RoDbfDurNIgUzk9qdyO9RzvEAyrzJBEETU%2BwF%2FpsCbxfQdTMe5gkoNni0qd1FQhCksjV1EBW2gYOtJHiNck%2FkSCh7DiXnIL9GT3sxjQgFjARDkiMOceR%2BS4Su299OtPHpy9sOSGc1xDZHPP4VRAOT6kSLoz9%2Bg3FckbA8RijCv3zpmTIW%2Fobjq7gLaq%2BN%2BqGofzP2LXYzH71ubRlyzahp4SVdJO5PRk3dJ0qda%2FYNCwqgL%2BodUzOctmDlwFM8XHvITJOX1kXZxn1DxjwFzHsfnufS4v8NrfapUmiCIqPcnPqJXuoAKuBtJG%2BQ9iooV3sdbVHJrSeTF5D3RBubR3kOvGLlqPLWqN73iG3k85Hw30tMPHz24it4NFG6FxeYSXZfadjFbONXtuSmOaMKlOTukdO2qaIAgR76NpNCN0YV7GTFIArTxsgWphGiaAYbAfYxOYNpakvXFe5JsVlvx%2BfQNjIrAgHi9yDZQQzCGxtcWS5YPxr59OTZx3Wtp3CFt87DnpWPNb6RZsMocnkA33wpbthYDBouiTKdReD4NynKpM0FomcjU1dXzWGbsjIP1PEBug6i4UDzWnSRXRYUPT%2Fkdq38s5qYiCLwViaQn2w5XOqsmca0hSeWfnpV1Te1wtsScKa4nFdFfQ2OgDSMFD6V0jY6mF13CfoN8lhep4EE0ZWynypq3krylILx%2BlWn8j%2FeYf%2F6fWRAEEfUBjlb0GJH%2F60cCR%2F7zUP6%2Bix76VnpAH%2FL9Zr5WUXZbOiH1SBzDOWprF5r97g6NQCE1iKcFoWWitIWeF0j2PQrmTodhWkgXEvan%2BBke%2BAB6Nzs80t5Oz3tR6kQNZz5bqtEnCIIgJPOoBUEQBEE4sJDVJRAEQRAEEbUgCIIgCCJqQRAEQRBRC4IgCIIgohYEQRAEQUQtCIIgCCJqQRAEQRBE1IIgCIIgohYEQRAEQUQtCIIgCIKIWhAEQRBE1IIgCIIgFIX%2FF2AAemcwm18PWLsAAAAASUVORK5CYII%3D%29%3B%0A%7D%0A" rel="stylesheet" type="text/css" />
  <link href="data:text/css;charset=utf-8,%2Eacco%5Ftitle%20%7B%0Aline%2Dheight%3A26px%3B%0Apadding%3A5px%200%205px%2020px%3B%0Afont%2Dsize%3A14px%3B%0Abackground%2Dcolor%3A%23cadbeb%3B%0Aborder%2Dbottom%3A3px%20solid%20%23fff%3B%0Aborder%2Dradius%3A8px%3B%0A%7D%0A%2Eacco%5Ftitle%5Fon%20%7B%0Abackground%2Dcolor%3A%23beceeb%3B%0Aborder%2Dradius%3A8px%3B%0A%7D%0A%2Eacco%5Fcontent%20%7B%0Aheight%3A0%3B%0Apadding%3A0%2010px%3B%0A%2Dwebkit%2Dtransition%3A%20all%200%2E5s%20ease%3B%0A%2Dmoz%2Dtransition%3A%20all%200%2E5s%20ease%3B%0A%2Do%2Dtransition%3A%20all%200%2E5s%20ease%3B%0Atransition%3A%20all%200%2E5s%20ease%3B%0Aoverflow%3Ahidden%3B%0A%7D%0A" rel="stylesheet" type="text/css" />
</head>
<body>

<div id="TOC">
<p>Table of Contents</p>
<div id="TOC_CONTENT">
<ul>
<li><a href="#flow-chart">flow chart</a></li>
</ul>
</div>
</div>
<div id="main">
<hr />
<h1 id="flow-chart">flow chart</h1>
<pre class="flow"><code>st=&gt;start: Start
e=&gt;end
op=&gt;operation: My Operation
cond=&gt;condition: Yes or No?

st-&gt;op-&gt;cond
cond(yes)-&gt;e
cond(no)-&gt;op</code></pre>
</div>
</body>
<script type="text/javascript">
var $ = function (selector) {
    var cl, id, alls, arrEle = [];
    if (/^\./.test(selector)) {
        cl = selector.replace(".", "");
        alls = document.getElementsByTagName("*"), l = alls.length;
        for (var i=0; i<l; i+=1) {
            var name = alls[i].className, arrName = [];
            if (name) {
                arrName = name.split(" "), lName = arrName.length;
                for (var j=0; j<lName; j+=1) {
                    if (arrName[j] === cl) {
                        arrEle.push(alls[i]);
                    }
                }
            }
        }
    } else if (/^#/.test(selector)) {
        id = selector.replace("#", "");
        var o = document.getElementById(id);
        if (o) {
            arrEle.push(o);
        }
    }
    return arrEle;
};
Array.prototype.click = function(fn) {
    var l = this.length;
    if (l) {
        for (var i=0; i<l; i+=1) {
            this[i].onclick = function() {
                fn.call(this);
            };
        }
    }
};
$(".acco_title").click(function() {
    var rel = this.lang, cl = this.className;
    if (!/on/.test(cl) && rel) {
        $("#" + rel)[0].style.height = "100%";
        this.className = "acco_title acco_title_on";
    }

    if (/on/.test(cl) && rel) {
        $("#" + rel)[0].style.height = "0";
        this.className = "acco_title";
    }
});

function openheader(obj) {
    var name = obj? obj.innerHTML: undefined;
    if (name) {
        name = name.substring(name.indexOf("</span>") + 8, name.length);
        name = name.toLowerCase();
    } else {
        console.log("name is null");
        return;
    }

    var target = document.getElementById(name);
    if (target) {
        var tag = target.tagName.toLowerCase();
        if (tag.indexOf("h3") >= 0) {
            target = target.parentNode.previousSibling;
        } else {
            target = target.parentNode;
        }

        if (target && target.className && target.className.indexOf("acco_title") >= 0) {
            target.click();
        }

        target = target.parentNode.previousSibling;
        if (target && target.className && target.className.indexOf("acco_title") >= 0) {
            target.click();
        }
    }
}

var links = document.getElementsByTagName("a");
for (var i = 0; i < links.length; i++) {
    links[i].onclick = function(){ openheader(this) };

}
</script>

<script src="data:application/javascript; charset=utf-8;base64,Ly8g4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQIFxcCi8vIOKUgiBSYXBoYcOrbCAyLjEuMCAtIEphdmFTY3JpcHQgVmVjdG9yIExpYnJhcnkgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiBcXAovLyDilJzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilKQgXFwKLy8g4pSCIENvcHlyaWdodCDCqSAyMDA4LTIwMTIgRG1pdHJ5IEJhcmFub3Zza2l5IChodHRwOi8vcmFwaGFlbGpzLmNvbSkgICAg4pSCIFxcCi8vIOKUgiBDb3B5cmlnaHQgwqkgMjAwOC0yMDEyIFNlbmNoYSBMYWJzIChodHRwOi8vc2VuY2hhLmNvbSkgICAgICAgICAgICAgIOKUgiBcXAovLyDilJzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilKQgXFwKLy8g4pSCIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgKGh0dHA6Ly9yYXBoYWVsanMuY29tL2xpY2Vuc2UuaHRtbCkgbGljZW5zZS7ilIIgXFwKLy8g4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYIFxcCgooZnVuY3Rpb24oYSl7dmFyIGI9IjAuMy40IixjPSJoYXNPd25Qcm9wZXJ0eSIsZD0vW1wuXC9dLyxlPSIqIixmPWZ1bmN0aW9uKCl7fSxnPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEtYn0saCxpLGo9e246e319LGs9ZnVuY3Rpb24oYSxiKXt2YXIgYz1qLGQ9aSxlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSxmPWsubGlzdGVuZXJzKGEpLGw9MCxtPSExLG4sbz1bXSxwPXt9LHE9W10scj1oLHM9W107aD1hLGk9MDtmb3IodmFyIHQ9MCx1PWYubGVuZ3RoO3Q8dTt0KyspInpJbmRleCJpbiBmW3RdJiYoby5wdXNoKGZbdF0uekluZGV4KSxmW3RdLnpJbmRleDwwJiYocFtmW3RdLnpJbmRleF09Zlt0XSkpO28uc29ydChnKTt3aGlsZShvW2xdPDApe249cFtvW2wrK11dLHEucHVzaChuLmFwcGx5KGIsZSkpO2lmKGkpe2k9ZDtyZXR1cm4gcX19Zm9yKHQ9MDt0PHU7dCsrKXtuPWZbdF07aWYoInpJbmRleCJpbiBuKWlmKG4uekluZGV4PT1vW2xdKXtxLnB1c2gobi5hcHBseShiLGUpKTtpZihpKWJyZWFrO2Rve2wrKyxuPXBbb1tsXV0sbiYmcS5wdXNoKG4uYXBwbHkoYixlKSk7aWYoaSlicmVha313aGlsZShuKX1lbHNlIHBbbi56SW5kZXhdPW47ZWxzZXtxLnB1c2gobi5hcHBseShiLGUpKTtpZihpKWJyZWFrfX1pPWQsaD1yO3JldHVybiBxLmxlbmd0aD9xOm51bGx9O2subGlzdGVuZXJzPWZ1bmN0aW9uKGEpe3ZhciBiPWEuc3BsaXQoZCksYz1qLGYsZyxoLGksayxsLG0sbixvPVtjXSxwPVtdO2ZvcihpPTAsaz1iLmxlbmd0aDtpPGs7aSsrKXtuPVtdO2ZvcihsPTAsbT1vLmxlbmd0aDtsPG07bCsrKXtjPW9bbF0ubixnPVtjW2JbaV1dLGNbZV1dLGg9Mjt3aGlsZShoLS0pZj1nW2hdLGYmJihuLnB1c2goZikscD1wLmNvbmNhdChmLmZ8fFtdKSl9bz1ufXJldHVybiBwfSxrLm9uPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5zcGxpdChkKSxlPWo7Zm9yKHZhciBnPTAsaD1jLmxlbmd0aDtnPGg7ZysrKWU9ZS5uLCFlW2NbZ11dJiYoZVtjW2ddXT17bjp7fX0pLGU9ZVtjW2ddXTtlLmY9ZS5mfHxbXTtmb3IoZz0wLGg9ZS5mLmxlbmd0aDtnPGg7ZysrKWlmKGUuZltnXT09YilyZXR1cm4gZjtlLmYucHVzaChiKTtyZXR1cm4gZnVuY3Rpb24oYSl7K2E9PSthJiYoYi56SW5kZXg9K2EpfX0say5zdG9wPWZ1bmN0aW9uKCl7aT0xfSxrLm50PWZ1bmN0aW9uKGEpe2lmKGEpcmV0dXJuKG5ldyBSZWdFeHAoIig/OlxcLnxcXC98XikiK2ErIig/OlxcLnxcXC98JCkiKSkudGVzdChoKTtyZXR1cm4gaH0say5vZmY9ay51bmJpbmQ9ZnVuY3Rpb24oYSxiKXt2YXIgZj1hLnNwbGl0KGQpLGcsaCxpLGssbCxtLG4sbz1bal07Zm9yKGs9MCxsPWYubGVuZ3RoO2s8bDtrKyspZm9yKG09MDttPG8ubGVuZ3RoO20rPWkubGVuZ3RoLTIpe2k9W20sMV0sZz1vW21dLm47aWYoZltrXSE9ZSlnW2Zba11dJiZpLnB1c2goZ1tmW2tdXSk7ZWxzZSBmb3IoaCBpbiBnKWdbY10oaCkmJmkucHVzaChnW2hdKTtvLnNwbGljZS5hcHBseShvLGkpfWZvcihrPTAsbD1vLmxlbmd0aDtrPGw7aysrKXtnPW9ba107d2hpbGUoZy5uKXtpZihiKXtpZihnLmYpe2ZvcihtPTAsbj1nLmYubGVuZ3RoO208bjttKyspaWYoZy5mW21dPT1iKXtnLmYuc3BsaWNlKG0sMSk7YnJlYWt9IWcuZi5sZW5ndGgmJmRlbGV0ZSBnLmZ9Zm9yKGggaW4gZy5uKWlmKGcubltjXShoKSYmZy5uW2hdLmYpe3ZhciBwPWcubltoXS5mO2ZvcihtPTAsbj1wLmxlbmd0aDttPG47bSsrKWlmKHBbbV09PWIpe3Auc3BsaWNlKG0sMSk7YnJlYWt9IXAubGVuZ3RoJiZkZWxldGUgZy5uW2hdLmZ9fWVsc2V7ZGVsZXRlIGcuZjtmb3IoaCBpbiBnLm4pZy5uW2NdKGgpJiZnLm5baF0uZiYmZGVsZXRlIGcubltoXS5mfWc9Zy5ufX19LGsub25jZT1mdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKCl7dmFyIGQ9Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ay51bmJpbmQoYSxjKTtyZXR1cm4gZH07cmV0dXJuIGsub24oYSxjKX0say52ZXJzaW9uPWIsay50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJZb3UgYXJlIHJ1bm5pbmcgRXZlICIrYn0sdHlwZW9mIG1vZHVsZSE9InVuZGVmaW5lZCImJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPWs6dHlwZW9mIGRlZmluZSE9InVuZGVmaW5lZCI/ZGVmaW5lKCJldmUiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIGt9KTphLmV2ZT1rfSkodGhpcyksZnVuY3Rpb24oKXtmdW5jdGlvbiBjRihhKXtmb3IodmFyIGI9MDtiPGN5Lmxlbmd0aDtiKyspY3lbYl0uZWwucGFwZXI9PWEmJmN5LnNwbGljZShiLS0sMSl9ZnVuY3Rpb24gY0UoYixkLGUsZixoLGkpe2U9UShlKTt2YXIgaixrLGwsbT1bXSxvLHAscSx0PWIubXMsdT17fSx2PXt9LHc9e307aWYoZilmb3IoeT0wLHo9Y3kubGVuZ3RoO3k8ejt5Kyspe3ZhciB4PWN5W3ldO2lmKHguZWwuaWQ9PWQuaWQmJnguYW5pbT09Yil7eC5wZXJjZW50IT1lPyhjeS5zcGxpY2UoeSwxKSxsPTEpOms9eCxkLmF0dHIoeC50b3RhbE9yaWdpbik7YnJlYWt9fWVsc2UgZj0rdjtmb3IodmFyIHk9MCx6PWIucGVyY2VudHMubGVuZ3RoO3k8ejt5Kyspe2lmKGIucGVyY2VudHNbeV09PWV8fGIucGVyY2VudHNbeV0+ZipiLnRvcCl7ZT1iLnBlcmNlbnRzW3ldLHA9Yi5wZXJjZW50c1t5LTFdfHwwLHQ9dC9iLnRvcCooZS1wKSxvPWIucGVyY2VudHNbeSsxXSxqPWIuYW5pbVtlXTticmVha31mJiZkLmF0dHIoYi5hbmltW2IucGVyY2VudHNbeV1dKX1pZighIWope2lmKCFrKXtmb3IodmFyIEEgaW4gailpZihqW2ddKEEpKWlmKFVbZ10oQSl8fGQucGFwZXIuY3VzdG9tQXR0cmlidXRlc1tnXShBKSl7dVtBXT1kLmF0dHIoQSksdVtBXT09bnVsbCYmKHVbQV09VFtBXSksdltBXT1qW0FdO3N3aXRjaChVW0FdKXtjYXNlIEM6d1tBXT0odltBXS11W0FdKS90O2JyZWFrO2Nhc2UiY29sb3VyIjp1W0FdPWEuZ2V0UkdCKHVbQV0pO3ZhciBCPWEuZ2V0UkdCKHZbQV0pO3dbQV09e3I6KEIuci11W0FdLnIpL3QsZzooQi5nLXVbQV0uZykvdCxiOihCLmItdVtBXS5iKS90fTticmVhaztjYXNlInBhdGgiOnZhciBEPWJSKHVbQV0sdltBXSksRT1EWzFdO3VbQV09RFswXSx3W0FdPVtdO2Zvcih5PTAsej11W0FdLmxlbmd0aDt5PHo7eSsrKXt3W0FdW3ldPVswXTtmb3IodmFyIEY9MSxHPXVbQV1beV0ubGVuZ3RoO0Y8RztGKyspd1tBXVt5XVtGXT0oRVt5XVtGXS11W0FdW3ldW0ZdKS90fWJyZWFrO2Nhc2UidHJhbnNmb3JtIjp2YXIgSD1kLl8sST1jYShIW0FdLHZbQV0pO2lmKEkpe3VbQV09SS5mcm9tLHZbQV09SS50byx3W0FdPVtdLHdbQV0ucmVhbD0hMDtmb3IoeT0wLHo9dVtBXS5sZW5ndGg7eTx6O3krKyl7d1tBXVt5XT1bdVtBXVt5XVswXV07Zm9yKEY9MSxHPXVbQV1beV0ubGVuZ3RoO0Y8RztGKyspd1tBXVt5XVtGXT0odltBXVt5XVtGXS11W0FdW3ldW0ZdKS90fX1lbHNle3ZhciBKPWQubWF0cml4fHxuZXcgY2IsSz17Xzp7dHJhbnNmb3JtOkgudHJhbnNmb3JtfSxnZXRCQm94OmZ1bmN0aW9uKCl7cmV0dXJuIGQuZ2V0QkJveCgxKX19O3VbQV09W0ouYSxKLmIsSi5jLEouZCxKLmUsSi5mXSxiJChLLHZbQV0pLHZbQV09Sy5fLnRyYW5zZm9ybSx3W0FdPVsoSy5tYXRyaXguYS1KLmEpL3QsKEsubWF0cml4LmItSi5iKS90LChLLm1hdHJpeC5jLUouYykvdCwoSy5tYXRyaXguZC1KLmQpL3QsKEsubWF0cml4LmUtSi5lKS90LChLLm1hdHJpeC5mLUouZikvdF19YnJlYWs7Y2FzZSJjc3YiOnZhciBMPXIoaltBXSlbc10oYyksTT1yKHVbQV0pW3NdKGMpO2lmKEE9PSJjbGlwLXJlY3QiKXt1W0FdPU0sd1tBXT1bXSx5PU0ubGVuZ3RoO3doaWxlKHktLSl3W0FdW3ldPShMW3ldLXVbQV1beV0pL3R9dltBXT1MO2JyZWFrO2RlZmF1bHQ6TD1bXVtuXShqW0FdKSxNPVtdW25dKHVbQV0pLHdbQV09W10seT1kLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbQV0ubGVuZ3RoO3doaWxlKHktLSl3W0FdW3ldPSgoTFt5XXx8MCktKE1beV18fDApKS90fX12YXIgTz1qLmVhc2luZyxQPWEuZWFzaW5nX2Zvcm11bGFzW09dO2lmKCFQKXtQPXIoTykubWF0Y2goTik7aWYoUCYmUC5sZW5ndGg9PTUpe3ZhciBSPVA7UD1mdW5jdGlvbihhKXtyZXR1cm4gY0MoYSwrUlsxXSwrUlsyXSwrUlszXSwrUls0XSx0KX19ZWxzZSBQPWJmfXE9ai5zdGFydHx8Yi5zdGFydHx8KyhuZXcgRGF0ZSkseD17YW5pbTpiLHBlcmNlbnQ6ZSx0aW1lc3RhbXA6cSxzdGFydDpxKyhiLmRlbHx8MCksc3RhdHVzOjAsaW5pdHN0YXR1czpmfHwwLHN0b3A6ITEsbXM6dCxlYXNpbmc6UCxmcm9tOnUsZGlmZjp3LHRvOnYsZWw6ZCxjYWxsYmFjazpqLmNhbGxiYWNrLHByZXY6cCxuZXh0Om8scmVwZWF0Oml8fGIudGltZXMsb3JpZ2luOmQuYXR0cigpLHRvdGFsT3JpZ2luOmh9LGN5LnB1c2goeCk7aWYoZiYmIWsmJiFsKXt4LnN0b3A9ITAseC5zdGFydD1uZXcgRGF0ZS10KmY7aWYoY3kubGVuZ3RoPT0xKXJldHVybiBjQSgpfWwmJih4LnN0YXJ0PW5ldyBEYXRlLXgubXMqZiksY3kubGVuZ3RoPT0xJiZjeihjQSl9ZWxzZSBrLmluaXRzdGF0dXM9ZixrLnN0YXJ0PW5ldyBEYXRlLWsubXMqZjtldmUoInJhcGhhZWwuYW5pbS5zdGFydC4iK2QuaWQsZCxiKX19ZnVuY3Rpb24gY0QoYSxiKXt2YXIgYz1bXSxkPXt9O3RoaXMubXM9Yix0aGlzLnRpbWVzPTE7aWYoYSl7Zm9yKHZhciBlIGluIGEpYVtnXShlKSYmKGRbUShlKV09YVtlXSxjLnB1c2goUShlKSkpO2Muc29ydChiZCl9dGhpcy5hbmltPWQsdGhpcy50b3A9Y1tjLmxlbmd0aC0xXSx0aGlzLnBlcmNlbnRzPWN9ZnVuY3Rpb24gY0MoYSxiLGMsZCxlLGYpe2Z1bmN0aW9uIG8oYSxiKXt2YXIgYyxkLGUsZixqLGs7Zm9yKGU9YSxrPTA7azw4O2srKyl7Zj1tKGUpLWE7aWYoeihmKTxiKXJldHVybiBlO2o9KDMqaSplKzIqaCkqZStnO2lmKHooaik8MWUtNilicmVhaztlPWUtZi9qfWM9MCxkPTEsZT1hO2lmKGU8YylyZXR1cm4gYztpZihlPmQpcmV0dXJuIGQ7d2hpbGUoYzxkKXtmPW0oZSk7aWYoeihmLWEpPGIpcmV0dXJuIGU7YT5mP2M9ZTpkPWUsZT0oZC1jKS8yK2N9cmV0dXJuIGV9ZnVuY3Rpb24gbihhLGIpe3ZhciBjPW8oYSxiKTtyZXR1cm4oKGwqYytrKSpjK2opKmN9ZnVuY3Rpb24gbShhKXtyZXR1cm4oKGkqYStoKSphK2cpKmF9dmFyIGc9MypiLGg9MyooZC1iKS1nLGk9MS1nLWgsaj0zKmMsaz0zKihlLWMpLWosbD0xLWotaztyZXR1cm4gbihhLDEvKDIwMCpmKSl9ZnVuY3Rpb24gY3EoKXtyZXR1cm4gdGhpcy54K3ErdGhpcy55K3ErdGhpcy53aWR0aCsiIMOXICIrdGhpcy5oZWlnaHR9ZnVuY3Rpb24gY3AoKXtyZXR1cm4gdGhpcy54K3ErdGhpcy55fWZ1bmN0aW9uIGNiKGEsYixjLGQsZSxmKXthIT1udWxsPyh0aGlzLmE9K2EsdGhpcy5iPStiLHRoaXMuYz0rYyx0aGlzLmQ9K2QsdGhpcy5lPStlLHRoaXMuZj0rZik6KHRoaXMuYT0xLHRoaXMuYj0wLHRoaXMuYz0wLHRoaXMuZD0xLHRoaXMuZT0wLHRoaXMuZj0wKX1mdW5jdGlvbiBiSChiLGMsZCl7Yj1hLl9wYXRoMmN1cnZlKGIpLGM9YS5fcGF0aDJjdXJ2ZShjKTt2YXIgZSxmLGcsaCxpLGosayxsLG0sbixvPWQ/MDpbXTtmb3IodmFyIHA9MCxxPWIubGVuZ3RoO3A8cTtwKyspe3ZhciByPWJbcF07aWYoclswXT09Ik0iKWU9aT1yWzFdLGY9aj1yWzJdO2Vsc2V7clswXT09IkMiPyhtPVtlLGZdLmNvbmNhdChyLnNsaWNlKDEpKSxlPW1bNl0sZj1tWzddKToobT1bZSxmLGUsZixpLGosaSxqXSxlPWksZj1qKTtmb3IodmFyIHM9MCx0PWMubGVuZ3RoO3M8dDtzKyspe3ZhciB1PWNbc107aWYodVswXT09Ik0iKWc9az11WzFdLGg9bD11WzJdO2Vsc2V7dVswXT09IkMiPyhuPVtnLGhdLmNvbmNhdCh1LnNsaWNlKDEpKSxnPW5bNl0saD1uWzddKToobj1bZyxoLGcsaCxrLGwsayxsXSxnPWssaD1sKTt2YXIgdj1iRyhtLG4sZCk7aWYoZClvKz12O2Vsc2V7Zm9yKHZhciB3PTAseD12Lmxlbmd0aDt3PHg7dysrKXZbd10uc2VnbWVudDE9cCx2W3ddLnNlZ21lbnQyPXMsdlt3XS5iZXoxPW0sdlt3XS5iZXoyPW47bz1vLmNvbmNhdCh2KX19fX19cmV0dXJuIG99ZnVuY3Rpb24gYkcoYixjLGQpe3ZhciBlPWEuYmV6aWVyQkJveChiKSxmPWEuYmV6aWVyQkJveChjKTtpZighYS5pc0JCb3hJbnRlcnNlY3QoZSxmKSlyZXR1cm4gZD8wOltdO3ZhciBnPWJCLmFwcGx5KDAsYiksaD1iQi5hcHBseSgwLGMpLGk9fn4oZy81KSxqPX5+KGgvNSksaz1bXSxsPVtdLG09e30sbj1kPzA6W107Zm9yKHZhciBvPTA7bzxpKzE7bysrKXt2YXIgcD1hLmZpbmREb3RzQXRTZWdtZW50LmFwcGx5KGEsYi5jb25jYXQoby9pKSk7ay5wdXNoKHt4OnAueCx5OnAueSx0Om8vaX0pfWZvcihvPTA7bzxqKzE7bysrKXA9YS5maW5kRG90c0F0U2VnbWVudC5hcHBseShhLGMuY29uY2F0KG8vaikpLGwucHVzaCh7eDpwLngseTpwLnksdDpvL2p9KTtmb3Iobz0wO288aTtvKyspZm9yKHZhciBxPTA7cTxqO3ErKyl7dmFyIHI9a1tvXSxzPWtbbysxXSx0PWxbcV0sdT1sW3ErMV0sdj16KHMueC1yLngpPC4wMDE/InkiOiJ4Iix3PXoodS54LXQueCk8LjAwMT8ieSI6IngiLHg9YkQoci54LHIueSxzLngscy55LHQueCx0LnksdS54LHUueSk7aWYoeCl7aWYobVt4LngudG9GaXhlZCg0KV09PXgueS50b0ZpeGVkKDQpKWNvbnRpbnVlO21beC54LnRvRml4ZWQoNCldPXgueS50b0ZpeGVkKDQpO3ZhciB5PXIudCt6KCh4W3ZdLXJbdl0pLyhzW3ZdLXJbdl0pKSoocy50LXIudCksQT10LnQreigoeFt3XS10W3ddKS8odVt3XS10W3ddKSkqKHUudC10LnQpO3k+PTAmJnk8PTEmJkE+PTAmJkE8PTEmJihkP24rKzpuLnB1c2goe3g6eC54LHk6eC55LHQxOnksdDI6QX0pKX19cmV0dXJuIG59ZnVuY3Rpb24gYkYoYSxiKXtyZXR1cm4gYkcoYSxiLDEpfWZ1bmN0aW9uIGJFKGEsYil7cmV0dXJuIGJHKGEsYil9ZnVuY3Rpb24gYkQoYSxiLGMsZCxlLGYsZyxoKXtpZighKHgoYSxjKTx5KGUsZyl8fHkoYSxjKT54KGUsZyl8fHgoYixkKTx5KGYsaCl8fHkoYixkKT54KGYsaCkpKXt2YXIgaT0oYSpkLWIqYykqKGUtZyktKGEtYykqKGUqaC1mKmcpLGo9KGEqZC1iKmMpKihmLWgpLShiLWQpKihlKmgtZipnKSxrPShhLWMpKihmLWgpLShiLWQpKihlLWcpO2lmKCFrKXJldHVybjt2YXIgbD1pL2ssbT1qL2ssbj0rbC50b0ZpeGVkKDIpLG89K20udG9GaXhlZCgyKTtpZihuPCt5KGEsYykudG9GaXhlZCgyKXx8bj4reChhLGMpLnRvRml4ZWQoMil8fG48K3koZSxnKS50b0ZpeGVkKDIpfHxuPit4KGUsZykudG9GaXhlZCgyKXx8bzwreShiLGQpLnRvRml4ZWQoMil8fG8+K3goYixkKS50b0ZpeGVkKDIpfHxvPCt5KGYsaCkudG9GaXhlZCgyKXx8bz4reChmLGgpLnRvRml4ZWQoMikpcmV0dXJuO3JldHVybnt4OmwseTptfX19ZnVuY3Rpb24gYkMoYSxiLGMsZCxlLGYsZyxoLGkpe2lmKCEoaTwwfHxiQihhLGIsYyxkLGUsZixnLGgpPGkpKXt2YXIgaj0xLGs9ai8yLGw9ai1rLG0sbj0uMDE7bT1iQihhLGIsYyxkLGUsZixnLGgsbCk7d2hpbGUoeihtLWkpPm4pay89MixsKz0obTxpPzE6LTEpKmssbT1iQihhLGIsYyxkLGUsZixnLGgsbCk7cmV0dXJuIGx9fWZ1bmN0aW9uIGJCKGEsYixjLGQsZSxmLGcsaCxpKXtpPT1udWxsJiYoaT0xKSxpPWk+MT8xOmk8MD8wOmk7dmFyIGo9aS8yLGs9MTIsbD1bLTAuMTI1MiwuMTI1MiwtMC4zNjc4LC4zNjc4LC0wLjU4NzMsLjU4NzMsLTAuNzY5OSwuNzY5OSwtMC45MDQxLC45MDQxLC0wLjk4MTYsLjk4MTZdLG09Wy4yNDkxLC4yNDkxLC4yMzM1LC4yMzM1LC4yMDMyLC4yMDMyLC4xNjAxLC4xNjAxLC4xMDY5LC4xMDY5LC4wNDcyLC4wNDcyXSxuPTA7Zm9yKHZhciBvPTA7bzxrO28rKyl7dmFyIHA9aipsW29dK2oscT1iQShwLGEsYyxlLGcpLHI9YkEocCxiLGQsZixoKSxzPXEqcStyKnI7bis9bVtvXSp3LnNxcnQocyl9cmV0dXJuIGoqbn1mdW5jdGlvbiBiQShhLGIsYyxkLGUpe3ZhciBmPS0zKmIrOSpjLTkqZCszKmUsZz1hKmYrNipiLTEyKmMrNipkO3JldHVybiBhKmctMypiKzMqY31mdW5jdGlvbiBieShhLGIpe3ZhciBjPVtdO2Zvcih2YXIgZD0wLGU9YS5sZW5ndGg7ZS0yKiFiPmQ7ZCs9Mil7dmFyIGY9W3t4OithW2QtMl0seTorYVtkLTFdfSx7eDorYVtkXSx5OithW2QrMV19LHt4OithW2QrMl0seTorYVtkKzNdfSx7eDorYVtkKzRdLHk6K2FbZCs1XX1dO2I/ZD9lLTQ9PWQ/ZlszXT17eDorYVswXSx5OithWzFdfTplLTI9PWQmJihmWzJdPXt4OithWzBdLHk6K2FbMV19LGZbM109e3g6K2FbMl0seTorYVszXX0pOmZbMF09e3g6K2FbZS0yXSx5OithW2UtMV19OmUtND09ZD9mWzNdPWZbMl06ZHx8KGZbMF09e3g6K2FbZF0seTorYVtkKzFdfSksYy5wdXNoKFsiQyIsKC1mWzBdLngrNipmWzFdLngrZlsyXS54KS82LCgtZlswXS55KzYqZlsxXS55K2ZbMl0ueSkvNiwoZlsxXS54KzYqZlsyXS54LWZbM10ueCkvNiwoZlsxXS55KzYqZlsyXS55LWZbM10ueSkvNixmWzJdLngsZlsyXS55XSl9cmV0dXJuIGN9ZnVuY3Rpb24gYngoKXtyZXR1cm4gdGhpcy5oZXh9ZnVuY3Rpb24gYnYoYSxiLGMpe2Z1bmN0aW9uIGQoKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCksZj1lLmpvaW4oIuKQgCIpLGg9ZC5jYWNoZT1kLmNhY2hlfHx7fSxpPWQuY291bnQ9ZC5jb3VudHx8W107aWYoaFtnXShmKSl7YnUoaSxmKTtyZXR1cm4gYz9jKGhbZl0pOmhbZl19aS5sZW5ndGg+PTFlMyYmZGVsZXRlIGhbaS5zaGlmdCgpXSxpLnB1c2goZiksaFtmXT1hW21dKGIsZSk7cmV0dXJuIGM/YyhoW2ZdKTpoW2ZdfXJldHVybiBkfWZ1bmN0aW9uIGJ1KGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtjPGQ7YysrKWlmKGFbY109PT1iKXJldHVybiBhLnB1c2goYS5zcGxpY2UoYywxKVswXSl9ZnVuY3Rpb24gYm0oYSl7aWYoT2JqZWN0KGEpIT09YSlyZXR1cm4gYTt2YXIgYj1uZXcgYS5jb25zdHJ1Y3Rvcjtmb3IodmFyIGMgaW4gYSlhW2ddKGMpJiYoYltjXT1ibShhW2NdKSk7cmV0dXJuIGJ9ZnVuY3Rpb24gYShjKXtpZihhLmlzKGMsImZ1bmN0aW9uIikpcmV0dXJuIGI/YygpOmV2ZS5vbigicmFwaGFlbC5ET01sb2FkIixjKTtpZihhLmlzKGMsRSkpcmV0dXJuIGEuX2VuZ2luZS5jcmVhdGVbbV0oYSxjLnNwbGljZSgwLDMrYS5pcyhjWzBdLEMpKSkuYWRkKGMpO3ZhciBkPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTtpZihhLmlzKGRbZC5sZW5ndGgtMV0sImZ1bmN0aW9uIikpe3ZhciBlPWQucG9wKCk7cmV0dXJuIGI/ZS5jYWxsKGEuX2VuZ2luZS5jcmVhdGVbbV0oYSxkKSk6ZXZlLm9uKCJyYXBoYWVsLkRPTWxvYWQiLGZ1bmN0aW9uKCl7ZS5jYWxsKGEuX2VuZ2luZS5jcmVhdGVbbV0oYSxkKSl9KX1yZXR1cm4gYS5fZW5naW5lLmNyZWF0ZVttXShhLGFyZ3VtZW50cyl9YS52ZXJzaW9uPSIyLjEuMCIsYS5ldmU9ZXZlO3ZhciBiLGM9L1ssIF0rLyxkPXtjaXJjbGU6MSxyZWN0OjEscGF0aDoxLGVsbGlwc2U6MSx0ZXh0OjEsaW1hZ2U6MX0sZT0vXHsoXGQrKVx9L2csZj0icHJvdG90eXBlIixnPSJoYXNPd25Qcm9wZXJ0eSIsaD17ZG9jOmRvY3VtZW50LHdpbjp3aW5kb3d9LGk9e3dhczpPYmplY3QucHJvdG90eXBlW2ddLmNhbGwoaC53aW4sIlJhcGhhZWwiKSxpczpoLndpbi5SYXBoYWVsfSxqPWZ1bmN0aW9uKCl7dGhpcy5jYT10aGlzLmN1c3RvbUF0dHJpYnV0ZXM9e319LGssbD0iYXBwZW5kQ2hpbGQiLG09ImFwcGx5IixuPSJjb25jYXQiLG89ImNyZWF0ZVRvdWNoImluIGguZG9jLHA9IiIscT0iICIscj1TdHJpbmcscz0ic3BsaXQiLHQ9ImNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZW1vdmUgbW91c2VvdXQgbW91c2VvdmVyIG1vdXNldXAgdG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgdG91Y2hjYW5jZWwiW3NdKHEpLHU9e21vdXNlZG93bjoidG91Y2hzdGFydCIsbW91c2Vtb3ZlOiJ0b3VjaG1vdmUiLG1vdXNldXA6InRvdWNoZW5kIn0sdj1yLnByb3RvdHlwZS50b0xvd2VyQ2FzZSx3PU1hdGgseD13Lm1heCx5PXcubWluLHo9dy5hYnMsQT13LnBvdyxCPXcuUEksQz0ibnVtYmVyIixEPSJzdHJpbmciLEU9ImFycmF5IixGPSJ0b1N0cmluZyIsRz0iZmlsbCIsSD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLEk9e30sSj0icHVzaCIsSz1hLl9JU1VSTD0vXnVybFwoWyciXT8oW15cKV0rPylbJyJdP1wpJC9pLEw9L15ccyooKCNbYS1mXGRdezZ9KXwoI1thLWZcZF17M30pfHJnYmE/XChccyooW1xkXC5dKyU/XHMqLFxzKltcZFwuXSslP1xzKixccypbXGRcLl0rJT8oPzpccyosXHMqW1xkXC5dKyU/KT8pXHMqXCl8aHNiYT9cKFxzKihbXGRcLl0rKD86ZGVnfFx4YjB8JSk/XHMqLFxzKltcZFwuXSslP1xzKixccypbXGRcLl0rKD86JT9ccyosXHMqW1xkXC5dKyk/KSU/XHMqXCl8aHNsYT9cKFxzKihbXGRcLl0rKD86ZGVnfFx4YjB8JSk/XHMqLFxzKltcZFwuXSslP1xzKixccypbXGRcLl0rKD86JT9ccyosXHMqW1xkXC5dKyk/KSU/XHMqXCkpXHMqJC9pLE09e05hTjoxLEluZmluaXR5OjEsIi1JbmZpbml0eSI6MX0sTj0vXig/OmN1YmljLSk/YmV6aWVyXCgoW14sXSspLChbXixdKyksKFteLF0rKSwoW15cKV0rKVwpLyxPPXcucm91bmQsUD0ic2V0QXR0cmlidXRlIixRPXBhcnNlRmxvYXQsUj1wYXJzZUludCxTPXIucHJvdG90eXBlLnRvVXBwZXJDYXNlLFQ9YS5fYXZhaWxhYmxlQXR0cnM9eyJhcnJvdy1lbmQiOiJub25lIiwiYXJyb3ctc3RhcnQiOiJub25lIixibHVyOjAsImNsaXAtcmVjdCI6IjAgMCAxZTkgMWU5IixjdXJzb3I6ImRlZmF1bHQiLGN4OjAsY3k6MCxmaWxsOiIjZmZmIiwiZmlsbC1vcGFjaXR5IjoxLGZvbnQ6JzEwcHggIkFyaWFsIicsImZvbnQtZmFtaWx5IjonIkFyaWFsIicsImZvbnQtc2l6ZSI6IjEwIiwiZm9udC1zdHlsZSI6Im5vcm1hbCIsImZvbnQtd2VpZ2h0Ijo0MDAsZ3JhZGllbnQ6MCxoZWlnaHQ6MCxocmVmOiJodHRwOi8vcmFwaGFlbGpzLmNvbS8iLCJsZXR0ZXItc3BhY2luZyI6MCxvcGFjaXR5OjEscGF0aDoiTTAsMCIscjowLHJ4OjAscnk6MCxzcmM6IiIsc3Ryb2tlOiIjMDAwIiwic3Ryb2tlLWRhc2hhcnJheSI6IiIsInN0cm9rZS1saW5lY2FwIjoiYnV0dCIsInN0cm9rZS1saW5lam9pbiI6ImJ1dHQiLCJzdHJva2UtbWl0ZXJsaW1pdCI6MCwic3Ryb2tlLW9wYWNpdHkiOjEsInN0cm9rZS13aWR0aCI6MSx0YXJnZXQ6Il9ibGFuayIsInRleHQtYW5jaG9yIjoibWlkZGxlIix0aXRsZToiUmFwaGFlbCIsdHJhbnNmb3JtOiIiLHdpZHRoOjAseDowLHk6MH0sVT1hLl9hdmFpbGFibGVBbmltQXR0cnM9e2JsdXI6QywiY2xpcC1yZWN0IjoiY3N2IixjeDpDLGN5OkMsZmlsbDoiY29sb3VyIiwiZmlsbC1vcGFjaXR5IjpDLCJmb250LXNpemUiOkMsaGVpZ2h0OkMsb3BhY2l0eTpDLHBhdGg6InBhdGgiLHI6QyxyeDpDLHJ5OkMsc3Ryb2tlOiJjb2xvdXIiLCJzdHJva2Utb3BhY2l0eSI6Qywic3Ryb2tlLXdpZHRoIjpDLHRyYW5zZm9ybToidHJhbnNmb3JtIix3aWR0aDpDLHg6Qyx5OkN9LFY9L1tceDA5XHgwYVx4MGJceDBjXHgwZFx4MjBceGEwXHUxNjgwXHUxODBlXHUyMDAwXHUyMDAxXHUyMDAyXHUyMDAzXHUyMDA0XHUyMDA1XHUyMDA2XHUyMDA3XHUyMDA4XHUyMDA5XHUyMDBhXHUyMDJmXHUyMDVmXHUzMDAwXHUyMDI4XHUyMDI5XS9nLFc9L1tceDA5XHgwYVx4MGJceDBjXHgwZFx4MjBceGEwXHUxNjgwXHUxODBlXHUyMDAwXHUyMDAxXHUyMDAyXHUyMDAzXHUyMDA0XHUyMDA1XHUyMDA2XHUyMDA3XHUyMDA4XHUyMDA5XHUyMDBhXHUyMDJmXHUyMDVmXHUzMDAwXHUyMDI4XHUyMDI5XSosW1x4MDlceDBhXHgwYlx4MGNceDBkXHgyMFx4YTBcdTE2ODBcdTE4MGVcdTIwMDBcdTIwMDFcdTIwMDJcdTIwMDNcdTIwMDRcdTIwMDVcdTIwMDZcdTIwMDdcdTIwMDhcdTIwMDlcdTIwMGFcdTIwMmZcdTIwNWZcdTMwMDBcdTIwMjhcdTIwMjldKi8sWD17aHM6MSxyZzoxfSxZPS8sPyhbYWNobG1xcnN0dnh6XSksPy9naSxaPS8oW2FjaGxtcnFzdHZ6XSlbXHgwOVx4MGFceDBiXHgwY1x4MGRceDIwXHhhMFx1MTY4MFx1MTgwZVx1MjAwMFx1MjAwMVx1MjAwMlx1MjAwM1x1MjAwNFx1MjAwNVx1MjAwNlx1MjAwN1x1MjAwOFx1MjAwOVx1MjAwYVx1MjAyZlx1MjA1Zlx1MzAwMFx1MjAyOFx1MjAyOSxdKigoLT9cZCpcLj9cZCooPzplW1wtK10/XGQrKT9bXHgwOVx4MGFceDBiXHgwY1x4MGRceDIwXHhhMFx1MTY4MFx1MTgwZVx1MjAwMFx1MjAwMVx1MjAwMlx1MjAwM1x1MjAwNFx1MjAwNVx1MjAwNlx1MjAwN1x1MjAwOFx1MjAwOVx1MjAwYVx1MjAyZlx1MjA1Zlx1MzAwMFx1MjAyOFx1MjAyOV0qLD9bXHgwOVx4MGFceDBiXHgwY1x4MGRceDIwXHhhMFx1MTY4MFx1MTgwZVx1MjAwMFx1MjAwMVx1MjAwMlx1MjAwM1x1MjAwNFx1MjAwNVx1MjAwNlx1MjAwN1x1MjAwOFx1MjAwOVx1MjAwYVx1MjAyZlx1MjA1Zlx1MzAwMFx1MjAyOFx1MjAyOV0qKSspL2lnLCQ9LyhbcnN0bV0pW1x4MDlceDBhXHgwYlx4MGNceDBkXHgyMFx4YTBcdTE2ODBcdTE4MGVcdTIwMDBcdTIwMDFcdTIwMDJcdTIwMDNcdTIwMDRcdTIwMDVcdTIwMDZcdTIwMDdcdTIwMDhcdTIwMDlcdTIwMGFcdTIwMmZcdTIwNWZcdTMwMDBcdTIwMjhcdTIwMjksXSooKC0/XGQqXC4/XGQqKD86ZVtcLStdP1xkKyk/W1x4MDlceDBhXHgwYlx4MGNceDBkXHgyMFx4YTBcdTE2ODBcdTE4MGVcdTIwMDBcdTIwMDFcdTIwMDJcdTIwMDNcdTIwMDRcdTIwMDVcdTIwMDZcdTIwMDdcdTIwMDhcdTIwMDlcdTIwMGFcdTIwMmZcdTIwNWZcdTMwMDBcdTIwMjhcdTIwMjldKiw/W1x4MDlceDBhXHgwYlx4MGNceDBkXHgyMFx4YTBcdTE2ODBcdTE4MGVcdTIwMDBcdTIwMDFcdTIwMDJcdTIwMDNcdTIwMDRcdTIwMDVcdTIwMDZcdTIwMDdcdTIwMDhcdTIwMDlcdTIwMGFcdTIwMmZcdTIwNWZcdTMwMDBcdTIwMjhcdTIwMjldKikrKS9pZyxfPS8oLT9cZCpcLj9cZCooPzplW1wtK10/XGQrKT8pW1x4MDlceDBhXHgwYlx4MGNceDBkXHgyMFx4YTBcdTE2ODBcdTE4MGVcdTIwMDBcdTIwMDFcdTIwMDJcdTIwMDNcdTIwMDRcdTIwMDVcdTIwMDZcdTIwMDdcdTIwMDhcdTIwMDlcdTIwMGFcdTIwMmZcdTIwNWZcdTMwMDBcdTIwMjhcdTIwMjldKiw/W1x4MDlceDBhXHgwYlx4MGNceDBkXHgyMFx4YTBcdTE2ODBcdTE4MGVcdTIwMDBcdTIwMDFcdTIwMDJcdTIwMDNcdTIwMDRcdTIwMDVcdTIwMDZcdTIwMDdcdTIwMDhcdTIwMDlcdTIwMGFcdTIwMmZcdTIwNWZcdTMwMDBcdTIwMjhcdTIwMjldKi9pZyxiYT1hLl9yYWRpYWxfZ3JhZGllbnQ9L15yKD86XCgoW14sXSs/KVtceDA5XHgwYVx4MGJceDBjXHgwZFx4MjBceGEwXHUxNjgwXHUxODBlXHUyMDAwXHUyMDAxXHUyMDAyXHUyMDAzXHUyMDA0XHUyMDA1XHUyMDA2XHUyMDA3XHUyMDA4XHUyMDA5XHUyMDBhXHUyMDJmXHUyMDVmXHUzMDAwXHUyMDI4XHUyMDI5XSosW1x4MDlceDBhXHgwYlx4MGNceDBkXHgyMFx4YTBcdTE2ODBcdTE4MGVcdTIwMDBcdTIwMDFcdTIwMDJcdTIwMDNcdTIwMDRcdTIwMDVcdTIwMDZcdTIwMDdcdTIwMDhcdTIwMDlcdTIwMGFcdTIwMmZcdTIwNWZcdTMwMDBcdTIwMjhcdTIwMjldKihbXlwpXSs/KVwpKT8vLGJiPXt9LGJjPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEua2V5LWIua2V5fSxiZD1mdW5jdGlvbihhLGIpe3JldHVybiBRKGEpLVEoYil9LGJlPWZ1bmN0aW9uKCl7fSxiZj1mdW5jdGlvbihhKXtyZXR1cm4gYX0sYmc9YS5fcmVjdFBhdGg9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihlKXJldHVybltbIk0iLGErZSxiXSxbImwiLGMtZSoyLDBdLFsiYSIsZSxlLDAsMCwxLGUsZV0sWyJsIiwwLGQtZSoyXSxbImEiLGUsZSwwLDAsMSwtZSxlXSxbImwiLGUqMi1jLDBdLFsiYSIsZSxlLDAsMCwxLC1lLC1lXSxbImwiLDAsZSoyLWRdLFsiYSIsZSxlLDAsMCwxLGUsLWVdLFsieiJdXTtyZXR1cm5bWyJNIixhLGJdLFsibCIsYywwXSxbImwiLDAsZF0sWyJsIiwtYywwXSxbInoiXV19LGJoPWZ1bmN0aW9uKGEsYixjLGQpe2Q9PW51bGwmJihkPWMpO3JldHVybltbIk0iLGEsYl0sWyJtIiwwLC1kXSxbImEiLGMsZCwwLDEsMSwwLDIqZF0sWyJhIixjLGQsMCwxLDEsMCwtMipkXSxbInoiXV19LGJpPWEuX2dldFBhdGg9e3BhdGg6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuYXR0cigicGF0aCIpfSxjaXJjbGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5hdHRycztyZXR1cm4gYmgoYi5jeCxiLmN5LGIucil9LGVsbGlwc2U6ZnVuY3Rpb24oYSl7dmFyIGI9YS5hdHRycztyZXR1cm4gYmgoYi5jeCxiLmN5LGIucngsYi5yeSl9LHJlY3Q6ZnVuY3Rpb24oYSl7dmFyIGI9YS5hdHRycztyZXR1cm4gYmcoYi54LGIueSxiLndpZHRoLGIuaGVpZ2h0LGIucil9LGltYWdlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuYXR0cnM7cmV0dXJuIGJnKGIueCxiLnksYi53aWR0aCxiLmhlaWdodCl9LHRleHQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5fZ2V0QkJveCgpO3JldHVybiBiZyhiLngsYi55LGIud2lkdGgsYi5oZWlnaHQpfX0sYmo9YS5tYXBQYXRoPWZ1bmN0aW9uKGEsYil7aWYoIWIpcmV0dXJuIGE7dmFyIGMsZCxlLGYsZyxoLGk7YT1iUihhKTtmb3IoZT0wLGc9YS5sZW5ndGg7ZTxnO2UrKyl7aT1hW2VdO2ZvcihmPTEsaD1pLmxlbmd0aDtmPGg7Zis9MiljPWIueChpW2ZdLGlbZisxXSksZD1iLnkoaVtmXSxpW2YrMV0pLGlbZl09YyxpW2YrMV09ZH1yZXR1cm4gYX07YS5fZz1oLGEudHlwZT1oLndpbi5TVkdBbmdsZXx8aC5kb2MuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZSgiaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNCYXNpY1N0cnVjdHVyZSIsIjEuMSIpPyJTVkciOiJWTUwiO2lmKGEudHlwZT09IlZNTCIpe3ZhciBiaz1oLmRvYy5jcmVhdGVFbGVtZW50KCJkaXYiKSxibDtiay5pbm5lckhUTUw9Jzx2OnNoYXBlIGFkaj0iMSIvPicsYmw9YmsuZmlyc3RDaGlsZCxibC5zdHlsZS5iZWhhdmlvcj0idXJsKCNkZWZhdWx0I1ZNTCkiO2lmKCFibHx8dHlwZW9mIGJsLmFkaiE9Im9iamVjdCIpcmV0dXJuIGEudHlwZT1wO2JrPW51bGx9YS5zdmc9IShhLnZtbD1hLnR5cGU9PSJWTUwiKSxhLl9QYXBlcj1qLGEuZm49az1qLnByb3RvdHlwZT1hLnByb3RvdHlwZSxhLl9pZD0wLGEuX29pZD0wLGEuaXM9ZnVuY3Rpb24oYSxiKXtiPXYuY2FsbChiKTtpZihiPT0iZmluaXRlIilyZXR1cm4hTVtnXSgrYSk7aWYoYj09ImFycmF5IilyZXR1cm4gYSBpbnN0YW5jZW9mIEFycmF5O3JldHVybiBiPT0ibnVsbCImJmE9PT1udWxsfHxiPT10eXBlb2YgYSYmYSE9PW51bGx8fGI9PSJvYmplY3QiJiZhPT09T2JqZWN0KGEpfHxiPT0iYXJyYXkiJiZBcnJheS5pc0FycmF5JiZBcnJheS5pc0FycmF5KGEpfHxILmNhbGwoYSkuc2xpY2UoOCwtMSkudG9Mb3dlckNhc2UoKT09Yn0sYS5hbmdsZT1mdW5jdGlvbihiLGMsZCxlLGYsZyl7aWYoZj09bnVsbCl7dmFyIGg9Yi1kLGk9Yy1lO2lmKCFoJiYhaSlyZXR1cm4gMDtyZXR1cm4oMTgwK3cuYXRhbjIoLWksLWgpKjE4MC9CKzM2MCklMzYwfXJldHVybiBhLmFuZ2xlKGIsYyxmLGcpLWEuYW5nbGUoZCxlLGYsZyl9LGEucmFkPWZ1bmN0aW9uKGEpe3JldHVybiBhJTM2MCpCLzE4MH0sYS5kZWc9ZnVuY3Rpb24oYSl7cmV0dXJuIGEqMTgwL0IlMzYwfSxhLnNuYXBUbz1mdW5jdGlvbihiLGMsZCl7ZD1hLmlzKGQsImZpbml0ZSIpP2Q6MTA7aWYoYS5pcyhiLEUpKXt2YXIgZT1iLmxlbmd0aDt3aGlsZShlLS0paWYoeihiW2VdLWMpPD1kKXJldHVybiBiW2VdfWVsc2V7Yj0rYjt2YXIgZj1jJWI7aWYoZjxkKXJldHVybiBjLWY7aWYoZj5iLWQpcmV0dXJuIGMtZitifXJldHVybiBjfTt2YXIgYm49YS5jcmVhdGVVVUlEPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuInh4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCIucmVwbGFjZShhLGIpLnRvVXBwZXJDYXNlKCl9fSgvW3h5XS9nLGZ1bmN0aW9uKGEpe3ZhciBiPXcucmFuZG9tKCkqMTZ8MCxjPWE9PSJ4Ij9iOmImM3w4O3JldHVybiBjLnRvU3RyaW5nKDE2KX0pO2Euc2V0V2luZG93PWZ1bmN0aW9uKGIpe2V2ZSgicmFwaGFlbC5zZXRXaW5kb3ciLGEsaC53aW4sYiksaC53aW49YixoLmRvYz1oLndpbi5kb2N1bWVudCxhLl9lbmdpbmUuaW5pdFdpbiYmYS5fZW5naW5lLmluaXRXaW4oaC53aW4pfTt2YXIgYm89ZnVuY3Rpb24oYil7aWYoYS52bWwpe3ZhciBjPS9eXHMrfFxzKyQvZyxkO3RyeXt2YXIgZT1uZXcgQWN0aXZlWE9iamVjdCgiaHRtbGZpbGUiKTtlLndyaXRlKCI8Ym9keT4iKSxlLmNsb3NlKCksZD1lLmJvZHl9Y2F0Y2goZil7ZD1jcmVhdGVQb3B1cCgpLmRvY3VtZW50LmJvZHl9dmFyIGc9ZC5jcmVhdGVUZXh0UmFuZ2UoKTtibz1idihmdW5jdGlvbihhKXt0cnl7ZC5zdHlsZS5jb2xvcj1yKGEpLnJlcGxhY2UoYyxwKTt2YXIgYj1nLnF1ZXJ5Q29tbWFuZFZhbHVlKCJGb3JlQ29sb3IiKTtiPShiJjI1NSk8PDE2fGImNjUyODB8KGImMTY3MTE2ODApPj4+MTY7cmV0dXJuIiMiKygiMDAwMDAwIitiLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTYpfWNhdGNoKGUpe3JldHVybiJub25lIn19KX1lbHNle3ZhciBpPWguZG9jLmNyZWF0ZUVsZW1lbnQoImkiKTtpLnRpdGxlPSJSYXBoYcOrbCBDb2xvdXIgUGlja2VyIixpLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGguZG9jLmJvZHkuYXBwZW5kQ2hpbGQoaSksYm89YnYoZnVuY3Rpb24oYSl7aS5zdHlsZS5jb2xvcj1hO3JldHVybiBoLmRvYy5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGkscCkuZ2V0UHJvcGVydHlWYWx1ZSgiY29sb3IiKX0pfXJldHVybiBibyhiKX0sYnA9ZnVuY3Rpb24oKXtyZXR1cm4iaHNiKCIrW3RoaXMuaCx0aGlzLnMsdGhpcy5iXSsiKSJ9LGJxPWZ1bmN0aW9uKCl7cmV0dXJuImhzbCgiK1t0aGlzLmgsdGhpcy5zLHRoaXMubF0rIikifSxicj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhleH0sYnM9ZnVuY3Rpb24oYixjLGQpe2M9PW51bGwmJmEuaXMoYiwib2JqZWN0IikmJiJyImluIGImJiJnImluIGImJiJiImluIGImJihkPWIuYixjPWIuZyxiPWIucik7aWYoYz09bnVsbCYmYS5pcyhiLEQpKXt2YXIgZT1hLmdldFJHQihiKTtiPWUucixjPWUuZyxkPWUuYn1pZihiPjF8fGM+MXx8ZD4xKWIvPTI1NSxjLz0yNTUsZC89MjU1O3JldHVybltiLGMsZF19LGJ0PWZ1bmN0aW9uKGIsYyxkLGUpe2IqPTI1NSxjKj0yNTUsZCo9MjU1O3ZhciBmPXtyOmIsZzpjLGI6ZCxoZXg6YS5yZ2IoYixjLGQpLHRvU3RyaW5nOmJyfTthLmlzKGUsImZpbml0ZSIpJiYoZi5vcGFjaXR5PWUpO3JldHVybiBmfTthLmNvbG9yPWZ1bmN0aW9uKGIpe3ZhciBjO2EuaXMoYiwib2JqZWN0IikmJiJoImluIGImJiJzImluIGImJiJiImluIGI/KGM9YS5oc2IycmdiKGIpLGIucj1jLnIsYi5nPWMuZyxiLmI9Yy5iLGIuaGV4PWMuaGV4KTphLmlzKGIsIm9iamVjdCIpJiYiaCJpbiBiJiYicyJpbiBiJiYibCJpbiBiPyhjPWEuaHNsMnJnYihiKSxiLnI9Yy5yLGIuZz1jLmcsYi5iPWMuYixiLmhleD1jLmhleCk6KGEuaXMoYiwic3RyaW5nIikmJihiPWEuZ2V0UkdCKGIpKSxhLmlzKGIsIm9iamVjdCIpJiYiciJpbiBiJiYiZyJpbiBiJiYiYiJpbiBiPyhjPWEucmdiMmhzbChiKSxiLmg9Yy5oLGIucz1jLnMsYi5sPWMubCxjPWEucmdiMmhzYihiKSxiLnY9Yy5iKTooYj17aGV4OiJub25lIn0sYi5yPWIuZz1iLmI9Yi5oPWIucz1iLnY9Yi5sPS0xKSksYi50b1N0cmluZz1icjtyZXR1cm4gYn0sYS5oc2IycmdiPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuaXMoYSwib2JqZWN0IikmJiJoImluIGEmJiJzImluIGEmJiJiImluIGEmJihjPWEuYixiPWEucyxhPWEuaCxkPWEubyksYSo9MzYwO3ZhciBlLGYsZyxoLGk7YT1hJTM2MC82MCxpPWMqYixoPWkqKDEteihhJTItMSkpLGU9Zj1nPWMtaSxhPX5+YSxlKz1baSxoLDAsMCxoLGldW2FdLGYrPVtoLGksaSxoLDAsMF1bYV0sZys9WzAsMCxoLGksaSxoXVthXTtyZXR1cm4gYnQoZSxmLGcsZCl9LGEuaHNsMnJnYj1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLmlzKGEsIm9iamVjdCIpJiYiaCJpbiBhJiYicyJpbiBhJiYibCJpbiBhJiYoYz1hLmwsYj1hLnMsYT1hLmgpO2lmKGE+MXx8Yj4xfHxjPjEpYS89MzYwLGIvPTEwMCxjLz0xMDA7YSo9MzYwO3ZhciBlLGYsZyxoLGk7YT1hJTM2MC82MCxpPTIqYiooYzwuNT9jOjEtYyksaD1pKigxLXooYSUyLTEpKSxlPWY9Zz1jLWkvMixhPX5+YSxlKz1baSxoLDAsMCxoLGldW2FdLGYrPVtoLGksaSxoLDAsMF1bYV0sZys9WzAsMCxoLGksaSxoXVthXTtyZXR1cm4gYnQoZSxmLGcsZCl9LGEucmdiMmhzYj1mdW5jdGlvbihhLGIsYyl7Yz1icyhhLGIsYyksYT1jWzBdLGI9Y1sxXSxjPWNbMl07dmFyIGQsZSxmLGc7Zj14KGEsYixjKSxnPWYteShhLGIsYyksZD1nPT0wP251bGw6Zj09YT8oYi1jKS9nOmY9PWI/KGMtYSkvZysyOihhLWIpL2crNCxkPShkKzM2MCklNio2MC8zNjAsZT1nPT0wPzA6Zy9mO3JldHVybntoOmQsczplLGI6Zix0b1N0cmluZzpicH19LGEucmdiMmhzbD1mdW5jdGlvbihhLGIsYyl7Yz1icyhhLGIsYyksYT1jWzBdLGI9Y1sxXSxjPWNbMl07dmFyIGQsZSxmLGcsaCxpO2c9eChhLGIsYyksaD15KGEsYixjKSxpPWctaCxkPWk9PTA/bnVsbDpnPT1hPyhiLWMpL2k6Zz09Yj8oYy1hKS9pKzI6KGEtYikvaSs0LGQ9KGQrMzYwKSU2KjYwLzM2MCxmPShnK2gpLzIsZT1pPT0wPzA6ZjwuNT9pLygyKmYpOmkvKDItMipmKTtyZXR1cm57aDpkLHM6ZSxsOmYsdG9TdHJpbmc6YnF9fSxhLl9wYXRoMnN0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmpvaW4oIiwiKS5yZXBsYWNlKFksIiQxIil9O3ZhciBidz1hLl9wcmVsb2FkPWZ1bmN0aW9uKGEsYil7dmFyIGM9aC5kb2MuY3JlYXRlRWxlbWVudCgiaW1nIik7Yy5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi05OTk5ZW07dG9wOi05OTk5ZW0iLGMub25sb2FkPWZ1bmN0aW9uKCl7Yi5jYWxsKHRoaXMpLHRoaXMub25sb2FkPW51bGwsaC5kb2MuYm9keS5yZW1vdmVDaGlsZCh0aGlzKX0sYy5vbmVycm9yPWZ1bmN0aW9uKCl7aC5kb2MuYm9keS5yZW1vdmVDaGlsZCh0aGlzKX0saC5kb2MuYm9keS5hcHBlbmRDaGlsZChjKSxjLnNyYz1hfTthLmdldFJHQj1idihmdW5jdGlvbihiKXtpZighYnx8ISEoKGI9cihiKSkuaW5kZXhPZigiLSIpKzEpKXJldHVybntyOi0xLGc6LTEsYjotMSxoZXg6Im5vbmUiLGVycm9yOjEsdG9TdHJpbmc6Ynh9O2lmKGI9PSJub25lIilyZXR1cm57cjotMSxnOi0xLGI6LTEsaGV4OiJub25lIix0b1N0cmluZzpieH07IVhbZ10oYi50b0xvd2VyQ2FzZSgpLnN1YnN0cmluZygwLDIpKSYmYi5jaGFyQXQoKSE9IiMiJiYoYj1ibyhiKSk7dmFyIGMsZCxlLGYsaCxpLGosaz1iLm1hdGNoKEwpO2lmKGspe2tbMl0mJihmPVIoa1syXS5zdWJzdHJpbmcoNSksMTYpLGU9UihrWzJdLnN1YnN0cmluZygzLDUpLDE2KSxkPVIoa1syXS5zdWJzdHJpbmcoMSwzKSwxNikpLGtbM10mJihmPVIoKGk9a1szXS5jaGFyQXQoMykpK2ksMTYpLGU9UigoaT1rWzNdLmNoYXJBdCgyKSkraSwxNiksZD1SKChpPWtbM10uY2hhckF0KDEpKStpLDE2KSksa1s0XSYmKGo9a1s0XVtzXShXKSxkPVEoalswXSksalswXS5zbGljZSgtMSk9PSIlIiYmKGQqPTIuNTUpLGU9UShqWzFdKSxqWzFdLnNsaWNlKC0xKT09IiUiJiYoZSo9Mi41NSksZj1RKGpbMl0pLGpbMl0uc2xpY2UoLTEpPT0iJSImJihmKj0yLjU1KSxrWzFdLnRvTG93ZXJDYXNlKCkuc2xpY2UoMCw0KT09InJnYmEiJiYoaD1RKGpbM10pKSxqWzNdJiZqWzNdLnNsaWNlKC0xKT09IiUiJiYoaC89MTAwKSk7aWYoa1s1XSl7aj1rWzVdW3NdKFcpLGQ9UShqWzBdKSxqWzBdLnNsaWNlKC0xKT09IiUiJiYoZCo9Mi41NSksZT1RKGpbMV0pLGpbMV0uc2xpY2UoLTEpPT0iJSImJihlKj0yLjU1KSxmPVEoalsyXSksalsyXS5zbGljZSgtMSk9PSIlIiYmKGYqPTIuNTUpLChqWzBdLnNsaWNlKC0zKT09ImRlZyJ8fGpbMF0uc2xpY2UoLTEpPT0iwrAiKSYmKGQvPTM2MCksa1sxXS50b0xvd2VyQ2FzZSgpLnNsaWNlKDAsNCk9PSJoc2JhIiYmKGg9UShqWzNdKSksalszXSYmalszXS5zbGljZSgtMSk9PSIlIiYmKGgvPTEwMCk7cmV0dXJuIGEuaHNiMnJnYihkLGUsZixoKX1pZihrWzZdKXtqPWtbNl1bc10oVyksZD1RKGpbMF0pLGpbMF0uc2xpY2UoLTEpPT0iJSImJihkKj0yLjU1KSxlPVEoalsxXSksalsxXS5zbGljZSgtMSk9PSIlIiYmKGUqPTIuNTUpLGY9UShqWzJdKSxqWzJdLnNsaWNlKC0xKT09IiUiJiYoZio9Mi41NSksKGpbMF0uc2xpY2UoLTMpPT0iZGVnInx8alswXS5zbGljZSgtMSk9PSLCsCIpJiYoZC89MzYwKSxrWzFdLnRvTG93ZXJDYXNlKCkuc2xpY2UoMCw0KT09ImhzbGEiJiYoaD1RKGpbM10pKSxqWzNdJiZqWzNdLnNsaWNlKC0xKT09IiUiJiYoaC89MTAwKTtyZXR1cm4gYS5oc2wycmdiKGQsZSxmLGgpfWs9e3I6ZCxnOmUsYjpmLHRvU3RyaW5nOmJ4fSxrLmhleD0iIyIrKDE2Nzc3MjE2fGZ8ZTw8OHxkPDwxNikudG9TdHJpbmcoMTYpLnNsaWNlKDEpLGEuaXMoaCwiZmluaXRlIikmJihrLm9wYWNpdHk9aCk7cmV0dXJuIGt9cmV0dXJue3I6LTEsZzotMSxiOi0xLGhleDoibm9uZSIsZXJyb3I6MSx0b1N0cmluZzpieH19LGEpLGEuaHNiPWJ2KGZ1bmN0aW9uKGIsYyxkKXtyZXR1cm4gYS5oc2IycmdiKGIsYyxkKS5oZXh9KSxhLmhzbD1idihmdW5jdGlvbihiLGMsZCl7cmV0dXJuIGEuaHNsMnJnYihiLGMsZCkuaGV4fSksYS5yZ2I9YnYoZnVuY3Rpb24oYSxiLGMpe3JldHVybiIjIisoMTY3NzcyMTZ8Y3xiPDw4fGE8PDE2KS50b1N0cmluZygxNikuc2xpY2UoMSl9KSxhLmdldENvbG9yPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0Q29sb3Iuc3RhcnQ9dGhpcy5nZXRDb2xvci5zdGFydHx8e2g6MCxzOjEsYjphfHwuNzV9LGM9dGhpcy5oc2IycmdiKGIuaCxiLnMsYi5iKTtiLmgrPS4wNzUsYi5oPjEmJihiLmg9MCxiLnMtPS4yLGIuczw9MCYmKHRoaXMuZ2V0Q29sb3Iuc3RhcnQ9e2g6MCxzOjEsYjpiLmJ9KSk7cmV0dXJuIGMuaGV4fSxhLmdldENvbG9yLnJlc2V0PWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuc3RhcnR9LGEucGFyc2VQYXRoU3RyaW5nPWZ1bmN0aW9uKGIpe2lmKCFiKXJldHVybiBudWxsO3ZhciBjPWJ6KGIpO2lmKGMuYXJyKXJldHVybiBiSihjLmFycik7dmFyIGQ9e2E6NyxjOjYsaDoxLGw6MixtOjIscjo0LHE6NCxzOjQsdDoyLHY6MSx6OjB9LGU9W107YS5pcyhiLEUpJiZhLmlzKGJbMF0sRSkmJihlPWJKKGIpKSxlLmxlbmd0aHx8cihiKS5yZXBsYWNlKFosZnVuY3Rpb24oYSxiLGMpe3ZhciBmPVtdLGc9Yi50b0xvd2VyQ2FzZSgpO2MucmVwbGFjZShfLGZ1bmN0aW9uKGEsYil7YiYmZi5wdXNoKCtiKX0pLGc9PSJtIiYmZi5sZW5ndGg+MiYmKGUucHVzaChbYl1bbl0oZi5zcGxpY2UoMCwyKSkpLGc9ImwiLGI9Yj09Im0iPyJsIjoiTCIpO2lmKGc9PSJyIillLnB1c2goW2JdW25dKGYpKTtlbHNlIHdoaWxlKGYubGVuZ3RoPj1kW2ddKXtlLnB1c2goW2JdW25dKGYuc3BsaWNlKDAsZFtnXSkpKTtpZighZFtnXSlicmVha319KSxlLnRvU3RyaW5nPWEuX3BhdGgyc3RyaW5nLGMuYXJyPWJKKGUpO3JldHVybiBlfSxhLnBhcnNlVHJhbnNmb3JtU3RyaW5nPWJ2KGZ1bmN0aW9uKGIpe2lmKCFiKXJldHVybiBudWxsO3ZhciBjPXtyOjMsczo0LHQ6MixtOjZ9LGQ9W107YS5pcyhiLEUpJiZhLmlzKGJbMF0sRSkmJihkPWJKKGIpKSxkLmxlbmd0aHx8cihiKS5yZXBsYWNlKCQsZnVuY3Rpb24oYSxiLGMpe3ZhciBlPVtdLGY9di5jYWxsKGIpO2MucmVwbGFjZShfLGZ1bmN0aW9uKGEsYil7YiYmZS5wdXNoKCtiKX0pLGQucHVzaChbYl1bbl0oZSkpfSksZC50b1N0cmluZz1hLl9wYXRoMnN0cmluZztyZXR1cm4gZH0pO3ZhciBiej1mdW5jdGlvbihhKXt2YXIgYj1iei5wcz1iei5wc3x8e307YlthXT9iW2FdLnNsZWVwPTEwMDpiW2FdPXtzbGVlcDoxMDB9LHNldFRpbWVvdXQoZnVuY3Rpb24oKXtmb3IodmFyIGMgaW4gYiliW2ddKGMpJiZjIT1hJiYoYltjXS5zbGVlcC0tLCFiW2NdLnNsZWVwJiZkZWxldGUgYltjXSl9KTtyZXR1cm4gYlthXX07YS5maW5kRG90c0F0U2VnbWVudD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsaSl7dmFyIGo9MS1pLGs9QShqLDMpLGw9QShqLDIpLG09aSppLG49bSppLG89ayphK2wqMyppKmMraiozKmkqaSplK24qZyxwPWsqYitsKjMqaSpkK2oqMyppKmkqZituKmgscT1hKzIqaSooYy1hKSttKihlLTIqYythKSxyPWIrMippKihkLWIpK20qKGYtMipkK2IpLHM9YysyKmkqKGUtYykrbSooZy0yKmUrYyksdD1kKzIqaSooZi1kKSttKihoLTIqZitkKSx1PWoqYStpKmMsdj1qKmIraSpkLHg9aiplK2kqZyx5PWoqZitpKmgsej05MC13LmF0YW4yKHEtcyxyLXQpKjE4MC9COyhxPnN8fHI8dCkmJih6Kz0xODApO3JldHVybnt4Om8seTpwLG06e3g6cSx5OnJ9LG46e3g6cyx5OnR9LHN0YXJ0Ont4OnUseTp2fSxlbmQ6e3g6eCx5Onl9LGFscGhhOnp9fSxhLmJlemllckJCb3g9ZnVuY3Rpb24oYixjLGQsZSxmLGcsaCxpKXthLmlzKGIsImFycmF5Iil8fChiPVtiLGMsZCxlLGYsZyxoLGldKTt2YXIgaj1iUS5hcHBseShudWxsLGIpO3JldHVybnt4OmoubWluLngseTpqLm1pbi55LHgyOmoubWF4LngseTI6ai5tYXgueSx3aWR0aDpqLm1heC54LWoubWluLngsaGVpZ2h0OmoubWF4Lnktai5taW4ueX19LGEuaXNQb2ludEluc2lkZUJCb3g9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPj1hLngmJmI8PWEueDImJmM+PWEueSYmYzw9YS55Mn0sYS5pc0JCb3hJbnRlcnNlY3Q9ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmlzUG9pbnRJbnNpZGVCQm94O3JldHVybiBkKGMsYi54LGIueSl8fGQoYyxiLngyLGIueSl8fGQoYyxiLngsYi55Mil8fGQoYyxiLngyLGIueTIpfHxkKGIsYy54LGMueSl8fGQoYixjLngyLGMueSl8fGQoYixjLngsYy55Mil8fGQoYixjLngyLGMueTIpfHwoYi54PGMueDImJmIueD5jLnh8fGMueDxiLngyJiZjLng+Yi54KSYmKGIueTxjLnkyJiZiLnk+Yy55fHxjLnk8Yi55MiYmYy55PmIueSl9LGEucGF0aEludGVyc2VjdGlvbj1mdW5jdGlvbihhLGIpe3JldHVybiBiSChhLGIpfSxhLnBhdGhJbnRlcnNlY3Rpb25OdW1iZXI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYkgoYSxiLDEpfSxhLmlzUG9pbnRJbnNpZGVQYXRoPWZ1bmN0aW9uKGIsYyxkKXt2YXIgZT1hLnBhdGhCQm94KGIpO3JldHVybiBhLmlzUG9pbnRJbnNpZGVCQm94KGUsYyxkKSYmYkgoYixbWyJNIixjLGRdLFsiSCIsZS54MisxMF1dLDEpJTI9PTF9LGEuX3JlbW92ZWRGYWN0b3J5PWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe2V2ZSgicmFwaGFlbC5sb2ciLG51bGwsIlJhcGhhw6tsOiB5b3UgYXJlIGNhbGxpbmcgdG8gbWV0aG9kIOKAnCIrYSsi4oCdIG9mIHJlbW92ZWQgb2JqZWN0IixhKX19O3ZhciBiST1hLnBhdGhCQm94PWZ1bmN0aW9uKGEpe3ZhciBiPWJ6KGEpO2lmKGIuYmJveClyZXR1cm4gYi5iYm94O2lmKCFhKXJldHVybnt4OjAseTowLHdpZHRoOjAsaGVpZ2h0OjAseDI6MCx5MjowfTthPWJSKGEpO3ZhciBjPTAsZD0wLGU9W10sZj1bXSxnO2Zvcih2YXIgaD0wLGk9YS5sZW5ndGg7aDxpO2grKyl7Zz1hW2hdO2lmKGdbMF09PSJNIiljPWdbMV0sZD1nWzJdLGUucHVzaChjKSxmLnB1c2goZCk7ZWxzZXt2YXIgaj1iUShjLGQsZ1sxXSxnWzJdLGdbM10sZ1s0XSxnWzVdLGdbNl0pO2U9ZVtuXShqLm1pbi54LGoubWF4LngpLGY9ZltuXShqLm1pbi55LGoubWF4LnkpLGM9Z1s1XSxkPWdbNl19fXZhciBrPXlbbV0oMCxlKSxsPXlbbV0oMCxmKSxvPXhbbV0oMCxlKSxwPXhbbV0oMCxmKSxxPXt4OmsseTpsLHgyOm8seTI6cCx3aWR0aDpvLWssaGVpZ2h0OnAtbH07Yi5iYm94PWJtKHEpO3JldHVybiBxfSxiSj1mdW5jdGlvbihiKXt2YXIgYz1ibShiKTtjLnRvU3RyaW5nPWEuX3BhdGgyc3RyaW5nO3JldHVybiBjfSxiSz1hLl9wYXRoVG9SZWxhdGl2ZT1mdW5jdGlvbihiKXt2YXIgYz1ieihiKTtpZihjLnJlbClyZXR1cm4gYkooYy5yZWwpO2lmKCFhLmlzKGIsRSl8fCFhLmlzKGImJmJbMF0sRSkpYj1hLnBhcnNlUGF0aFN0cmluZyhiKTt2YXIgZD1bXSxlPTAsZj0wLGc9MCxoPTAsaT0wO2JbMF1bMF09PSJNIiYmKGU9YlswXVsxXSxmPWJbMF1bMl0sZz1lLGg9ZixpKyssZC5wdXNoKFsiTSIsZSxmXSkpO2Zvcih2YXIgaj1pLGs9Yi5sZW5ndGg7ajxrO2orKyl7dmFyIGw9ZFtqXT1bXSxtPWJbal07aWYobVswXSE9di5jYWxsKG1bMF0pKXtsWzBdPXYuY2FsbChtWzBdKTtzd2l0Y2gobFswXSl7Y2FzZSJhIjpsWzFdPW1bMV0sbFsyXT1tWzJdLGxbM109bVszXSxsWzRdPW1bNF0sbFs1XT1tWzVdLGxbNl09KyhtWzZdLWUpLnRvRml4ZWQoMyksbFs3XT0rKG1bN10tZikudG9GaXhlZCgzKTticmVhaztjYXNlInYiOmxbMV09KyhtWzFdLWYpLnRvRml4ZWQoMyk7YnJlYWs7Y2FzZSJtIjpnPW1bMV0saD1tWzJdO2RlZmF1bHQ6Zm9yKHZhciBuPTEsbz1tLmxlbmd0aDtuPG87bisrKWxbbl09KyhtW25dLShuJTI/ZTpmKSkudG9GaXhlZCgzKX19ZWxzZXtsPWRbal09W10sbVswXT09Im0iJiYoZz1tWzFdK2UsaD1tWzJdK2YpO2Zvcih2YXIgcD0wLHE9bS5sZW5ndGg7cDxxO3ArKylkW2pdW3BdPW1bcF19dmFyIHI9ZFtqXS5sZW5ndGg7c3dpdGNoKGRbal1bMF0pe2Nhc2UieiI6ZT1nLGY9aDticmVhaztjYXNlImgiOmUrPStkW2pdW3ItMV07YnJlYWs7Y2FzZSJ2IjpmKz0rZFtqXVtyLTFdO2JyZWFrO2RlZmF1bHQ6ZSs9K2Rbal1bci0yXSxmKz0rZFtqXVtyLTFdfX1kLnRvU3RyaW5nPWEuX3BhdGgyc3RyaW5nLGMucmVsPWJKKGQpO3JldHVybiBkfSxiTD1hLl9wYXRoVG9BYnNvbHV0ZT1mdW5jdGlvbihiKXt2YXIgYz1ieihiKTtpZihjLmFicylyZXR1cm4gYkooYy5hYnMpO2lmKCFhLmlzKGIsRSl8fCFhLmlzKGImJmJbMF0sRSkpYj1hLnBhcnNlUGF0aFN0cmluZyhiKTtpZighYnx8IWIubGVuZ3RoKXJldHVybltbIk0iLDAsMF1dO3ZhciBkPVtdLGU9MCxmPTAsZz0wLGg9MCxpPTA7YlswXVswXT09Ik0iJiYoZT0rYlswXVsxXSxmPStiWzBdWzJdLGc9ZSxoPWYsaSsrLGRbMF09WyJNIixlLGZdKTt2YXIgaj1iLmxlbmd0aD09MyYmYlswXVswXT09Ik0iJiZiWzFdWzBdLnRvVXBwZXJDYXNlKCk9PSJSIiYmYlsyXVswXS50b1VwcGVyQ2FzZSgpPT0iWiI7Zm9yKHZhciBrLGwsbT1pLG89Yi5sZW5ndGg7bTxvO20rKyl7ZC5wdXNoKGs9W10pLGw9YlttXTtpZihsWzBdIT1TLmNhbGwobFswXSkpe2tbMF09Uy5jYWxsKGxbMF0pO3N3aXRjaChrWzBdKXtjYXNlIkEiOmtbMV09bFsxXSxrWzJdPWxbMl0sa1szXT1sWzNdLGtbNF09bFs0XSxrWzVdPWxbNV0sa1s2XT0rKGxbNl0rZSksa1s3XT0rKGxbN10rZik7YnJlYWs7Y2FzZSJWIjprWzFdPStsWzFdK2Y7YnJlYWs7Y2FzZSJIIjprWzFdPStsWzFdK2U7YnJlYWs7Y2FzZSJSIjp2YXIgcD1bZSxmXVtuXShsLnNsaWNlKDEpKTtmb3IodmFyIHE9MixyPXAubGVuZ3RoO3E8cjtxKyspcFtxXT0rcFtxXStlLHBbKytxXT0rcFtxXStmO2QucG9wKCksZD1kW25dKGJ5KHAsaikpO2JyZWFrO2Nhc2UiTSI6Zz0rbFsxXStlLGg9K2xbMl0rZjtkZWZhdWx0OmZvcihxPTEscj1sLmxlbmd0aDtxPHI7cSsrKWtbcV09K2xbcV0rKHElMj9lOmYpfX1lbHNlIGlmKGxbMF09PSJSIilwPVtlLGZdW25dKGwuc2xpY2UoMSkpLGQucG9wKCksZD1kW25dKGJ5KHAsaikpLGs9WyJSIl1bbl0obC5zbGljZSgtMikpO2Vsc2UgZm9yKHZhciBzPTAsdD1sLmxlbmd0aDtzPHQ7cysrKWtbc109bFtzXTtzd2l0Y2goa1swXSl7Y2FzZSJaIjplPWcsZj1oO2JyZWFrO2Nhc2UiSCI6ZT1rWzFdO2JyZWFrO2Nhc2UiViI6Zj1rWzFdO2JyZWFrO2Nhc2UiTSI6Zz1rW2subGVuZ3RoLTJdLGg9a1trLmxlbmd0aC0xXTtkZWZhdWx0OmU9a1trLmxlbmd0aC0yXSxmPWtbay5sZW5ndGgtMV19fWQudG9TdHJpbmc9YS5fcGF0aDJzdHJpbmcsYy5hYnM9YkooZCk7cmV0dXJuIGR9LGJNPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVyblthLGIsYyxkLGMsZF19LGJOPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz0xLzMsaD0yLzM7cmV0dXJuW2cqYStoKmMsZypiK2gqZCxnKmUraCpjLGcqZitoKmQsZSxmXX0sYk89ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGksail7dmFyIGs9QioxMjAvMTgwLGw9Qi8xODAqKCtlfHwwKSxtPVtdLG8scD1idihmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YSp3LmNvcyhjKS1iKncuc2luKGMpLGU9YSp3LnNpbihjKStiKncuY29zKGMpO3JldHVybnt4OmQseTplfX0pO2lmKCFqKXtvPXAoYSxiLC1sKSxhPW8ueCxiPW8ueSxvPXAoaCxpLC1sKSxoPW8ueCxpPW8ueTt2YXIgcT13LmNvcyhCLzE4MCplKSxyPXcuc2luKEIvMTgwKmUpLHQ9KGEtaCkvMix1PShiLWkpLzIsdj10KnQvKGMqYykrdSp1LyhkKmQpO3Y+MSYmKHY9dy5zcXJ0KHYpLGM9dipjLGQ9dipkKTt2YXIgeD1jKmMseT1kKmQsQT0oZj09Zz8tMToxKSp3LnNxcnQoeigoeCp5LXgqdSp1LXkqdCp0KS8oeCp1KnUreSp0KnQpKSksQz1BKmMqdS9kKyhhK2gpLzIsRD1BKi1kKnQvYysoYitpKS8yLEU9dy5hc2luKCgoYi1EKS9kKS50b0ZpeGVkKDkpKSxGPXcuYXNpbigoKGktRCkvZCkudG9GaXhlZCg5KSk7RT1hPEM/Qi1FOkUsRj1oPEM/Qi1GOkYsRTwwJiYoRT1CKjIrRSksRjwwJiYoRj1CKjIrRiksZyYmRT5GJiYoRT1FLUIqMiksIWcmJkY+RSYmKEY9Ri1CKjIpfWVsc2UgRT1qWzBdLEY9alsxXSxDPWpbMl0sRD1qWzNdO3ZhciBHPUYtRTtpZih6KEcpPmspe3ZhciBIPUYsST1oLEo9aTtGPUUrayooZyYmRj5FPzE6LTEpLGg9QytjKncuY29zKEYpLGk9RCtkKncuc2luKEYpLG09Yk8oaCxpLGMsZCxlLDAsZyxJLEosW0YsSCxDLERdKX1HPUYtRTt2YXIgSz13LmNvcyhFKSxMPXcuc2luKEUpLE09dy5jb3MoRiksTj13LnNpbihGKSxPPXcudGFuKEcvNCksUD00LzMqYypPLFE9NC8zKmQqTyxSPVthLGJdLFM9W2ErUCpMLGItUSpLXSxUPVtoK1AqTixpLVEqTV0sVT1baCxpXTtTWzBdPTIqUlswXS1TWzBdLFNbMV09MipSWzFdLVNbMV07aWYoailyZXR1cm5bUyxULFVdW25dKG0pO209W1MsVCxVXVtuXShtKS5qb2luKClbc10oIiwiKTt2YXIgVj1bXTtmb3IodmFyIFc9MCxYPW0ubGVuZ3RoO1c8WDtXKyspVltXXT1XJTI/cChtW1ctMV0sbVtXXSxsKS55OnAobVtXXSxtW1crMV0sbCkueDtyZXR1cm4gVn0sYlA9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGkpe3ZhciBqPTEtaTtyZXR1cm57eDpBKGosMykqYStBKGosMikqMyppKmMraiozKmkqaSplK0EoaSwzKSpnLHk6QShqLDMpKmIrQShqLDIpKjMqaSpkK2oqMyppKmkqZitBKGksMykqaH19LGJRPWJ2KGZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCl7dmFyIGk9ZS0yKmMrYS0oZy0yKmUrYyksaj0yKihjLWEpLTIqKGUtYyksaz1hLWMsbD0oLWordy5zcXJ0KGoqai00KmkqaykpLzIvaSxuPSgtai13LnNxcnQoaipqLTQqaSprKSkvMi9pLG89W2IsaF0scD1bYSxnXSxxO3oobCk+IjFlMTIiJiYobD0uNSkseihuKT4iMWUxMiImJihuPS41KSxsPjAmJmw8MSYmKHE9YlAoYSxiLGMsZCxlLGYsZyxoLGwpLHAucHVzaChxLngpLG8ucHVzaChxLnkpKSxuPjAmJm48MSYmKHE9YlAoYSxiLGMsZCxlLGYsZyxoLG4pLHAucHVzaChxLngpLG8ucHVzaChxLnkpKSxpPWYtMipkK2ItKGgtMipmK2QpLGo9MiooZC1iKS0yKihmLWQpLGs9Yi1kLGw9KC1qK3cuc3FydChqKmotNCppKmspKS8yL2ksbj0oLWotdy5zcXJ0KGoqai00KmkqaykpLzIvaSx6KGwpPiIxZTEyIiYmKGw9LjUpLHoobik+IjFlMTIiJiYobj0uNSksbD4wJiZsPDEmJihxPWJQKGEsYixjLGQsZSxmLGcsaCxsKSxwLnB1c2gocS54KSxvLnB1c2gocS55KSksbj4wJiZuPDEmJihxPWJQKGEsYixjLGQsZSxmLGcsaCxuKSxwLnB1c2gocS54KSxvLnB1c2gocS55KSk7cmV0dXJue21pbjp7eDp5W21dKDAscCkseTp5W21dKDAsbyl9LG1heDp7eDp4W21dKDAscCkseTp4W21dKDAsbyl9fX0pLGJSPWEuX3BhdGgyY3VydmU9YnYoZnVuY3Rpb24oYSxiKXt2YXIgYz0hYiYmYnooYSk7aWYoIWImJmMuY3VydmUpcmV0dXJuIGJKKGMuY3VydmUpO3ZhciBkPWJMKGEpLGU9YiYmYkwoYiksZj17eDowLHk6MCxieDowLGJ5OjAsWDowLFk6MCxxeDpudWxsLHF5Om51bGx9LGc9e3g6MCx5OjAsYng6MCxieTowLFg6MCxZOjAscXg6bnVsbCxxeTpudWxsfSxoPWZ1bmN0aW9uKGEsYil7dmFyIGMsZDtpZighYSlyZXR1cm5bIkMiLGIueCxiLnksYi54LGIueSxiLngsYi55XTshKGFbMF1pbntUOjEsUToxfSkmJihiLnF4PWIucXk9bnVsbCk7c3dpdGNoKGFbMF0pe2Nhc2UiTSI6Yi5YPWFbMV0sYi5ZPWFbMl07YnJlYWs7Y2FzZSJBIjphPVsiQyJdW25dKGJPW21dKDAsW2IueCxiLnldW25dKGEuc2xpY2UoMSkpKSk7YnJlYWs7Y2FzZSJTIjpjPWIueCsoYi54LShiLmJ4fHxiLngpKSxkPWIueSsoYi55LShiLmJ5fHxiLnkpKSxhPVsiQyIsYyxkXVtuXShhLnNsaWNlKDEpKTticmVhaztjYXNlIlQiOmIucXg9Yi54KyhiLngtKGIucXh8fGIueCkpLGIucXk9Yi55KyhiLnktKGIucXl8fGIueSkpLGE9WyJDIl1bbl0oYk4oYi54LGIueSxiLnF4LGIucXksYVsxXSxhWzJdKSk7YnJlYWs7Y2FzZSJRIjpiLnF4PWFbMV0sYi5xeT1hWzJdLGE9WyJDIl1bbl0oYk4oYi54LGIueSxhWzFdLGFbMl0sYVszXSxhWzRdKSk7YnJlYWs7Y2FzZSJMIjphPVsiQyJdW25dKGJNKGIueCxiLnksYVsxXSxhWzJdKSk7YnJlYWs7Y2FzZSJIIjphPVsiQyJdW25dKGJNKGIueCxiLnksYVsxXSxiLnkpKTticmVhaztjYXNlIlYiOmE9WyJDIl1bbl0oYk0oYi54LGIueSxiLngsYVsxXSkpO2JyZWFrO2Nhc2UiWiI6YT1bIkMiXVtuXShiTShiLngsYi55LGIuWCxiLlkpKX1yZXR1cm4gYX0saT1mdW5jdGlvbihhLGIpe2lmKGFbYl0ubGVuZ3RoPjcpe2FbYl0uc2hpZnQoKTt2YXIgYz1hW2JdO3doaWxlKGMubGVuZ3RoKWEuc3BsaWNlKGIrKywwLFsiQyJdW25dKGMuc3BsaWNlKDAsNikpKTthLnNwbGljZShiLDEpLGw9eChkLmxlbmd0aCxlJiZlLmxlbmd0aHx8MCl9fSxqPWZ1bmN0aW9uKGEsYixjLGYsZyl7YSYmYiYmYVtnXVswXT09Ik0iJiZiW2ddWzBdIT0iTSImJihiLnNwbGljZShnLDAsWyJNIixmLngsZi55XSksYy5ieD0wLGMuYnk9MCxjLng9YVtnXVsxXSxjLnk9YVtnXVsyXSxsPXgoZC5sZW5ndGgsZSYmZS5sZW5ndGh8fDApKX07Zm9yKHZhciBrPTAsbD14KGQubGVuZ3RoLGUmJmUubGVuZ3RofHwwKTtrPGw7aysrKXtkW2tdPWgoZFtrXSxmKSxpKGQsayksZSYmKGVba109aChlW2tdLGcpKSxlJiZpKGUsayksaihkLGUsZixnLGspLGooZSxkLGcsZixrKTt2YXIgbz1kW2tdLHA9ZSYmZVtrXSxxPW8ubGVuZ3RoLHI9ZSYmcC5sZW5ndGg7Zi54PW9bcS0yXSxmLnk9b1txLTFdLGYuYng9UShvW3EtNF0pfHxmLngsZi5ieT1RKG9bcS0zXSl8fGYueSxnLmJ4PWUmJihRKHBbci00XSl8fGcueCksZy5ieT1lJiYoUShwW3ItM10pfHxnLnkpLGcueD1lJiZwW3ItMl0sZy55PWUmJnBbci0xXX1lfHwoYy5jdXJ2ZT1iSihkKSk7cmV0dXJuIGU/W2QsZV06ZH0sbnVsbCxiSiksYlM9YS5fcGFyc2VEb3RzPWJ2KGZ1bmN0aW9uKGIpe3ZhciBjPVtdO2Zvcih2YXIgZD0wLGU9Yi5sZW5ndGg7ZDxlO2QrKyl7dmFyIGY9e30sZz1iW2RdLm1hdGNoKC9eKFteOl0qKTo/KFtcZFwuXSopLyk7Zi5jb2xvcj1hLmdldFJHQihnWzFdKTtpZihmLmNvbG9yLmVycm9yKXJldHVybiBudWxsO2YuY29sb3I9Zi5jb2xvci5oZXgsZ1syXSYmKGYub2Zmc2V0PWdbMl0rIiUiKSxjLnB1c2goZil9Zm9yKGQ9MSxlPWMubGVuZ3RoLTE7ZDxlO2QrKylpZighY1tkXS5vZmZzZXQpe3ZhciBoPVEoY1tkLTFdLm9mZnNldHx8MCksaT0wO2Zvcih2YXIgaj1kKzE7ajxlO2orKylpZihjW2pdLm9mZnNldCl7aT1jW2pdLm9mZnNldDticmVha31pfHwoaT0xMDAsaj1lKSxpPVEoaSk7dmFyIGs9KGktaCkvKGotZCsxKTtmb3IoO2Q8ajtkKyspaCs9ayxjW2RdLm9mZnNldD1oKyIlIn1yZXR1cm4gY30pLGJUPWEuX3RlYXI9ZnVuY3Rpb24oYSxiKXthPT1iLnRvcCYmKGIudG9wPWEucHJldiksYT09Yi5ib3R0b20mJihiLmJvdHRvbT1hLm5leHQpLGEubmV4dCYmKGEubmV4dC5wcmV2PWEucHJldiksYS5wcmV2JiYoYS5wcmV2Lm5leHQ9YS5uZXh0KX0sYlU9YS5fdG9mcm9udD1mdW5jdGlvbihhLGIpe2IudG9wIT09YSYmKGJUKGEsYiksYS5uZXh0PW51bGwsYS5wcmV2PWIudG9wLGIudG9wLm5leHQ9YSxiLnRvcD1hKX0sYlY9YS5fdG9iYWNrPWZ1bmN0aW9uKGEsYil7Yi5ib3R0b20hPT1hJiYoYlQoYSxiKSxhLm5leHQ9Yi5ib3R0b20sYS5wcmV2PW51bGwsYi5ib3R0b20ucHJldj1hLGIuYm90dG9tPWEpfSxiVz1hLl9pbnNlcnRhZnRlcj1mdW5jdGlvbihhLGIsYyl7YlQoYSxjKSxiPT1jLnRvcCYmKGMudG9wPWEpLGIubmV4dCYmKGIubmV4dC5wcmV2PWEpLGEubmV4dD1iLm5leHQsYS5wcmV2PWIsYi5uZXh0PWF9LGJYPWEuX2luc2VydGJlZm9yZT1mdW5jdGlvbihhLGIsYyl7YlQoYSxjKSxiPT1jLmJvdHRvbSYmKGMuYm90dG9tPWEpLGIucHJldiYmKGIucHJldi5uZXh0PWEpLGEucHJldj1iLnByZXYsYi5wcmV2PWEsYS5uZXh0PWJ9LGJZPWEudG9NYXRyaXg9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iSShhKSxkPXtfOnt0cmFuc2Zvcm06cH0sZ2V0QkJveDpmdW5jdGlvbigpe3JldHVybiBjfX07YiQoZCxiKTtyZXR1cm4gZC5tYXRyaXh9LGJaPWEudHJhbnNmb3JtUGF0aD1mdW5jdGlvbihhLGIpe3JldHVybiBiaihhLGJZKGEsYikpfSxiJD1hLl9leHRyYWN0VHJhbnNmb3JtPWZ1bmN0aW9uKGIsYyl7aWYoYz09bnVsbClyZXR1cm4gYi5fLnRyYW5zZm9ybTtjPXIoYykucmVwbGFjZSgvXC57M318XHUyMDI2L2csYi5fLnRyYW5zZm9ybXx8cCk7dmFyIGQ9YS5wYXJzZVRyYW5zZm9ybVN0cmluZyhjKSxlPTAsZj0wLGc9MCxoPTEsaT0xLGo9Yi5fLGs9bmV3IGNiO2oudHJhbnNmb3JtPWR8fFtdO2lmKGQpZm9yKHZhciBsPTAsbT1kLmxlbmd0aDtsPG07bCsrKXt2YXIgbj1kW2xdLG89bi5sZW5ndGgscT1yKG5bMF0pLnRvTG93ZXJDYXNlKCkscz1uWzBdIT1xLHQ9cz9rLmludmVydCgpOjAsdSx2LHcseCx5O3E9PSJ0IiYmbz09Mz9zPyh1PXQueCgwLDApLHY9dC55KDAsMCksdz10LngoblsxXSxuWzJdKSx4PXQueShuWzFdLG5bMl0pLGsudHJhbnNsYXRlKHctdSx4LXYpKTprLnRyYW5zbGF0ZShuWzFdLG5bMl0pOnE9PSJyIj9vPT0yPyh5PXl8fGIuZ2V0QkJveCgxKSxrLnJvdGF0ZShuWzFdLHkueCt5LndpZHRoLzIseS55K3kuaGVpZ2h0LzIpLGUrPW5bMV0pOm89PTQmJihzPyh3PXQueChuWzJdLG5bM10pLHg9dC55KG5bMl0sblszXSksay5yb3RhdGUoblsxXSx3LHgpKTprLnJvdGF0ZShuWzFdLG5bMl0sblszXSksZSs9blsxXSk6cT09InMiP289PTJ8fG89PTM/KHk9eXx8Yi5nZXRCQm94KDEpLGsuc2NhbGUoblsxXSxuW28tMV0seS54K3kud2lkdGgvMix5LnkreS5oZWlnaHQvMiksaCo9blsxXSxpKj1uW28tMV0pOm89PTUmJihzPyh3PXQueChuWzNdLG5bNF0pLHg9dC55KG5bM10sbls0XSksay5zY2FsZShuWzFdLG5bMl0sdyx4KSk6ay5zY2FsZShuWzFdLG5bMl0sblszXSxuWzRdKSxoKj1uWzFdLGkqPW5bMl0pOnE9PSJtIiYmbz09NyYmay5hZGQoblsxXSxuWzJdLG5bM10sbls0XSxuWzVdLG5bNl0pLGouZGlydHlUPTEsYi5tYXRyaXg9a31iLm1hdHJpeD1rLGouc3g9aCxqLnN5PWksai5kZWc9ZSxqLmR4PWY9ay5lLGouZHk9Zz1rLmYsaD09MSYmaT09MSYmIWUmJmouYmJveD8oai5iYm94LngrPStmLGouYmJveC55Kz0rZyk6ai5kaXJ0eVQ9MX0sYl89ZnVuY3Rpb24oYSl7dmFyIGI9YVswXTtzd2l0Y2goYi50b0xvd2VyQ2FzZSgpKXtjYXNlInQiOnJldHVybltiLDAsMF07Y2FzZSJtIjpyZXR1cm5bYiwxLDAsMCwxLDAsMF07Y2FzZSJyIjpyZXR1cm4gYS5sZW5ndGg9PTQ/W2IsMCxhWzJdLGFbM11dOltiLDBdO2Nhc2UicyI6cmV0dXJuIGEubGVuZ3RoPT01P1tiLDEsMSxhWzNdLGFbNF1dOmEubGVuZ3RoPT0zP1tiLDEsMV06W2IsMV19fSxjYT1hLl9lcXVhbGlzZVRyYW5zZm9ybT1mdW5jdGlvbihiLGMpe2M9cihjKS5yZXBsYWNlKC9cLnszfXxcdTIwMjYvZyxiKSxiPWEucGFyc2VUcmFuc2Zvcm1TdHJpbmcoYil8fFtdLGM9YS5wYXJzZVRyYW5zZm9ybVN0cmluZyhjKXx8W107dmFyIGQ9eChiLmxlbmd0aCxjLmxlbmd0aCksZT1bXSxmPVtdLGc9MCxoLGksaixrO2Zvcig7ZzxkO2crKyl7aj1iW2ddfHxiXyhjW2ddKSxrPWNbZ118fGJfKGopO2lmKGpbMF0hPWtbMF18fGpbMF0udG9Mb3dlckNhc2UoKT09InIiJiYoalsyXSE9a1syXXx8alszXSE9a1szXSl8fGpbMF0udG9Mb3dlckNhc2UoKT09InMiJiYoalszXSE9a1szXXx8als0XSE9a1s0XSkpcmV0dXJuO2VbZ109W10sZltnXT1bXTtmb3IoaD0wLGk9eChqLmxlbmd0aCxrLmxlbmd0aCk7aDxpO2grKyloIGluIGomJihlW2ddW2hdPWpbaF0pLGggaW4gayYmKGZbZ11baF09a1toXSl9cmV0dXJue2Zyb206ZSx0bzpmfX07YS5fZ2V0Q29udGFpbmVyPWZ1bmN0aW9uKGIsYyxkLGUpe3ZhciBmO2Y9ZT09bnVsbCYmIWEuaXMoYiwib2JqZWN0Iik/aC5kb2MuZ2V0RWxlbWVudEJ5SWQoYik6YjtpZihmIT1udWxsKXtpZihmLnRhZ05hbWUpcmV0dXJuIGM9PW51bGw/e2NvbnRhaW5lcjpmLHdpZHRoOmYuc3R5bGUucGl4ZWxXaWR0aHx8Zi5vZmZzZXRXaWR0aCxoZWlnaHQ6Zi5zdHlsZS5waXhlbEhlaWdodHx8Zi5vZmZzZXRIZWlnaHR9Ontjb250YWluZXI6Zix3aWR0aDpjLGhlaWdodDpkfTtyZXR1cm57Y29udGFpbmVyOjEseDpiLHk6Yyx3aWR0aDpkLGhlaWdodDplfX19LGEucGF0aFRvUmVsYXRpdmU9YkssYS5fZW5naW5lPXt9LGEucGF0aDJjdXJ2ZT1iUixhLm1hdHJpeD1mdW5jdGlvbihhLGIsYyxkLGUsZil7cmV0dXJuIG5ldyBjYihhLGIsYyxkLGUsZil9LGZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGQoYSl7dmFyIGI9dy5zcXJ0KGMoYSkpO2FbMF0mJihhWzBdLz1iKSxhWzFdJiYoYVsxXS89Yil9ZnVuY3Rpb24gYyhhKXtyZXR1cm4gYVswXSphWzBdK2FbMV0qYVsxXX1iLmFkZD1mdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc9W1tdLFtdLFtdXSxoPVtbdGhpcy5hLHRoaXMuYyx0aGlzLmVdLFt0aGlzLmIsdGhpcy5kLHRoaXMuZl0sWzAsMCwxXV0saT1bW2EsYyxlXSxbYixkLGZdLFswLDAsMV1dLGosayxsLG07YSYmYSBpbnN0YW5jZW9mIGNiJiYoaT1bW2EuYSxhLmMsYS5lXSxbYS5iLGEuZCxhLmZdLFswLDAsMV1dKTtmb3Ioaj0wO2o8MztqKyspZm9yKGs9MDtrPDM7aysrKXttPTA7Zm9yKGw9MDtsPDM7bCsrKW0rPWhbal1bbF0qaVtsXVtrXTtnW2pdW2tdPW19dGhpcy5hPWdbMF1bMF0sdGhpcy5iPWdbMV1bMF0sdGhpcy5jPWdbMF1bMV0sdGhpcy5kPWdbMV1bMV0sdGhpcy5lPWdbMF1bMl0sdGhpcy5mPWdbMV1bMl19LGIuaW52ZXJ0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuYSphLmQtYS5iKmEuYztyZXR1cm4gbmV3IGNiKGEuZC9iLC1hLmIvYiwtYS5jL2IsYS5hL2IsKGEuYyphLmYtYS5kKmEuZSkvYiwoYS5iKmEuZS1hLmEqYS5mKS9iKX0sYi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgY2IodGhpcy5hLHRoaXMuYix0aGlzLmMsdGhpcy5kLHRoaXMuZSx0aGlzLmYpfSxiLnRyYW5zbGF0ZT1mdW5jdGlvbihhLGIpe3RoaXMuYWRkKDEsMCwwLDEsYSxiKX0sYi5zY2FsZT1mdW5jdGlvbihhLGIsYyxkKXtiPT1udWxsJiYoYj1hKSwoY3x8ZCkmJnRoaXMuYWRkKDEsMCwwLDEsYyxkKSx0aGlzLmFkZChhLDAsMCxiLDAsMCksKGN8fGQpJiZ0aGlzLmFkZCgxLDAsMCwxLC1jLC1kKX0sYi5yb3RhdGU9ZnVuY3Rpb24oYixjLGQpe2I9YS5yYWQoYiksYz1jfHwwLGQ9ZHx8MDt2YXIgZT0rdy5jb3MoYikudG9GaXhlZCg5KSxmPSt3LnNpbihiKS50b0ZpeGVkKDkpO3RoaXMuYWRkKGUsZiwtZixlLGMsZCksdGhpcy5hZGQoMSwwLDAsMSwtYywtZCl9LGIueD1mdW5jdGlvbihhLGIpe3JldHVybiBhKnRoaXMuYStiKnRoaXMuYyt0aGlzLmV9LGIueT1mdW5jdGlvbihhLGIpe3JldHVybiBhKnRoaXMuYitiKnRoaXMuZCt0aGlzLmZ9LGIuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybit0aGlzW3IuZnJvbUNoYXJDb2RlKDk3K2EpXS50b0ZpeGVkKDQpfSxiLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGEuc3ZnPyJtYXRyaXgoIitbdGhpcy5nZXQoMCksdGhpcy5nZXQoMSksdGhpcy5nZXQoMiksdGhpcy5nZXQoMyksdGhpcy5nZXQoNCksdGhpcy5nZXQoNSldLmpvaW4oKSsiKSI6W3RoaXMuZ2V0KDApLHRoaXMuZ2V0KDIpLHRoaXMuZ2V0KDEpLHRoaXMuZ2V0KDMpLDAsMF0uam9pbigpfSxiLnRvRmlsdGVyPWZ1bmN0aW9uKCl7cmV0dXJuInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5NYXRyaXgoTTExPSIrdGhpcy5nZXQoMCkrIiwgTTEyPSIrdGhpcy5nZXQoMikrIiwgTTIxPSIrdGhpcy5nZXQoMSkrIiwgTTIyPSIrdGhpcy5nZXQoMykrIiwgRHg9Iit0aGlzLmdldCg0KSsiLCBEeT0iK3RoaXMuZ2V0KDUpKyIsIHNpemluZ21ldGhvZD0nYXV0byBleHBhbmQnKSJ9LGIub2Zmc2V0PWZ1bmN0aW9uKCl7cmV0dXJuW3RoaXMuZS50b0ZpeGVkKDQpLHRoaXMuZi50b0ZpeGVkKDQpXX0sYi5zcGxpdD1mdW5jdGlvbigpe3ZhciBiPXt9O2IuZHg9dGhpcy5lLGIuZHk9dGhpcy5mO3ZhciBlPVtbdGhpcy5hLHRoaXMuY10sW3RoaXMuYix0aGlzLmRdXTtiLnNjYWxleD13LnNxcnQoYyhlWzBdKSksZChlWzBdKSxiLnNoZWFyPWVbMF1bMF0qZVsxXVswXStlWzBdWzFdKmVbMV1bMV0sZVsxXT1bZVsxXVswXS1lWzBdWzBdKmIuc2hlYXIsZVsxXVsxXS1lWzBdWzFdKmIuc2hlYXJdLGIuc2NhbGV5PXcuc3FydChjKGVbMV0pKSxkKGVbMV0pLGIuc2hlYXIvPWIuc2NhbGV5O3ZhciBmPS1lWzBdWzFdLGc9ZVsxXVsxXTtnPDA/KGIucm90YXRlPWEuZGVnKHcuYWNvcyhnKSksZjwwJiYoYi5yb3RhdGU9MzYwLWIucm90YXRlKSk6Yi5yb3RhdGU9YS5kZWcody5hc2luKGYpKSxiLmlzU2ltcGxlPSErYi5zaGVhci50b0ZpeGVkKDkpJiYoYi5zY2FsZXgudG9GaXhlZCg5KT09Yi5zY2FsZXkudG9GaXhlZCg5KXx8IWIucm90YXRlKSxiLmlzU3VwZXJTaW1wbGU9IStiLnNoZWFyLnRvRml4ZWQoOSkmJmIuc2NhbGV4LnRvRml4ZWQoOSk9PWIuc2NhbGV5LnRvRml4ZWQoOSkmJiFiLnJvdGF0ZSxiLm5vUm90YXRpb249IStiLnNoZWFyLnRvRml4ZWQoOSkmJiFiLnJvdGF0ZTtyZXR1cm4gYn0sYi50b1RyYW5zZm9ybVN0cmluZz1mdW5jdGlvbihhKXt2YXIgYj1hfHx0aGlzW3NdKCk7aWYoYi5pc1NpbXBsZSl7Yi5zY2FsZXg9K2Iuc2NhbGV4LnRvRml4ZWQoNCksYi5zY2FsZXk9K2Iuc2NhbGV5LnRvRml4ZWQoNCksYi5yb3RhdGU9K2Iucm90YXRlLnRvRml4ZWQoNCk7cmV0dXJuKGIuZHh8fGIuZHk/InQiK1tiLmR4LGIuZHldOnApKyhiLnNjYWxleCE9MXx8Yi5zY2FsZXkhPTE/InMiK1tiLnNjYWxleCxiLnNjYWxleSwwLDBdOnApKyhiLnJvdGF0ZT8iciIrW2Iucm90YXRlLDAsMF06cCl9cmV0dXJuIm0iK1t0aGlzLmdldCgwKSx0aGlzLmdldCgxKSx0aGlzLmdldCgyKSx0aGlzLmdldCgzKSx0aGlzLmdldCg0KSx0aGlzLmdldCg1KV19fShjYi5wcm90b3R5cGUpO3ZhciBjYz1uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9WZXJzaW9uXC8oLio/KVxzLyl8fG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0Nocm9tZVwvKFxkKykvKTtuYXZpZ2F0b3IudmVuZG9yPT0iQXBwbGUgQ29tcHV0ZXIsIEluYy4iJiYoY2MmJmNjWzFdPDR8fG5hdmlnYXRvci5wbGF0Zm9ybS5zbGljZSgwLDIpPT0iaVAiKXx8bmF2aWdhdG9yLnZlbmRvcj09Ikdvb2dsZSBJbmMuIiYmY2MmJmNjWzFdPDg/ay5zYWZhcmk9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnJlY3QoLTk5LC05OSx0aGlzLndpZHRoKzk5LHRoaXMuaGVpZ2h0Kzk5KS5hdHRyKHtzdHJva2U6Im5vbmUifSk7c2V0VGltZW91dChmdW5jdGlvbigpe2EucmVtb3ZlKCl9KX06ay5zYWZhcmk9YmU7dmFyIGNkPWZ1bmN0aW9uKCl7dGhpcy5yZXR1cm5WYWx1ZT0hMX0sY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50LnByZXZlbnREZWZhdWx0KCl9LGNmPWZ1bmN0aW9uKCl7dGhpcy5jYW5jZWxCdWJibGU9ITB9LGNnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudC5zdG9wUHJvcGFnYXRpb24oKX0sY2g9ZnVuY3Rpb24oKXtpZihoLmRvYy5hZGRFdmVudExpc3RlbmVyKXJldHVybiBmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1vJiZ1W2JdP3VbYl06YixmPWZ1bmN0aW9uKGUpe3ZhciBmPWguZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fGguZG9jLmJvZHkuc2Nyb2xsVG9wLGk9aC5kb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnR8fGguZG9jLmJvZHkuc2Nyb2xsTGVmdCxqPWUuY2xpZW50WCtpLGs9ZS5jbGllbnRZK2Y7aWYobyYmdVtnXShiKSlmb3IodmFyIGw9MCxtPWUudGFyZ2V0VG91Y2hlcyYmZS50YXJnZXRUb3VjaGVzLmxlbmd0aDtsPG07bCsrKWlmKGUudGFyZ2V0VG91Y2hlc1tsXS50YXJnZXQ9PWEpe3ZhciBuPWU7ZT1lLnRhcmdldFRvdWNoZXNbbF0sZS5vcmlnaW5hbEV2ZW50PW4sZS5wcmV2ZW50RGVmYXVsdD1jZSxlLnN0b3BQcm9wYWdhdGlvbj1jZzticmVha31yZXR1cm4gYy5jYWxsKGQsZSxqLGspfTthLmFkZEV2ZW50TGlzdGVuZXIoZSxmLCExKTtyZXR1cm4gZnVuY3Rpb24oKXthLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxmLCExKTtyZXR1cm4hMH19O2lmKGguZG9jLmF0dGFjaEV2ZW50KXJldHVybiBmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1mdW5jdGlvbihhKXthPWF8fGgud2luLmV2ZW50O3ZhciBiPWguZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fGguZG9jLmJvZHkuc2Nyb2xsVG9wLGU9aC5kb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnR8fGguZG9jLmJvZHkuc2Nyb2xsTGVmdCxmPWEuY2xpZW50WCtlLGc9YS5jbGllbnRZK2I7YS5wcmV2ZW50RGVmYXVsdD1hLnByZXZlbnREZWZhdWx0fHxjZCxhLnN0b3BQcm9wYWdhdGlvbj1hLnN0b3BQcm9wYWdhdGlvbnx8Y2Y7cmV0dXJuIGMuY2FsbChkLGEsZixnKX07YS5hdHRhY2hFdmVudCgib24iK2IsZSk7dmFyIGY9ZnVuY3Rpb24oKXthLmRldGFjaEV2ZW50KCJvbiIrYixlKTtyZXR1cm4hMH07cmV0dXJuIGZ9fSgpLGNpPVtdLGNqPWZ1bmN0aW9uKGEpe3ZhciBiPWEuY2xpZW50WCxjPWEuY2xpZW50WSxkPWguZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fGguZG9jLmJvZHkuc2Nyb2xsVG9wLGU9aC5kb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnR8fGguZG9jLmJvZHkuc2Nyb2xsTGVmdCxmLGc9Y2kubGVuZ3RoO3doaWxlKGctLSl7Zj1jaVtnXTtpZihvKXt2YXIgaT1hLnRvdWNoZXMubGVuZ3RoLGo7d2hpbGUoaS0tKXtqPWEudG91Y2hlc1tpXTtpZihqLmlkZW50aWZpZXI9PWYuZWwuX2RyYWcuaWQpe2I9ai5jbGllbnRYLGM9ai5jbGllbnRZLChhLm9yaWdpbmFsRXZlbnQ/YS5vcmlnaW5hbEV2ZW50OmEpLnByZXZlbnREZWZhdWx0KCk7YnJlYWt9fX1lbHNlIGEucHJldmVudERlZmF1bHQoKTt2YXIgaz1mLmVsLm5vZGUsbCxtPWsubmV4dFNpYmxpbmcsbj1rLnBhcmVudE5vZGUscD1rLnN0eWxlLmRpc3BsYXk7aC53aW4ub3BlcmEmJm4ucmVtb3ZlQ2hpbGQoayksay5zdHlsZS5kaXNwbGF5PSJub25lIixsPWYuZWwucGFwZXIuZ2V0RWxlbWVudEJ5UG9pbnQoYixjKSxrLnN0eWxlLmRpc3BsYXk9cCxoLndpbi5vcGVyYSYmKG0/bi5pbnNlcnRCZWZvcmUoayxtKTpuLmFwcGVuZENoaWxkKGspKSxsJiZldmUoInJhcGhhZWwuZHJhZy5vdmVyLiIrZi5lbC5pZCxmLmVsLGwpLGIrPWUsYys9ZCxldmUoInJhcGhhZWwuZHJhZy5tb3ZlLiIrZi5lbC5pZCxmLm1vdmVfc2NvcGV8fGYuZWwsYi1mLmVsLl9kcmFnLngsYy1mLmVsLl9kcmFnLnksYixjLGEpfX0sY2s9ZnVuY3Rpb24oYil7YS51bm1vdXNlbW92ZShjaikudW5tb3VzZXVwKGNrKTt2YXIgYz1jaS5sZW5ndGgsZDt3aGlsZShjLS0pZD1jaVtjXSxkLmVsLl9kcmFnPXt9LGV2ZSgicmFwaGFlbC5kcmFnLmVuZC4iK2QuZWwuaWQsZC5lbmRfc2NvcGV8fGQuc3RhcnRfc2NvcGV8fGQubW92ZV9zY29wZXx8ZC5lbCxiKTtjaT1bXX0sY2w9YS5lbD17fTtmb3IodmFyIGNtPXQubGVuZ3RoO2NtLS07KShmdW5jdGlvbihiKXthW2JdPWNsW2JdPWZ1bmN0aW9uKGMsZCl7YS5pcyhjLCJmdW5jdGlvbiIpJiYodGhpcy5ldmVudHM9dGhpcy5ldmVudHN8fFtdLHRoaXMuZXZlbnRzLnB1c2goe25hbWU6YixmOmMsdW5iaW5kOmNoKHRoaXMuc2hhcGV8fHRoaXMubm9kZXx8aC5kb2MsYixjLGR8fHRoaXMpfSkpO3JldHVybiB0aGlzfSxhWyJ1biIrYl09Y2xbInVuIitiXT1mdW5jdGlvbihhKXt2YXIgYz10aGlzLmV2ZW50c3x8W10sZD1jLmxlbmd0aDt3aGlsZShkLS0paWYoY1tkXS5uYW1lPT1iJiZjW2RdLmY9PWEpe2NbZF0udW5iaW5kKCksYy5zcGxpY2UoZCwxKSwhYy5sZW5ndGgmJmRlbGV0ZSB0aGlzLmV2ZW50cztyZXR1cm4gdGhpc31yZXR1cm4gdGhpc319KSh0W2NtXSk7Y2wuZGF0YT1mdW5jdGlvbihiLGMpe3ZhciBkPWJiW3RoaXMuaWRdPWJiW3RoaXMuaWRdfHx7fTtpZihhcmd1bWVudHMubGVuZ3RoPT0xKXtpZihhLmlzKGIsIm9iamVjdCIpKXtmb3IodmFyIGUgaW4gYiliW2ddKGUpJiZ0aGlzLmRhdGEoZSxiW2VdKTtyZXR1cm4gdGhpc31ldmUoInJhcGhhZWwuZGF0YS5nZXQuIit0aGlzLmlkLHRoaXMsZFtiXSxiKTtyZXR1cm4gZFtiXX1kW2JdPWMsZXZlKCJyYXBoYWVsLmRhdGEuc2V0LiIrdGhpcy5pZCx0aGlzLGMsYik7cmV0dXJuIHRoaXN9LGNsLnJlbW92ZURhdGE9ZnVuY3Rpb24oYSl7YT09bnVsbD9iYlt0aGlzLmlkXT17fTpiYlt0aGlzLmlkXSYmZGVsZXRlIGJiW3RoaXMuaWRdW2FdO3JldHVybiB0aGlzfSxjbC5ob3Zlcj1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5tb3VzZW92ZXIoYSxjKS5tb3VzZW91dChiLGR8fGMpfSxjbC51bmhvdmVyPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMudW5tb3VzZW92ZXIoYSkudW5tb3VzZW91dChiKX07dmFyIGNuPVtdO2NsLmRyYWc9ZnVuY3Rpb24oYixjLGQsZSxmLGcpe2Z1bmN0aW9uIGkoaSl7KGkub3JpZ2luYWxFdmVudHx8aSkucHJldmVudERlZmF1bHQoKTt2YXIgaj1oLmRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wfHxoLmRvYy5ib2R5LnNjcm9sbFRvcCxrPWguZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0fHxoLmRvYy5ib2R5LnNjcm9sbExlZnQ7dGhpcy5fZHJhZy54PWkuY2xpZW50WCtrLHRoaXMuX2RyYWcueT1pLmNsaWVudFkraix0aGlzLl9kcmFnLmlkPWkuaWRlbnRpZmllciwhY2kubGVuZ3RoJiZhLm1vdXNlbW92ZShjaikubW91c2V1cChjayksY2kucHVzaCh7ZWw6dGhpcyxtb3ZlX3Njb3BlOmUsc3RhcnRfc2NvcGU6ZixlbmRfc2NvcGU6Z30pLGMmJmV2ZS5vbigicmFwaGFlbC5kcmFnLnN0YXJ0LiIrdGhpcy5pZCxjKSxiJiZldmUub24oInJhcGhhZWwuZHJhZy5tb3ZlLiIrdGhpcy5pZCxiKSxkJiZldmUub24oInJhcGhhZWwuZHJhZy5lbmQuIit0aGlzLmlkLGQpLGV2ZSgicmFwaGFlbC5kcmFnLnN0YXJ0LiIrdGhpcy5pZCxmfHxlfHx0aGlzLGkuY2xpZW50WCtrLGkuY2xpZW50WStqLGkpfXRoaXMuX2RyYWc9e30sY24ucHVzaCh7ZWw6dGhpcyxzdGFydDppfSksdGhpcy5tb3VzZWRvd24oaSk7cmV0dXJuIHRoaXN9LGNsLm9uRHJhZ092ZXI9ZnVuY3Rpb24oYSl7YT9ldmUub24oInJhcGhhZWwuZHJhZy5vdmVyLiIrdGhpcy5pZCxhKTpldmUudW5iaW5kKCJyYXBoYWVsLmRyYWcub3Zlci4iK3RoaXMuaWQpfSxjbC51bmRyYWc9ZnVuY3Rpb24oKXt2YXIgYj1jbi5sZW5ndGg7d2hpbGUoYi0tKWNuW2JdLmVsPT10aGlzJiYodGhpcy51bm1vdXNlZG93bihjbltiXS5zdGFydCksY24uc3BsaWNlKGIsMSksZXZlLnVuYmluZCgicmFwaGFlbC5kcmFnLiouIit0aGlzLmlkKSk7IWNuLmxlbmd0aCYmYS51bm1vdXNlbW92ZShjaikudW5tb3VzZXVwKGNrKX0say5jaXJjbGU9ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWEuX2VuZ2luZS5jaXJjbGUodGhpcyxifHwwLGN8fDAsZHx8MCk7dGhpcy5fX3NldF9fJiZ0aGlzLl9fc2V0X18ucHVzaChlKTtyZXR1cm4gZX0say5yZWN0PWZ1bmN0aW9uKGIsYyxkLGUsZil7dmFyIGc9YS5fZW5naW5lLnJlY3QodGhpcyxifHwwLGN8fDAsZHx8MCxlfHwwLGZ8fDApO3RoaXMuX19zZXRfXyYmdGhpcy5fX3NldF9fLnB1c2goZyk7cmV0dXJuIGd9LGsuZWxsaXBzZT1mdW5jdGlvbihiLGMsZCxlKXt2YXIgZj1hLl9lbmdpbmUuZWxsaXBzZSh0aGlzLGJ8fDAsY3x8MCxkfHwwLGV8fDApO3RoaXMuX19zZXRfXyYmdGhpcy5fX3NldF9fLnB1c2goZik7cmV0dXJuIGZ9LGsucGF0aD1mdW5jdGlvbihiKXtiJiYhYS5pcyhiLEQpJiYhYS5pcyhiWzBdLEUpJiYoYis9cCk7dmFyIGM9YS5fZW5naW5lLnBhdGgoYS5mb3JtYXRbbV0oYSxhcmd1bWVudHMpLHRoaXMpO3RoaXMuX19zZXRfXyYmdGhpcy5fX3NldF9fLnB1c2goYyk7cmV0dXJuIGN9LGsuaW1hZ2U9ZnVuY3Rpb24oYixjLGQsZSxmKXt2YXIgZz1hLl9lbmdpbmUuaW1hZ2UodGhpcyxifHwiYWJvdXQ6YmxhbmsiLGN8fDAsZHx8MCxlfHwwLGZ8fDApO3RoaXMuX19zZXRfXyYmdGhpcy5fX3NldF9fLnB1c2goZyk7cmV0dXJuIGd9LGsudGV4dD1mdW5jdGlvbihiLGMsZCl7dmFyIGU9YS5fZW5naW5lLnRleHQodGhpcyxifHwwLGN8fDAscihkKSk7dGhpcy5fX3NldF9fJiZ0aGlzLl9fc2V0X18ucHVzaChlKTtyZXR1cm4gZX0say5zZXQ9ZnVuY3Rpb24oYil7IWEuaXMoYiwiYXJyYXkiKSYmKGI9QXJyYXkucHJvdG90eXBlLnNwbGljZS5jYWxsKGFyZ3VtZW50cywwLGFyZ3VtZW50cy5sZW5ndGgpKTt2YXIgYz1uZXcgY0coYik7dGhpcy5fX3NldF9fJiZ0aGlzLl9fc2V0X18ucHVzaChjKTtyZXR1cm4gY30say5zZXRTdGFydD1mdW5jdGlvbihhKXt0aGlzLl9fc2V0X189YXx8dGhpcy5zZXQoKX0say5zZXRGaW5pc2g9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fX3NldF9fO2RlbGV0ZSB0aGlzLl9fc2V0X187cmV0dXJuIGJ9LGsuc2V0U2l6ZT1mdW5jdGlvbihiLGMpe3JldHVybiBhLl9lbmdpbmUuc2V0U2l6ZS5jYWxsKHRoaXMsYixjKX0say5zZXRWaWV3Qm94PWZ1bmN0aW9uKGIsYyxkLGUsZil7cmV0dXJuIGEuX2VuZ2luZS5zZXRWaWV3Qm94LmNhbGwodGhpcyxiLGMsZCxlLGYpfSxrLnRvcD1rLmJvdHRvbT1udWxsLGsucmFwaGFlbD1hO3ZhciBjbz1mdW5jdGlvbihhKXt2YXIgYj1hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGM9YS5vd25lckRvY3VtZW50LGQ9Yy5ib2R5LGU9Yy5kb2N1bWVudEVsZW1lbnQsZj1lLmNsaWVudFRvcHx8ZC5jbGllbnRUb3B8fDAsZz1lLmNsaWVudExlZnR8fGQuY2xpZW50TGVmdHx8MCxpPWIudG9wKyhoLndpbi5wYWdlWU9mZnNldHx8ZS5zY3JvbGxUb3B8fGQuc2Nyb2xsVG9wKS1mLGo9Yi5sZWZ0KyhoLndpbi5wYWdlWE9mZnNldHx8ZS5zY3JvbGxMZWZ0fHxkLnNjcm9sbExlZnQpLWc7cmV0dXJue3k6aSx4Omp9fTtrLmdldEVsZW1lbnRCeVBvaW50PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWMuY2FudmFzLGU9aC5kb2MuZWxlbWVudEZyb21Qb2ludChhLGIpO2lmKGgud2luLm9wZXJhJiZlLnRhZ05hbWU9PSJzdmciKXt2YXIgZj1jbyhkKSxnPWQuY3JlYXRlU1ZHUmVjdCgpO2cueD1hLWYueCxnLnk9Yi1mLnksZy53aWR0aD1nLmhlaWdodD0xO3ZhciBpPWQuZ2V0SW50ZXJzZWN0aW9uTGlzdChnLG51bGwpO2kubGVuZ3RoJiYoZT1pW2kubGVuZ3RoLTFdKX1pZighZSlyZXR1cm4gbnVsbDt3aGlsZShlLnBhcmVudE5vZGUmJmUhPWQucGFyZW50Tm9kZSYmIWUucmFwaGFlbCllPWUucGFyZW50Tm9kZTtlPT1jLmNhbnZhcy5wYXJlbnROb2RlJiYoZT1kKSxlPWUmJmUucmFwaGFlbD9jLmdldEJ5SWQoZS5yYXBoYWVsaWQpOm51bGw7cmV0dXJuIGV9LGsuZ2V0QnlJZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmJvdHRvbTt3aGlsZShiKXtpZihiLmlkPT1hKXJldHVybiBiO2I9Yi5uZXh0fXJldHVybiBudWxsfSxrLmZvckVhY2g9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmJvdHRvbTt3aGlsZShjKXtpZihhLmNhbGwoYixjKT09PSExKXJldHVybiB0aGlzO2M9Yy5uZXh0fXJldHVybiB0aGlzfSxrLmdldEVsZW1lbnRzQnlQb2ludD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuc2V0KCk7dGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGQpe2QuaXNQb2ludEluc2lkZShhLGIpJiZjLnB1c2goZCl9KTtyZXR1cm4gY30sY2wuaXNQb2ludEluc2lkZT1mdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMucmVhbFBhdGg9dGhpcy5yZWFsUGF0aHx8YmlbdGhpcy50eXBlXSh0aGlzKTtyZXR1cm4gYS5pc1BvaW50SW5zaWRlUGF0aChkLGIsYyl9LGNsLmdldEJCb3g9ZnVuY3Rpb24oYSl7aWYodGhpcy5yZW1vdmVkKXJldHVybnt9O3ZhciBiPXRoaXMuXztpZihhKXtpZihiLmRpcnR5fHwhYi5iYm94d3QpdGhpcy5yZWFsUGF0aD1iaVt0aGlzLnR5cGVdKHRoaXMpLGIuYmJveHd0PWJJKHRoaXMucmVhbFBhdGgpLGIuYmJveHd0LnRvU3RyaW5nPWNxLGIuZGlydHk9MDtyZXR1cm4gYi5iYm94d3R9aWYoYi5kaXJ0eXx8Yi5kaXJ0eVR8fCFiLmJib3gpe2lmKGIuZGlydHl8fCF0aGlzLnJlYWxQYXRoKWIuYmJveHd0PTAsdGhpcy5yZWFsUGF0aD1iaVt0aGlzLnR5cGVdKHRoaXMpO2IuYmJveD1iSShiaih0aGlzLnJlYWxQYXRoLHRoaXMubWF0cml4KSksYi5iYm94LnRvU3RyaW5nPWNxLGIuZGlydHk9Yi5kaXJ0eVQ9MH1yZXR1cm4gYi5iYm94fSxjbC5jbG9uZT1mdW5jdGlvbigpe2lmKHRoaXMucmVtb3ZlZClyZXR1cm4gbnVsbDt2YXIgYT10aGlzLnBhcGVyW3RoaXMudHlwZV0oKS5hdHRyKHRoaXMuYXR0cigpKTt0aGlzLl9fc2V0X18mJnRoaXMuX19zZXRfXy5wdXNoKGEpO3JldHVybiBhfSxjbC5nbG93PWZ1bmN0aW9uKGEpe2lmKHRoaXMudHlwZT09InRleHQiKXJldHVybiBudWxsO2E9YXx8e307dmFyIGI9e3dpZHRoOihhLndpZHRofHwxMCkrKCt0aGlzLmF0dHIoInN0cm9rZS13aWR0aCIpfHwxKSxmaWxsOmEuZmlsbHx8ITEsb3BhY2l0eTphLm9wYWNpdHl8fC41LG9mZnNldHg6YS5vZmZzZXR4fHwwLG9mZnNldHk6YS5vZmZzZXR5fHwwLGNvbG9yOmEuY29sb3J8fCIjMDAwIn0sYz1iLndpZHRoLzIsZD10aGlzLnBhcGVyLGU9ZC5zZXQoKSxmPXRoaXMucmVhbFBhdGh8fGJpW3RoaXMudHlwZV0odGhpcyk7Zj10aGlzLm1hdHJpeD9iaihmLHRoaXMubWF0cml4KTpmO2Zvcih2YXIgZz0xO2c8YysxO2crKyllLnB1c2goZC5wYXRoKGYpLmF0dHIoe3N0cm9rZTpiLmNvbG9yLGZpbGw6Yi5maWxsP2IuY29sb3I6Im5vbmUiLCJzdHJva2UtbGluZWpvaW4iOiJyb3VuZCIsInN0cm9rZS1saW5lY2FwIjoicm91bmQiLCJzdHJva2Utd2lkdGgiOisoYi53aWR0aC9jKmcpLnRvRml4ZWQoMyksb3BhY2l0eTorKGIub3BhY2l0eS9jKS50b0ZpeGVkKDMpfSkpO3JldHVybiBlLmluc2VydEJlZm9yZSh0aGlzKS50cmFuc2xhdGUoYi5vZmZzZXR4LGIub2Zmc2V0eSl9O3ZhciBjcj17fSxjcz1mdW5jdGlvbihiLGMsZCxlLGYsZyxoLGksail7cmV0dXJuIGo9PW51bGw/YkIoYixjLGQsZSxmLGcsaCxpKTphLmZpbmREb3RzQXRTZWdtZW50KGIsYyxkLGUsZixnLGgsaSxiQyhiLGMsZCxlLGYsZyxoLGksaikpfSxjdD1mdW5jdGlvbihiLGMpe3JldHVybiBmdW5jdGlvbihkLGUsZil7ZD1iUihkKTt2YXIgZyxoLGksaixrPSIiLGw9e30sbSxuPTA7Zm9yKHZhciBvPTAscD1kLmxlbmd0aDtvPHA7bysrKXtpPWRbb107aWYoaVswXT09Ik0iKWc9K2lbMV0saD0raVsyXTtlbHNle2o9Y3MoZyxoLGlbMV0saVsyXSxpWzNdLGlbNF0saVs1XSxpWzZdKTtpZihuK2o+ZSl7aWYoYyYmIWwuc3RhcnQpe209Y3MoZyxoLGlbMV0saVsyXSxpWzNdLGlbNF0saVs1XSxpWzZdLGUtbiksays9WyJDIittLnN0YXJ0LngsbS5zdGFydC55LG0ubS54LG0ubS55LG0ueCxtLnldO2lmKGYpcmV0dXJuIGs7bC5zdGFydD1rLGs9WyJNIittLngsbS55KyJDIittLm4ueCxtLm4ueSxtLmVuZC54LG0uZW5kLnksaVs1XSxpWzZdXS5qb2luKCksbis9aixnPStpWzVdLGg9K2lbNl07Y29udGludWV9aWYoIWImJiFjKXttPWNzKGcsaCxpWzFdLGlbMl0saVszXSxpWzRdLGlbNV0saVs2XSxlLW4pO3JldHVybnt4Om0ueCx5Om0ueSxhbHBoYTptLmFscGhhfX19bis9aixnPStpWzVdLGg9K2lbNl19ays9aS5zaGlmdCgpK2l9bC5lbmQ9ayxtPWI/bjpjP2w6YS5maW5kRG90c0F0U2VnbWVudChnLGgsaVswXSxpWzFdLGlbMl0saVszXSxpWzRdLGlbNV0sMSksbS5hbHBoYSYmKG09e3g6bS54LHk6bS55LGFscGhhOm0uYWxwaGF9KTtyZXR1cm4gbX19LGN1PWN0KDEpLGN2PWN0KCksY3c9Y3QoMCwxKTthLmdldFRvdGFsTGVuZ3RoPWN1LGEuZ2V0UG9pbnRBdExlbmd0aD1jdixhLmdldFN1YnBhdGg9ZnVuY3Rpb24oYSxiLGMpe2lmKHRoaXMuZ2V0VG90YWxMZW5ndGgoYSktYzwxZS02KXJldHVybiBjdyhhLGIpLmVuZDt2YXIgZD1jdyhhLGMsMSk7cmV0dXJuIGI/Y3coZCxiKS5lbmQ6ZH0sY2wuZ2V0VG90YWxMZW5ndGg9ZnVuY3Rpb24oKXtpZih0aGlzLnR5cGU9PSJwYXRoIil7aWYodGhpcy5ub2RlLmdldFRvdGFsTGVuZ3RoKXJldHVybiB0aGlzLm5vZGUuZ2V0VG90YWxMZW5ndGgoKTtyZXR1cm4gY3UodGhpcy5hdHRycy5wYXRoKX19LGNsLmdldFBvaW50QXRMZW5ndGg9ZnVuY3Rpb24oYSl7aWYodGhpcy50eXBlPT0icGF0aCIpcmV0dXJuIGN2KHRoaXMuYXR0cnMucGF0aCxhKX0sY2wuZ2V0U3VicGF0aD1mdW5jdGlvbihiLGMpe2lmKHRoaXMudHlwZT09InBhdGgiKXJldHVybiBhLmdldFN1YnBhdGgodGhpcy5hdHRycy5wYXRoLGIsYyl9O3ZhciBjeD1hLmVhc2luZ19mb3JtdWxhcz17bGluZWFyOmZ1bmN0aW9uKGEpe3JldHVybiBhfSwiPCI6ZnVuY3Rpb24oYSl7cmV0dXJuIEEoYSwxLjcpfSwiPiI6ZnVuY3Rpb24oYSl7cmV0dXJuIEEoYSwuNDgpfSwiPD4iOmZ1bmN0aW9uKGEpe3ZhciBiPS40OC1hLzEuMDQsYz13LnNxcnQoLjE3MzQrYipiKSxkPWMtYixlPUEoeihkKSwxLzMpKihkPDA/LTE6MSksZj0tYy1iLGc9QSh6KGYpLDEvMykqKGY8MD8tMToxKSxoPWUrZysuNTtyZXR1cm4oMS1oKSozKmgqaCtoKmgqaH0sYmFja0luOmZ1bmN0aW9uKGEpe3ZhciBiPTEuNzAxNTg7cmV0dXJuIGEqYSooKGIrMSkqYS1iKX0sYmFja091dDpmdW5jdGlvbihhKXthPWEtMTt2YXIgYj0xLjcwMTU4O3JldHVybiBhKmEqKChiKzEpKmErYikrMX0sZWxhc3RpYzpmdW5jdGlvbihhKXtpZihhPT0hIWEpcmV0dXJuIGE7cmV0dXJuIEEoMiwtMTAqYSkqdy5zaW4oKGEtLjA3NSkqMipCLy4zKSsxfSxib3VuY2U6ZnVuY3Rpb24oYSl7dmFyIGI9Ny41NjI1LGM9Mi43NSxkO2E8MS9jP2Q9YiphKmE6YTwyL2M/KGEtPTEuNS9jLGQ9YiphKmErLjc1KTphPDIuNS9jPyhhLT0yLjI1L2MsZD1iKmEqYSsuOTM3NSk6KGEtPTIuNjI1L2MsZD1iKmEqYSsuOTg0Mzc1KTtyZXR1cm4gZH19O2N4LmVhc2VJbj1jeFsiZWFzZS1pbiJdPWN4WyI8Il0sY3guZWFzZU91dD1jeFsiZWFzZS1vdXQiXT1jeFsiPiJdLGN4LmVhc2VJbk91dD1jeFsiZWFzZS1pbi1vdXQiXT1jeFsiPD4iXSxjeFsiYmFjay1pbiJdPWN4LmJhY2tJbixjeFsiYmFjay1vdXQiXT1jeC5iYWNrT3V0O3ZhciBjeT1bXSxjej13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cub1JlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbihhKXtzZXRUaW1lb3V0KGEsMTYpfSxjQT1mdW5jdGlvbigpe3ZhciBiPSsobmV3IERhdGUpLGM9MDtmb3IoO2M8Y3kubGVuZ3RoO2MrKyl7dmFyIGQ9Y3lbY107aWYoZC5lbC5yZW1vdmVkfHxkLnBhdXNlZCljb250aW51ZTt2YXIgZT1iLWQuc3RhcnQsZj1kLm1zLGg9ZC5lYXNpbmcsaT1kLmZyb20saj1kLmRpZmYsaz1kLnRvLGw9ZC50LG09ZC5lbCxvPXt9LHAscj17fSxzO2QuaW5pdHN0YXR1cz8oZT0oZC5pbml0c3RhdHVzKmQuYW5pbS50b3AtZC5wcmV2KS8oZC5wZXJjZW50LWQucHJldikqZixkLnN0YXR1cz1kLmluaXRzdGF0dXMsZGVsZXRlIGQuaW5pdHN0YXR1cyxkLnN0b3AmJmN5LnNwbGljZShjLS0sMSkpOmQuc3RhdHVzPShkLnByZXYrKGQucGVyY2VudC1kLnByZXYpKihlL2YpKS9kLmFuaW0udG9wO2lmKGU8MCljb250aW51ZTtpZihlPGYpe3ZhciB0PWgoZS9mKTtmb3IodmFyIHUgaW4gaSlpZihpW2ddKHUpKXtzd2l0Y2goVVt1XSl7Y2FzZSBDOnA9K2lbdV0rdCpmKmpbdV07YnJlYWs7Y2FzZSJjb2xvdXIiOnA9InJnYigiK1tjQihPKGlbdV0ucit0KmYqalt1XS5yKSksY0IoTyhpW3VdLmcrdCpmKmpbdV0uZykpLGNCKE8oaVt1XS5iK3QqZipqW3VdLmIpKV0uam9pbigiLCIpKyIpIjticmVhaztjYXNlInBhdGgiOnA9W107Zm9yKHZhciB2PTAsdz1pW3VdLmxlbmd0aDt2PHc7disrKXtwW3ZdPVtpW3VdW3ZdWzBdXTtmb3IodmFyIHg9MSx5PWlbdV1bdl0ubGVuZ3RoO3g8eTt4KyspcFt2XVt4XT0raVt1XVt2XVt4XSt0KmYqalt1XVt2XVt4XTtwW3ZdPXBbdl0uam9pbihxKX1wPXAuam9pbihxKTticmVhaztjYXNlInRyYW5zZm9ybSI6aWYoalt1XS5yZWFsKXtwPVtdO2Zvcih2PTAsdz1pW3VdLmxlbmd0aDt2PHc7disrKXtwW3ZdPVtpW3VdW3ZdWzBdXTtmb3IoeD0xLHk9aVt1XVt2XS5sZW5ndGg7eDx5O3grKylwW3ZdW3hdPWlbdV1bdl1beF0rdCpmKmpbdV1bdl1beF19fWVsc2V7dmFyIHo9ZnVuY3Rpb24oYSl7cmV0dXJuK2lbdV1bYV0rdCpmKmpbdV1bYV19O3A9W1sibSIseigwKSx6KDEpLHooMikseigzKSx6KDQpLHooNSldXX1icmVhaztjYXNlImNzdiI6aWYodT09ImNsaXAtcmVjdCIpe3A9W10sdj00O3doaWxlKHYtLSlwW3ZdPStpW3VdW3ZdK3QqZipqW3VdW3ZdfWJyZWFrO2RlZmF1bHQ6dmFyIEE9W11bbl0oaVt1XSk7cD1bXSx2PW0ucGFwZXIuY3VzdG9tQXR0cmlidXRlc1t1XS5sZW5ndGg7d2hpbGUodi0tKXBbdl09K0Fbdl0rdCpmKmpbdV1bdl19b1t1XT1wfW0uYXR0cihvKSxmdW5jdGlvbihhLGIsYyl7c2V0VGltZW91dChmdW5jdGlvbigpe2V2ZSgicmFwaGFlbC5hbmltLmZyYW1lLiIrYSxiLGMpfSl9KG0uaWQsbSxkLmFuaW0pfWVsc2V7KGZ1bmN0aW9uKGIsYyxkKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZXZlKCJyYXBoYWVsLmFuaW0uZnJhbWUuIitjLmlkLGMsZCksZXZlKCJyYXBoYWVsLmFuaW0uZmluaXNoLiIrYy5pZCxjLGQpLGEuaXMoYiwiZnVuY3Rpb24iKSYmYi5jYWxsKGMpfSl9KShkLmNhbGxiYWNrLG0sZC5hbmltKSxtLmF0dHIoayksY3kuc3BsaWNlKGMtLSwxKTtpZihkLnJlcGVhdD4xJiYhZC5uZXh0KXtmb3IocyBpbiBrKWtbZ10ocykmJihyW3NdPWQudG90YWxPcmlnaW5bc10pO2QuZWwuYXR0cihyKSxjRShkLmFuaW0sZC5lbCxkLmFuaW0ucGVyY2VudHNbMF0sbnVsbCxkLnRvdGFsT3JpZ2luLGQucmVwZWF0LTEpfWQubmV4dCYmIWQuc3RvcCYmY0UoZC5hbmltLGQuZWwsZC5uZXh0LG51bGwsZC50b3RhbE9yaWdpbixkLnJlcGVhdCl9fWEuc3ZnJiZtJiZtLnBhcGVyJiZtLnBhcGVyLnNhZmFyaSgpLGN5Lmxlbmd0aCYmY3ooY0EpfSxjQj1mdW5jdGlvbihhKXtyZXR1cm4gYT4yNTU/MjU1OmE8MD8wOmF9O2NsLmFuaW1hdGVXaXRoPWZ1bmN0aW9uKGIsYyxkLGUsZixnKXt2YXIgaD10aGlzO2lmKGgucmVtb3ZlZCl7ZyYmZy5jYWxsKGgpO3JldHVybiBofXZhciBpPWQgaW5zdGFuY2VvZiBjRD9kOmEuYW5pbWF0aW9uKGQsZSxmLGcpLGosaztjRShpLGgsaS5wZXJjZW50c1swXSxudWxsLGguYXR0cigpKTtmb3IodmFyIGw9MCxtPWN5Lmxlbmd0aDtsPG07bCsrKWlmKGN5W2xdLmFuaW09PWMmJmN5W2xdLmVsPT1iKXtjeVttLTFdLnN0YXJ0PWN5W2xdLnN0YXJ0O2JyZWFrfXJldHVybiBofSxjbC5vbkFuaW1hdGlvbj1mdW5jdGlvbihhKXthP2V2ZS5vbigicmFwaGFlbC5hbmltLmZyYW1lLiIrdGhpcy5pZCxhKTpldmUudW5iaW5kKCJyYXBoYWVsLmFuaW0uZnJhbWUuIit0aGlzLmlkKTtyZXR1cm4gdGhpc30sY0QucHJvdG90eXBlLmRlbGF5PWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBjRCh0aGlzLmFuaW0sdGhpcy5tcyk7Yi50aW1lcz10aGlzLnRpbWVzLGIuZGVsPSthfHwwO3JldHVybiBifSxjRC5wcm90b3R5cGUucmVwZWF0PWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBjRCh0aGlzLmFuaW0sdGhpcy5tcyk7Yi5kZWw9dGhpcy5kZWwsYi50aW1lcz13LmZsb29yKHgoYSwwKSl8fDE7cmV0dXJuIGJ9LGEuYW5pbWF0aW9uPWZ1bmN0aW9uKGIsYyxkLGUpe2lmKGIgaW5zdGFuY2VvZiBjRClyZXR1cm4gYjtpZihhLmlzKGQsImZ1bmN0aW9uIil8fCFkKWU9ZXx8ZHx8bnVsbCxkPW51bGw7Yj1PYmplY3QoYiksYz0rY3x8MDt2YXIgZj17fSxoLGk7Zm9yKGkgaW4gYiliW2ddKGkpJiZRKGkpIT1pJiZRKGkpKyIlIiE9aSYmKGg9ITAsZltpXT1iW2ldKTtpZighaClyZXR1cm4gbmV3IGNEKGIsYyk7ZCYmKGYuZWFzaW5nPWQpLGUmJihmLmNhbGxiYWNrPWUpO3JldHVybiBuZXcgY0QoezEwMDpmfSxjKX0sY2wuYW5pbWF0ZT1mdW5jdGlvbihiLGMsZCxlKXt2YXIgZj10aGlzO2lmKGYucmVtb3ZlZCl7ZSYmZS5jYWxsKGYpO3JldHVybiBmfXZhciBnPWIgaW5zdGFuY2VvZiBjRD9iOmEuYW5pbWF0aW9uKGIsYyxkLGUpO2NFKGcsZixnLnBlcmNlbnRzWzBdLG51bGwsZi5hdHRyKCkpO3JldHVybiBmfSxjbC5zZXRUaW1lPWZ1bmN0aW9uKGEsYil7YSYmYiE9bnVsbCYmdGhpcy5zdGF0dXMoYSx5KGIsYS5tcykvYS5tcyk7cmV0dXJuIHRoaXN9LGNsLnN0YXR1cz1mdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQ9MCxlLGY7aWYoYiE9bnVsbCl7Y0UoYSx0aGlzLC0xLHkoYiwxKSk7cmV0dXJuIHRoaXN9ZT1jeS5sZW5ndGg7Zm9yKDtkPGU7ZCsrKXtmPWN5W2RdO2lmKGYuZWwuaWQ9PXRoaXMuaWQmJighYXx8Zi5hbmltPT1hKSl7aWYoYSlyZXR1cm4gZi5zdGF0dXM7Yy5wdXNoKHthbmltOmYuYW5pbSxzdGF0dXM6Zi5zdGF0dXN9KX19aWYoYSlyZXR1cm4gMDtyZXR1cm4gY30sY2wucGF1c2U9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxjeS5sZW5ndGg7YisrKWN5W2JdLmVsLmlkPT10aGlzLmlkJiYoIWF8fGN5W2JdLmFuaW09PWEpJiZldmUoInJhcGhhZWwuYW5pbS5wYXVzZS4iK3RoaXMuaWQsdGhpcyxjeVtiXS5hbmltKSE9PSExJiYoY3lbYl0ucGF1c2VkPSEwKTtyZXR1cm4gdGhpc30sY2wucmVzdW1lPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8Y3kubGVuZ3RoO2IrKylpZihjeVtiXS5lbC5pZD09dGhpcy5pZCYmKCFhfHxjeVtiXS5hbmltPT1hKSl7dmFyIGM9Y3lbYl07ZXZlKCJyYXBoYWVsLmFuaW0ucmVzdW1lLiIrdGhpcy5pZCx0aGlzLGMuYW5pbSkhPT0hMSYmKGRlbGV0ZSBjLnBhdXNlZCx0aGlzLnN0YXR1cyhjLmFuaW0sYy5zdGF0dXMpKX1yZXR1cm4gdGhpc30sY2wuc3RvcD1mdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPGN5Lmxlbmd0aDtiKyspY3lbYl0uZWwuaWQ9PXRoaXMuaWQmJighYXx8Y3lbYl0uYW5pbT09YSkmJmV2ZSgicmFwaGFlbC5hbmltLnN0b3AuIit0aGlzLmlkLHRoaXMsY3lbYl0uYW5pbSkhPT0hMSYmY3kuc3BsaWNlKGItLSwxKTtyZXR1cm4gdGhpc30sZXZlLm9uKCJyYXBoYWVsLnJlbW92ZSIsY0YpLGV2ZS5vbigicmFwaGFlbC5jbGVhciIsY0YpLGNsLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIlJhcGhhw6ts4oCZcyBvYmplY3QifTt2YXIgY0c9ZnVuY3Rpb24oYSl7dGhpcy5pdGVtcz1bXSx0aGlzLmxlbmd0aD0wLHRoaXMudHlwZT0ic2V0IjtpZihhKWZvcih2YXIgYj0wLGM9YS5sZW5ndGg7YjxjO2IrKylhW2JdJiYoYVtiXS5jb25zdHJ1Y3Rvcj09Y2wuY29uc3RydWN0b3J8fGFbYl0uY29uc3RydWN0b3I9PWNHKSYmKHRoaXNbdGhpcy5pdGVtcy5sZW5ndGhdPXRoaXMuaXRlbXNbdGhpcy5pdGVtcy5sZW5ndGhdPWFbYl0sdGhpcy5sZW5ndGgrKyl9LGNIPWNHLnByb3RvdHlwZTtjSC5wdXNoPWZ1bmN0aW9uKCl7dmFyIGEsYjtmb3IodmFyIGM9MCxkPWFyZ3VtZW50cy5sZW5ndGg7YzxkO2MrKylhPWFyZ3VtZW50c1tjXSxhJiYoYS5jb25zdHJ1Y3Rvcj09Y2wuY29uc3RydWN0b3J8fGEuY29uc3RydWN0b3I9PWNHKSYmKGI9dGhpcy5pdGVtcy5sZW5ndGgsdGhpc1tiXT10aGlzLml0ZW1zW2JdPWEsdGhpcy5sZW5ndGgrKyk7cmV0dXJuIHRoaXN9LGNILnBvcD1mdW5jdGlvbigpe3RoaXMubGVuZ3RoJiZkZWxldGUgdGhpc1t0aGlzLmxlbmd0aC0tXTtyZXR1cm4gdGhpcy5pdGVtcy5wb3AoKX0sY0guZm9yRWFjaD1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ9dGhpcy5pdGVtcy5sZW5ndGg7YzxkO2MrKylpZihhLmNhbGwoYix0aGlzLml0ZW1zW2NdLGMpPT09ITEpcmV0dXJuIHRoaXM7cmV0dXJuIHRoaXN9O2Zvcih2YXIgY0kgaW4gY2wpY2xbZ10oY0kpJiYoY0hbY0ldPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBiPWFyZ3VtZW50cztyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGMpe2NbYV1bbV0oYyxiKX0pfX0oY0kpKTtjSC5hdHRyPWZ1bmN0aW9uKGIsYyl7aWYoYiYmYS5pcyhiLEUpJiZhLmlzKGJbMF0sIm9iamVjdCIpKWZvcih2YXIgZD0wLGU9Yi5sZW5ndGg7ZDxlO2QrKyl0aGlzLml0ZW1zW2RdLmF0dHIoYltkXSk7ZWxzZSBmb3IodmFyIGY9MCxnPXRoaXMuaXRlbXMubGVuZ3RoO2Y8ZztmKyspdGhpcy5pdGVtc1tmXS5hdHRyKGIsYyk7cmV0dXJuIHRoaXN9LGNILmNsZWFyPWZ1bmN0aW9uKCl7d2hpbGUodGhpcy5sZW5ndGgpdGhpcy5wb3AoKX0sY0guc3BsaWNlPWZ1bmN0aW9uKGEsYixjKXthPWE8MD94KHRoaXMubGVuZ3RoK2EsMCk6YSxiPXgoMCx5KHRoaXMubGVuZ3RoLWEsYikpO3ZhciBkPVtdLGU9W10sZj1bXSxnO2ZvcihnPTI7Zzxhcmd1bWVudHMubGVuZ3RoO2crKylmLnB1c2goYXJndW1lbnRzW2ddKTtmb3IoZz0wO2c8YjtnKyspZS5wdXNoKHRoaXNbYStnXSk7Zm9yKDtnPHRoaXMubGVuZ3RoLWE7ZysrKWQucHVzaCh0aGlzW2ErZ10pO3ZhciBoPWYubGVuZ3RoO2ZvcihnPTA7ZzxoK2QubGVuZ3RoO2crKyl0aGlzLml0ZW1zW2ErZ109dGhpc1thK2ddPWc8aD9mW2ddOmRbZy1oXTtnPXRoaXMuaXRlbXMubGVuZ3RoPXRoaXMubGVuZ3RoLT1iLWg7d2hpbGUodGhpc1tnXSlkZWxldGUgdGhpc1tnKytdO3JldHVybiBuZXcgY0coZSl9LGNILmV4Y2x1ZGU9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYz10aGlzLmxlbmd0aDtiPGM7YisrKWlmKHRoaXNbYl09PWEpe3RoaXMuc3BsaWNlKGIsMSk7cmV0dXJuITB9fSxjSC5hbmltYXRlPWZ1bmN0aW9uKGIsYyxkLGUpeyhhLmlzKGQsImZ1bmN0aW9uIil8fCFkKSYmKGU9ZHx8bnVsbCk7dmFyIGY9dGhpcy5pdGVtcy5sZW5ndGgsZz1mLGgsaT10aGlzLGo7aWYoIWYpcmV0dXJuIHRoaXM7ZSYmKGo9ZnVuY3Rpb24oKXshLS1mJiZlLmNhbGwoaSl9KSxkPWEuaXMoZCxEKT9kOmo7dmFyIGs9YS5hbmltYXRpb24oYixjLGQsaik7aD10aGlzLml0ZW1zWy0tZ10uYW5pbWF0ZShrKTt3aGlsZShnLS0pdGhpcy5pdGVtc1tnXSYmIXRoaXMuaXRlbXNbZ10ucmVtb3ZlZCYmdGhpcy5pdGVtc1tnXS5hbmltYXRlV2l0aChoLGssayk7cmV0dXJuIHRoaXN9LGNILmluc2VydEFmdGVyPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaXRlbXMubGVuZ3RoO3doaWxlKGItLSl0aGlzLml0ZW1zW2JdLmluc2VydEFmdGVyKGEpO3JldHVybiB0aGlzfSxjSC5nZXRCQm94PWZ1bmN0aW9uKCl7dmFyIGE9W10sYj1bXSxjPVtdLGQ9W107Zm9yKHZhciBlPXRoaXMuaXRlbXMubGVuZ3RoO2UtLTspaWYoIXRoaXMuaXRlbXNbZV0ucmVtb3ZlZCl7dmFyIGY9dGhpcy5pdGVtc1tlXS5nZXRCQm94KCk7YS5wdXNoKGYueCksYi5wdXNoKGYueSksYy5wdXNoKGYueCtmLndpZHRoKSxkLnB1c2goZi55K2YuaGVpZ2h0KX1hPXlbbV0oMCxhKSxiPXlbbV0oMCxiKSxjPXhbbV0oMCxjKSxkPXhbbV0oMCxkKTtyZXR1cm57eDphLHk6Yix4MjpjLHkyOmQsd2lkdGg6Yy1hLGhlaWdodDpkLWJ9fSxjSC5jbG9uZT1mdW5jdGlvbihhKXthPW5ldyBjRztmb3IodmFyIGI9MCxjPXRoaXMuaXRlbXMubGVuZ3RoO2I8YztiKyspYS5wdXNoKHRoaXMuaXRlbXNbYl0uY2xvbmUoKSk7cmV0dXJuIGF9LGNILnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIlJhcGhhw6ts4oCYcyBzZXQifSxhLnJlZ2lzdGVyRm9udD1mdW5jdGlvbihhKXtpZighYS5mYWNlKXJldHVybiBhO3RoaXMuZm9udHM9dGhpcy5mb250c3x8e307dmFyIGI9e3c6YS53LGZhY2U6e30sZ2x5cGhzOnt9fSxjPWEuZmFjZVsiZm9udC1mYW1pbHkiXTtmb3IodmFyIGQgaW4gYS5mYWNlKWEuZmFjZVtnXShkKSYmKGIuZmFjZVtkXT1hLmZhY2VbZF0pO3RoaXMuZm9udHNbY10/dGhpcy5mb250c1tjXS5wdXNoKGIpOnRoaXMuZm9udHNbY109W2JdO2lmKCFhLnN2Zyl7Yi5mYWNlWyJ1bml0cy1wZXItZW0iXT1SKGEuZmFjZVsidW5pdHMtcGVyLWVtIl0sMTApO2Zvcih2YXIgZSBpbiBhLmdseXBocylpZihhLmdseXBoc1tnXShlKSl7dmFyIGY9YS5nbHlwaHNbZV07Yi5nbHlwaHNbZV09e3c6Zi53LGs6e30sZDpmLmQmJiJNIitmLmQucmVwbGFjZSgvW21sY3h0cnZdL2csZnVuY3Rpb24oYSl7cmV0dXJue2w6IkwiLGM6IkMiLHg6InoiLHQ6Im0iLHI6ImwiLHY6ImMifVthXXx8Ik0ifSkrInoifTtpZihmLmspZm9yKHZhciBoIGluIGYuaylmW2ddKGgpJiYoYi5nbHlwaHNbZV0ua1toXT1mLmtbaF0pfX1yZXR1cm4gYX0say5nZXRGb250PWZ1bmN0aW9uKGIsYyxkLGUpe2U9ZXx8Im5vcm1hbCIsZD1kfHwibm9ybWFsIixjPStjfHx7bm9ybWFsOjQwMCxib2xkOjcwMCxsaWdodGVyOjMwMCxib2xkZXI6ODAwfVtjXXx8NDAwO2lmKCEhYS5mb250cyl7dmFyIGY9YS5mb250c1tiXTtpZighZil7dmFyIGg9bmV3IFJlZ0V4cCgiKF58XFxzKSIrYi5yZXBsYWNlKC9bXlx3XGRccyshfi46Xy1dL2cscCkrIihcXHN8JCkiLCJpIik7Zm9yKHZhciBpIGluIGEuZm9udHMpaWYoYS5mb250c1tnXShpKSYmaC50ZXN0KGkpKXtmPWEuZm9udHNbaV07YnJlYWt9fXZhciBqO2lmKGYpZm9yKHZhciBrPTAsbD1mLmxlbmd0aDtrPGw7aysrKXtqPWZba107aWYoai5mYWNlWyJmb250LXdlaWdodCJdPT1jJiYoai5mYWNlWyJmb250LXN0eWxlIl09PWR8fCFqLmZhY2VbImZvbnQtc3R5bGUiXSkmJmouZmFjZVsiZm9udC1zdHJldGNoIl09PWUpYnJlYWt9cmV0dXJuIGp9fSxrLnByaW50PWZ1bmN0aW9uKGIsZCxlLGYsZyxoLGkpe2g9aHx8Im1pZGRsZSIsaT14KHkoaXx8MCwxKSwtMSk7dmFyIGo9cihlKVtzXShwKSxrPTAsbD0wLG09cCxuO2EuaXMoZixlKSYmKGY9dGhpcy5nZXRGb250KGYpKTtpZihmKXtuPShnfHwxNikvZi5mYWNlWyJ1bml0cy1wZXItZW0iXTt2YXIgbz1mLmZhY2UuYmJveFtzXShjKSxxPStvWzBdLHQ9b1szXS1vWzFdLHU9MCx2PStvWzFdKyhoPT0iYmFzZWxpbmUiP3QrICtmLmZhY2UuZGVzY2VudDp0LzIpO2Zvcih2YXIgdz0wLHo9ai5sZW5ndGg7dzx6O3crKyl7aWYoalt3XT09IlxuIilrPTAsQj0wLGw9MCx1Kz10O2Vsc2V7dmFyIEE9bCYmZi5nbHlwaHNbalt3LTFdXXx8e30sQj1mLmdseXBoc1tqW3ddXTtrKz1sPyhBLnd8fGYudykrKEEuayYmQS5rW2pbd11dfHwwKStmLncqaTowLGw9MX1CJiZCLmQmJihtKz1hLnRyYW5zZm9ybVBhdGgoQi5kLFsidCIsaypuLHUqbiwicyIsbixuLHEsdiwidCIsKGItcSkvbiwoZC12KS9uXSkpfX1yZXR1cm4gdGhpcy5wYXRoKG0pLmF0dHIoe2ZpbGw6IiMwMDAiLHN0cm9rZToibm9uZSJ9KX0say5hZGQ9ZnVuY3Rpb24oYil7aWYoYS5pcyhiLCJhcnJheSIpKXt2YXIgYz10aGlzLnNldCgpLGU9MCxmPWIubGVuZ3RoLGg7Zm9yKDtlPGY7ZSsrKWg9YltlXXx8e30sZFtnXShoLnR5cGUpJiZjLnB1c2godGhpc1toLnR5cGVdKCkuYXR0cihoKSl9cmV0dXJuIGN9LGEuZm9ybWF0PWZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5pcyhjLEUpP1swXVtuXShjKTphcmd1bWVudHM7YiYmYS5pcyhiLEQpJiZkLmxlbmd0aC0xJiYoYj1iLnJlcGxhY2UoZSxmdW5jdGlvbihhLGIpe3JldHVybiBkWysrYl09PW51bGw/cDpkW2JdfSkpO3JldHVybiBifHxwfSxhLmZ1bGxmaWxsPWZ1bmN0aW9uKCl7dmFyIGE9L1x7KFteXH1dKylcfS9nLGI9Lyg/Oig/Ol58XC4pKC4rPykoPz1cW3xcLnwkfFwoKXxcWygnfCIpKC4rPylcMlxdKShcKFwpKT8vZyxjPWZ1bmN0aW9uKGEsYyxkKXt2YXIgZT1kO2MucmVwbGFjZShiLGZ1bmN0aW9uKGEsYixjLGQsZil7Yj1ifHxkLGUmJihiIGluIGUmJihlPWVbYl0pLHR5cGVvZiBlPT0iZnVuY3Rpb24iJiZmJiYoZT1lKCkpKX0pLGU9KGU9PW51bGx8fGU9PWQ/YTplKSsiIjtyZXR1cm4gZX07cmV0dXJuIGZ1bmN0aW9uKGIsZCl7cmV0dXJuIFN0cmluZyhiKS5yZXBsYWNlKGEsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYyhhLGIsZCl9KX19KCksYS5uaW5qYT1mdW5jdGlvbigpe2kud2FzP2gud2luLlJhcGhhZWw9aS5pczpkZWxldGUgUmFwaGFlbDtyZXR1cm4gYX0sYS5zdD1jSCxmdW5jdGlvbihiLGMsZCl7ZnVuY3Rpb24gZSgpey9pbi8udGVzdChiLnJlYWR5U3RhdGUpP3NldFRpbWVvdXQoZSw5KTphLmV2ZSgicmFwaGFlbC5ET01sb2FkIil9Yi5yZWFkeVN0YXRlPT1udWxsJiZiLmFkZEV2ZW50TGlzdGVuZXImJihiLmFkZEV2ZW50TGlzdGVuZXIoYyxkPWZ1bmN0aW9uKCl7Yi5yZW1vdmVFdmVudExpc3RlbmVyKGMsZCwhMSksYi5yZWFkeVN0YXRlPSJjb21wbGV0ZSJ9LCExKSxiLnJlYWR5U3RhdGU9ImxvYWRpbmciKSxlKCl9KGRvY3VtZW50LCJET01Db250ZW50TG9hZGVkIiksaS53YXM/aC53aW4uUmFwaGFlbD1hOlJhcGhhZWw9YSxldmUub24oInJhcGhhZWwuRE9NbG9hZCIsZnVuY3Rpb24oKXtiPSEwfSl9KCksd2luZG93LlJhcGhhZWwuc3ZnJiZmdW5jdGlvbihhKXt2YXIgYj0iaGFzT3duUHJvcGVydHkiLGM9U3RyaW5nLGQ9cGFyc2VGbG9hdCxlPXBhcnNlSW50LGY9TWF0aCxnPWYubWF4LGg9Zi5hYnMsaT1mLnBvdyxqPS9bLCBdKy8saz1hLmV2ZSxsPSIiLG09IiAiLG49Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLG89e2Jsb2NrOiJNNSwwIDAsMi41IDUsNXoiLGNsYXNzaWM6Ik01LDAgMCwyLjUgNSw1IDMuNSwzIDMuNSwyeiIsZGlhbW9uZDoiTTIuNSwwIDUsMi41IDIuNSw1IDAsMi41eiIsb3BlbjoiTTYsMSAxLDMuNSA2LDYiLG92YWw6Ik0yLjUsMEEyLjUsMi41LDAsMCwxLDIuNSw1IDIuNSwyLjUsMCwwLDEsMi41LDB6In0scD17fTthLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIllvdXIgYnJvd3NlciBzdXBwb3J0cyBTVkcuXG5Zb3UgYXJlIHJ1bm5pbmcgUmFwaGHDq2wgIit0aGlzLnZlcnNpb259O3ZhciBxPWZ1bmN0aW9uKGQsZSl7aWYoZSl7dHlwZW9mIGQ9PSJzdHJpbmciJiYoZD1xKGQpKTtmb3IodmFyIGYgaW4gZSllW2JdKGYpJiYoZi5zdWJzdHJpbmcoMCw2KT09InhsaW5rOiI/ZC5zZXRBdHRyaWJ1dGVOUyhuLGYuc3Vic3RyaW5nKDYpLGMoZVtmXSkpOmQuc2V0QXR0cmlidXRlKGYsYyhlW2ZdKSkpfWVsc2UgZD1hLl9nLmRvYy5jcmVhdGVFbGVtZW50TlMoImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIixkKSxkLnN0eWxlJiYoZC5zdHlsZS53ZWJraXRUYXBIaWdobGlnaHRDb2xvcj0icmdiYSgwLDAsMCwwKSIpO3JldHVybiBkfSxyPWZ1bmN0aW9uKGIsZSl7dmFyIGo9ImxpbmVhciIsaz1iLmlkK2UsbT0uNSxuPS41LG89Yi5ub2RlLHA9Yi5wYXBlcixyPW8uc3R5bGUscz1hLl9nLmRvYy5nZXRFbGVtZW50QnlJZChrKTtpZighcyl7ZT1jKGUpLnJlcGxhY2UoYS5fcmFkaWFsX2dyYWRpZW50LGZ1bmN0aW9uKGEsYixjKXtqPSJyYWRpYWwiO2lmKGImJmMpe209ZChiKSxuPWQoYyk7dmFyIGU9KG4+LjUpKjItMTtpKG0tLjUsMikraShuLS41LDIpPi4yNSYmKG49Zi5zcXJ0KC4yNS1pKG0tLjUsMikpKmUrLjUpJiZuIT0uNSYmKG49bi50b0ZpeGVkKDUpLTFlLTUqZSl9cmV0dXJuIGx9KSxlPWUuc3BsaXQoL1xzKlwtXHMqLyk7aWYoaj09ImxpbmVhciIpe3ZhciB0PWUuc2hpZnQoKTt0PS1kKHQpO2lmKGlzTmFOKHQpKXJldHVybiBudWxsO3ZhciB1PVswLDAsZi5jb3MoYS5yYWQodCkpLGYuc2luKGEucmFkKHQpKV0sdj0xLyhnKGgodVsyXSksaCh1WzNdKSl8fDEpO3VbMl0qPXYsdVszXSo9dix1WzJdPDAmJih1WzBdPS11WzJdLHVbMl09MCksdVszXTwwJiYodVsxXT0tdVszXSx1WzNdPTApfXZhciB3PWEuX3BhcnNlRG90cyhlKTtpZighdylyZXR1cm4gbnVsbDtrPWsucmVwbGFjZSgvW1woXClccyxceGIwI10vZywiXyIpLGIuZ3JhZGllbnQmJmshPWIuZ3JhZGllbnQuaWQmJihwLmRlZnMucmVtb3ZlQ2hpbGQoYi5ncmFkaWVudCksZGVsZXRlIGIuZ3JhZGllbnQpO2lmKCFiLmdyYWRpZW50KXtzPXEoaisiR3JhZGllbnQiLHtpZDprfSksYi5ncmFkaWVudD1zLHEocyxqPT0icmFkaWFsIj97Zng6bSxmeTpufTp7eDE6dVswXSx5MTp1WzFdLHgyOnVbMl0seTI6dVszXSxncmFkaWVudFRyYW5zZm9ybTpiLm1hdHJpeC5pbnZlcnQoKX0pLHAuZGVmcy5hcHBlbmRDaGlsZChzKTtmb3IodmFyIHg9MCx5PXcubGVuZ3RoO3g8eTt4Kyspcy5hcHBlbmRDaGlsZChxKCJzdG9wIix7b2Zmc2V0OndbeF0ub2Zmc2V0P3dbeF0ub2Zmc2V0Ong/IjEwMCUiOiIwJSIsInN0b3AtY29sb3IiOndbeF0uY29sb3J8fCIjZmZmIn0pKX19cShvLHtmaWxsOiJ1cmwoIyIraysiKSIsb3BhY2l0eToxLCJmaWxsLW9wYWNpdHkiOjF9KSxyLmZpbGw9bCxyLm9wYWNpdHk9MSxyLmZpbGxPcGFjaXR5PTE7cmV0dXJuIDF9LHM9ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRCQm94KDEpO3EoYS5wYXR0ZXJuLHtwYXR0ZXJuVHJhbnNmb3JtOmEubWF0cml4LmludmVydCgpKyIgdHJhbnNsYXRlKCIrYi54KyIsIitiLnkrIikifSl9LHQ9ZnVuY3Rpb24oZCxlLGYpe2lmKGQudHlwZT09InBhdGgiKXt2YXIgZz1jKGUpLnRvTG93ZXJDYXNlKCkuc3BsaXQoIi0iKSxoPWQucGFwZXIsaT1mPyJlbmQiOiJzdGFydCIsaj1kLm5vZGUsaz1kLmF0dHJzLG09a1sic3Ryb2tlLXdpZHRoIl0sbj1nLmxlbmd0aCxyPSJjbGFzc2ljIixzLHQsdSx2LHcseD0zLHk9Myx6PTU7d2hpbGUobi0tKXN3aXRjaChnW25dKXtjYXNlImJsb2NrIjpjYXNlImNsYXNzaWMiOmNhc2Uib3ZhbCI6Y2FzZSJkaWFtb25kIjpjYXNlIm9wZW4iOmNhc2Uibm9uZSI6cj1nW25dO2JyZWFrO2Nhc2Uid2lkZSI6eT01O2JyZWFrO2Nhc2UibmFycm93Ijp5PTI7YnJlYWs7Y2FzZSJsb25nIjp4PTU7YnJlYWs7Y2FzZSJzaG9ydCI6eD0yfXI9PSJvcGVuIj8oeCs9Mix5Kz0yLHorPTIsdT0xLHY9Zj80OjEsdz17ZmlsbDoibm9uZSIsc3Ryb2tlOmsuc3Ryb2tlfSk6KHY9dT14LzIsdz17ZmlsbDprLnN0cm9rZSxzdHJva2U6Im5vbmUifSksZC5fLmFycm93cz9mPyhkLl8uYXJyb3dzLmVuZFBhdGgmJnBbZC5fLmFycm93cy5lbmRQYXRoXS0tLGQuXy5hcnJvd3MuZW5kTWFya2VyJiZwW2QuXy5hcnJvd3MuZW5kTWFya2VyXS0tKTooZC5fLmFycm93cy5zdGFydFBhdGgmJnBbZC5fLmFycm93cy5zdGFydFBhdGhdLS0sZC5fLmFycm93cy5zdGFydE1hcmtlciYmcFtkLl8uYXJyb3dzLnN0YXJ0TWFya2VyXS0tKTpkLl8uYXJyb3dzPXt9O2lmKHIhPSJub25lIil7dmFyIEE9InJhcGhhZWwtbWFya2VyLSIrcixCPSJyYXBoYWVsLW1hcmtlci0iK2krcit4K3k7YS5fZy5kb2MuZ2V0RWxlbWVudEJ5SWQoQSk/cFtBXSsrOihoLmRlZnMuYXBwZW5kQ2hpbGQocShxKCJwYXRoIikseyJzdHJva2UtbGluZWNhcCI6InJvdW5kIixkOm9bcl0saWQ6QX0pKSxwW0FdPTEpO3ZhciBDPWEuX2cuZG9jLmdldEVsZW1lbnRCeUlkKEIpLEQ7Qz8ocFtCXSsrLEQ9Qy5nZXRFbGVtZW50c0J5VGFnTmFtZSgidXNlIilbMF0pOihDPXEocSgibWFya2VyIikse2lkOkIsbWFya2VySGVpZ2h0OnksbWFya2VyV2lkdGg6eCxvcmllbnQ6ImF1dG8iLHJlZlg6dixyZWZZOnkvMn0pLEQ9cShxKCJ1c2UiKSx7InhsaW5rOmhyZWYiOiIjIitBLHRyYW5zZm9ybTooZj8icm90YXRlKDE4MCAiK3gvMisiICIreS8yKyIpICI6bCkrInNjYWxlKCIreC96KyIsIit5L3orIikiLCJzdHJva2Utd2lkdGgiOigxLygoeC96K3kveikvMikpLnRvRml4ZWQoNCl9KSxDLmFwcGVuZENoaWxkKEQpLGguZGVmcy5hcHBlbmRDaGlsZChDKSxwW0JdPTEpLHEoRCx3KTt2YXIgRj11KihyIT0iZGlhbW9uZCImJnIhPSJvdmFsIik7Zj8ocz1kLl8uYXJyb3dzLnN0YXJ0ZHgqbXx8MCx0PWEuZ2V0VG90YWxMZW5ndGgoay5wYXRoKS1GKm0pOihzPUYqbSx0PWEuZ2V0VG90YWxMZW5ndGgoay5wYXRoKS0oZC5fLmFycm93cy5lbmRkeCptfHwwKSksdz17fSx3WyJtYXJrZXItIitpXT0idXJsKCMiK0IrIikiO2lmKHR8fHMpdy5kPVJhcGhhZWwuZ2V0U3VicGF0aChrLnBhdGgscyx0KTtxKGosdyksZC5fLmFycm93c1tpKyJQYXRoIl09QSxkLl8uYXJyb3dzW2krIk1hcmtlciJdPUIsZC5fLmFycm93c1tpKyJkeCJdPUYsZC5fLmFycm93c1tpKyJUeXBlIl09cixkLl8uYXJyb3dzW2krIlN0cmluZyJdPWV9ZWxzZSBmPyhzPWQuXy5hcnJvd3Muc3RhcnRkeCptfHwwLHQ9YS5nZXRUb3RhbExlbmd0aChrLnBhdGgpLXMpOihzPTAsdD1hLmdldFRvdGFsTGVuZ3RoKGsucGF0aCktKGQuXy5hcnJvd3MuZW5kZHgqbXx8MCkpLGQuXy5hcnJvd3NbaSsiUGF0aCJdJiZxKGose2Q6UmFwaGFlbC5nZXRTdWJwYXRoKGsucGF0aCxzLHQpfSksZGVsZXRlIGQuXy5hcnJvd3NbaSsiUGF0aCJdLGRlbGV0ZSBkLl8uYXJyb3dzW2krIk1hcmtlciJdLGRlbGV0ZSBkLl8uYXJyb3dzW2krImR4Il0sZGVsZXRlIGQuXy5hcnJvd3NbaSsiVHlwZSJdLGRlbGV0ZSBkLl8uYXJyb3dzW2krIlN0cmluZyJdO2Zvcih3IGluIHApaWYocFtiXSh3KSYmIXBbd10pe3ZhciBHPWEuX2cuZG9jLmdldEVsZW1lbnRCeUlkKHcpO0cmJkcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChHKX19fSx1PXsiIjpbMF0sbm9uZTpbMF0sIi0iOlszLDFdLCIuIjpbMSwxXSwiLS4iOlszLDEsMSwxXSwiLS4uIjpbMywxLDEsMSwxLDFdLCIuICI6WzEsM10sIi0gIjpbNCwzXSwiLS0iOls4LDNdLCItIC4iOls0LDMsMSwzXSwiLS0uIjpbOCwzLDEsM10sIi0tLi4iOls4LDMsMSwzLDEsM119LHY9ZnVuY3Rpb24oYSxiLGQpe2I9dVtjKGIpLnRvTG93ZXJDYXNlKCldO2lmKGIpe3ZhciBlPWEuYXR0cnNbInN0cm9rZS13aWR0aCJdfHwiMSIsZj17cm91bmQ6ZSxzcXVhcmU6ZSxidXR0OjB9W2EuYXR0cnNbInN0cm9rZS1saW5lY2FwIl18fGRbInN0cm9rZS1saW5lY2FwIl1dfHwwLGc9W10saD1iLmxlbmd0aDt3aGlsZShoLS0pZ1toXT1iW2hdKmUrKGglMj8xOi0xKSpmO3EoYS5ub2RlLHsic3Ryb2tlLWRhc2hhcnJheSI6Zy5qb2luKCIsIil9KX19LHc9ZnVuY3Rpb24oZCxmKXt2YXIgaT1kLm5vZGUsaz1kLmF0dHJzLG09aS5zdHlsZS52aXNpYmlsaXR5O2kuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIjtmb3IodmFyIG8gaW4gZilpZihmW2JdKG8pKXtpZighYS5fYXZhaWxhYmxlQXR0cnNbYl0obykpY29udGludWU7dmFyIHA9ZltvXTtrW29dPXA7c3dpdGNoKG8pe2Nhc2UiYmx1ciI6ZC5ibHVyKHApO2JyZWFrO2Nhc2UiaHJlZiI6Y2FzZSJ0aXRsZSI6Y2FzZSJ0YXJnZXQiOnZhciB1PWkucGFyZW50Tm9kZTtpZih1LnRhZ05hbWUudG9Mb3dlckNhc2UoKSE9ImEiKXt2YXIgdz1xKCJhIik7dS5pbnNlcnRCZWZvcmUodyxpKSx3LmFwcGVuZENoaWxkKGkpLHU9d31vPT0idGFyZ2V0Ij91LnNldEF0dHJpYnV0ZU5TKG4sInNob3ciLHA9PSJibGFuayI/Im5ldyI6cCk6dS5zZXRBdHRyaWJ1dGVOUyhuLG8scCk7YnJlYWs7Y2FzZSJjdXJzb3IiOmkuc3R5bGUuY3Vyc29yPXA7YnJlYWs7Y2FzZSJ0cmFuc2Zvcm0iOmQudHJhbnNmb3JtKHApO2JyZWFrO2Nhc2UiYXJyb3ctc3RhcnQiOnQoZCxwKTticmVhaztjYXNlImFycm93LWVuZCI6dChkLHAsMSk7YnJlYWs7Y2FzZSJjbGlwLXJlY3QiOnZhciB4PWMocCkuc3BsaXQoaik7aWYoeC5sZW5ndGg9PTQpe2QuY2xpcCYmZC5jbGlwLnBhcmVudE5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkLmNsaXAucGFyZW50Tm9kZSk7dmFyIHo9cSgiY2xpcFBhdGgiKSxBPXEoInJlY3QiKTt6LmlkPWEuY3JlYXRlVVVJRCgpLHEoQSx7eDp4WzBdLHk6eFsxXSx3aWR0aDp4WzJdLGhlaWdodDp4WzNdfSksei5hcHBlbmRDaGlsZChBKSxkLnBhcGVyLmRlZnMuYXBwZW5kQ2hpbGQoeikscShpLHsiY2xpcC1wYXRoIjoidXJsKCMiK3ouaWQrIikifSksZC5jbGlwPUF9aWYoIXApe3ZhciBCPWkuZ2V0QXR0cmlidXRlKCJjbGlwLXBhdGgiKTtpZihCKXt2YXIgQz1hLl9nLmRvYy5nZXRFbGVtZW50QnlJZChCLnJlcGxhY2UoLyhedXJsXCgjfFwpJCkvZyxsKSk7QyYmQy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKEMpLHEoaSx7ImNsaXAtcGF0aCI6bH0pLGRlbGV0ZSBkLmNsaXB9fWJyZWFrO2Nhc2UicGF0aCI6ZC50eXBlPT0icGF0aCImJihxKGkse2Q6cD9rLnBhdGg9YS5fcGF0aFRvQWJzb2x1dGUocCk6Ik0wLDAifSksZC5fLmRpcnR5PTEsZC5fLmFycm93cyYmKCJzdGFydFN0cmluZyJpbiBkLl8uYXJyb3dzJiZ0KGQsZC5fLmFycm93cy5zdGFydFN0cmluZyksImVuZFN0cmluZyJpbiBkLl8uYXJyb3dzJiZ0KGQsZC5fLmFycm93cy5lbmRTdHJpbmcsMSkpKTticmVhaztjYXNlIndpZHRoIjppLnNldEF0dHJpYnV0ZShvLHApLGQuXy5kaXJ0eT0xO2lmKGsuZngpbz0ieCIscD1rLng7ZWxzZSBicmVhaztjYXNlIngiOmsuZngmJihwPS1rLngtKGsud2lkdGh8fDApKTtjYXNlInJ4IjppZihvPT0icngiJiZkLnR5cGU9PSJyZWN0IilicmVhaztjYXNlImN4IjppLnNldEF0dHJpYnV0ZShvLHApLGQucGF0dGVybiYmcyhkKSxkLl8uZGlydHk9MTticmVhaztjYXNlImhlaWdodCI6aS5zZXRBdHRyaWJ1dGUobyxwKSxkLl8uZGlydHk9MTtpZihrLmZ5KW89InkiLHA9ay55O2Vsc2UgYnJlYWs7Y2FzZSJ5IjprLmZ5JiYocD0tay55LShrLmhlaWdodHx8MCkpO2Nhc2UicnkiOmlmKG89PSJyeSImJmQudHlwZT09InJlY3QiKWJyZWFrO2Nhc2UiY3kiOmkuc2V0QXR0cmlidXRlKG8scCksZC5wYXR0ZXJuJiZzKGQpLGQuXy5kaXJ0eT0xO2JyZWFrO2Nhc2UiciI6ZC50eXBlPT0icmVjdCI/cShpLHtyeDpwLHJ5OnB9KTppLnNldEF0dHJpYnV0ZShvLHApLGQuXy5kaXJ0eT0xO2JyZWFrO2Nhc2Uic3JjIjpkLnR5cGU9PSJpbWFnZSImJmkuc2V0QXR0cmlidXRlTlMobiwiaHJlZiIscCk7YnJlYWs7Y2FzZSJzdHJva2Utd2lkdGgiOmlmKGQuXy5zeCE9MXx8ZC5fLnN5IT0xKXAvPWcoaChkLl8uc3gpLGgoZC5fLnN5KSl8fDE7ZC5wYXBlci5fdmJTaXplJiYocCo9ZC5wYXBlci5fdmJTaXplKSxpLnNldEF0dHJpYnV0ZShvLHApLGtbInN0cm9rZS1kYXNoYXJyYXkiXSYmdihkLGtbInN0cm9rZS1kYXNoYXJyYXkiXSxmKSxkLl8uYXJyb3dzJiYoInN0YXJ0U3RyaW5nImluIGQuXy5hcnJvd3MmJnQoZCxkLl8uYXJyb3dzLnN0YXJ0U3RyaW5nKSwiZW5kU3RyaW5nImluIGQuXy5hcnJvd3MmJnQoZCxkLl8uYXJyb3dzLmVuZFN0cmluZywxKSk7YnJlYWs7Y2FzZSJzdHJva2UtZGFzaGFycmF5Ijp2KGQscCxmKTticmVhaztjYXNlImZpbGwiOnZhciBEPWMocCkubWF0Y2goYS5fSVNVUkwpO2lmKEQpe3o9cSgicGF0dGVybiIpO3ZhciBGPXEoImltYWdlIik7ei5pZD1hLmNyZWF0ZVVVSUQoKSxxKHose3g6MCx5OjAscGF0dGVyblVuaXRzOiJ1c2VyU3BhY2VPblVzZSIsaGVpZ2h0OjEsd2lkdGg6MX0pLHEoRix7eDowLHk6MCwieGxpbms6aHJlZiI6RFsxXX0pLHouYXBwZW5kQ2hpbGQoRiksZnVuY3Rpb24oYil7YS5fcHJlbG9hZChEWzFdLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vZmZzZXRXaWR0aCxjPXRoaXMub2Zmc2V0SGVpZ2h0O3EoYix7d2lkdGg6YSxoZWlnaHQ6Y30pLHEoRix7d2lkdGg6YSxoZWlnaHQ6Y30pLGQucGFwZXIuc2FmYXJpKCl9KX0oeiksZC5wYXBlci5kZWZzLmFwcGVuZENoaWxkKHopLHEoaSx7ZmlsbDoidXJsKCMiK3ouaWQrIikifSksZC5wYXR0ZXJuPXosZC5wYXR0ZXJuJiZzKGQpO2JyZWFrfXZhciBHPWEuZ2V0UkdCKHApO2lmKCFHLmVycm9yKWRlbGV0ZSBmLmdyYWRpZW50LGRlbGV0ZSBrLmdyYWRpZW50LCFhLmlzKGsub3BhY2l0eSwidW5kZWZpbmVkIikmJmEuaXMoZi5vcGFjaXR5LCJ1bmRlZmluZWQiKSYmcShpLHtvcGFjaXR5Omsub3BhY2l0eX0pLCFhLmlzKGtbImZpbGwtb3BhY2l0eSJdLCJ1bmRlZmluZWQiKSYmYS5pcyhmWyJmaWxsLW9wYWNpdHkiXSwidW5kZWZpbmVkIikmJnEoaSx7ImZpbGwtb3BhY2l0eSI6a1siZmlsbC1vcGFjaXR5Il19KTtlbHNlIGlmKChkLnR5cGU9PSJjaXJjbGUifHxkLnR5cGU9PSJlbGxpcHNlInx8YyhwKS5jaGFyQXQoKSE9InIiKSYmcihkLHApKXtpZigib3BhY2l0eSJpbiBrfHwiZmlsbC1vcGFjaXR5ImluIGspe3ZhciBIPWEuX2cuZG9jLmdldEVsZW1lbnRCeUlkKGkuZ2V0QXR0cmlidXRlKCJmaWxsIikucmVwbGFjZSgvXnVybFwoI3xcKSQvZyxsKSk7aWYoSCl7dmFyIEk9SC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic3RvcCIpO3EoSVtJLmxlbmd0aC0xXSx7InN0b3Atb3BhY2l0eSI6KCJvcGFjaXR5ImluIGs/ay5vcGFjaXR5OjEpKigiZmlsbC1vcGFjaXR5ImluIGs/a1siZmlsbC1vcGFjaXR5Il06MSl9KX19ay5ncmFkaWVudD1wLGsuZmlsbD0ibm9uZSI7YnJlYWt9R1tiXSgib3BhY2l0eSIpJiZxKGkseyJmaWxsLW9wYWNpdHkiOkcub3BhY2l0eT4xP0cub3BhY2l0eS8xMDA6Ry5vcGFjaXR5fSk7Y2FzZSJzdHJva2UiOkc9YS5nZXRSR0IocCksaS5zZXRBdHRyaWJ1dGUobyxHLmhleCksbz09InN0cm9rZSImJkdbYl0oIm9wYWNpdHkiKSYmcShpLHsic3Ryb2tlLW9wYWNpdHkiOkcub3BhY2l0eT4xP0cub3BhY2l0eS8xMDA6Ry5vcGFjaXR5fSksbz09InN0cm9rZSImJmQuXy5hcnJvd3MmJigic3RhcnRTdHJpbmciaW4gZC5fLmFycm93cyYmdChkLGQuXy5hcnJvd3Muc3RhcnRTdHJpbmcpLCJlbmRTdHJpbmciaW4gZC5fLmFycm93cyYmdChkLGQuXy5hcnJvd3MuZW5kU3RyaW5nLDEpKTticmVhaztjYXNlImdyYWRpZW50IjooZC50eXBlPT0iY2lyY2xlInx8ZC50eXBlPT0iZWxsaXBzZSJ8fGMocCkuY2hhckF0KCkhPSJyIikmJnIoZCxwKTticmVhaztjYXNlIm9wYWNpdHkiOmsuZ3JhZGllbnQmJiFrW2JdKCJzdHJva2Utb3BhY2l0eSIpJiZxKGkseyJzdHJva2Utb3BhY2l0eSI6cD4xP3AvMTAwOnB9KTtjYXNlImZpbGwtb3BhY2l0eSI6aWYoay5ncmFkaWVudCl7SD1hLl9nLmRvYy5nZXRFbGVtZW50QnlJZChpLmdldEF0dHJpYnV0ZSgiZmlsbCIpLnJlcGxhY2UoL151cmxcKCN8XCkkL2csbCkpLEgmJihJPUguZ2V0RWxlbWVudHNCeVRhZ05hbWUoInN0b3AiKSxxKElbSS5sZW5ndGgtMV0seyJzdG9wLW9wYWNpdHkiOnB9KSk7YnJlYWt9O2RlZmF1bHQ6bz09ImZvbnQtc2l6ZSImJihwPWUocCwxMCkrInB4Iik7dmFyIEo9by5yZXBsYWNlKC8oXC0uKS9nLGZ1bmN0aW9uKGEpe3JldHVybiBhLnN1YnN0cmluZygxKS50b1VwcGVyQ2FzZSgpfSk7aS5zdHlsZVtKXT1wLGQuXy5kaXJ0eT0xLGkuc2V0QXR0cmlidXRlKG8scCl9fXkoZCxmKSxpLnN0eWxlLnZpc2liaWxpdHk9bX0seD0xLjIseT1mdW5jdGlvbihkLGYpe2lmKGQudHlwZT09InRleHQiJiYhIShmW2JdKCJ0ZXh0Iil8fGZbYl0oImZvbnQiKXx8ZltiXSgiZm9udC1zaXplIil8fGZbYl0oIngiKXx8ZltiXSgieSIpKSl7dmFyIGc9ZC5hdHRycyxoPWQubm9kZSxpPWguZmlyc3RDaGlsZD9lKGEuX2cuZG9jLmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoaC5maXJzdENoaWxkLGwpLmdldFByb3BlcnR5VmFsdWUoImZvbnQtc2l6ZSIpLDEwKToxMDtpZihmW2JdKCJ0ZXh0Iikpe2cudGV4dD1mLnRleHQ7d2hpbGUoaC5maXJzdENoaWxkKWgucmVtb3ZlQ2hpbGQoaC5maXJzdENoaWxkKTt2YXIgaj1jKGYudGV4dCkuc3BsaXQoIlxuIiksaz1bXSxtO2Zvcih2YXIgbj0wLG89ai5sZW5ndGg7bjxvO24rKyltPXEoInRzcGFuIiksbiYmcShtLHtkeTppKngseDpnLnh9KSxtLmFwcGVuZENoaWxkKGEuX2cuZG9jLmNyZWF0ZVRleHROb2RlKGpbbl0pKSxoLmFwcGVuZENoaWxkKG0pLGtbbl09bX1lbHNle2s9aC5nZXRFbGVtZW50c0J5VGFnTmFtZSgidHNwYW4iKTtmb3Iobj0wLG89ay5sZW5ndGg7bjxvO24rKyluP3Eoa1tuXSx7ZHk6aSp4LHg6Zy54fSk6cShrWzBdLHtkeTowfSl9cShoLHt4OmcueCx5OmcueX0pLGQuXy5kaXJ0eT0xO3ZhciBwPWQuX2dldEJCb3goKSxyPWcueS0ocC55K3AuaGVpZ2h0LzIpO3ImJmEuaXMociwiZmluaXRlIikmJnEoa1swXSx7ZHk6cn0pfX0sej1mdW5jdGlvbihiLGMpe3ZhciBkPTAsZT0wO3RoaXNbMF09dGhpcy5ub2RlPWIsYi5yYXBoYWVsPSEwLHRoaXMuaWQ9YS5fb2lkKyssYi5yYXBoYWVsaWQ9dGhpcy5pZCx0aGlzLm1hdHJpeD1hLm1hdHJpeCgpLHRoaXMucmVhbFBhdGg9bnVsbCx0aGlzLnBhcGVyPWMsdGhpcy5hdHRycz10aGlzLmF0dHJzfHx7fSx0aGlzLl89e3RyYW5zZm9ybTpbXSxzeDoxLHN5OjEsZGVnOjAsZHg6MCxkeTowLGRpcnR5OjF9LCFjLmJvdHRvbSYmKGMuYm90dG9tPXRoaXMpLHRoaXMucHJldj1jLnRvcCxjLnRvcCYmKGMudG9wLm5leHQ9dGhpcyksYy50b3A9dGhpcyx0aGlzLm5leHQ9bnVsbH0sQT1hLmVsO3oucHJvdG90eXBlPUEsQS5jb25zdHJ1Y3Rvcj16LGEuX2VuZ2luZS5wYXRoPWZ1bmN0aW9uKGEsYil7dmFyIGM9cSgicGF0aCIpO2IuY2FudmFzJiZiLmNhbnZhcy5hcHBlbmRDaGlsZChjKTt2YXIgZD1uZXcgeihjLGIpO2QudHlwZT0icGF0aCIsdyhkLHtmaWxsOiJub25lIixzdHJva2U6IiMwMDAiLHBhdGg6YX0pO3JldHVybiBkfSxBLnJvdGF0ZT1mdW5jdGlvbihhLGIsZSl7aWYodGhpcy5yZW1vdmVkKXJldHVybiB0aGlzO2E9YyhhKS5zcGxpdChqKSxhLmxlbmd0aC0xJiYoYj1kKGFbMV0pLGU9ZChhWzJdKSksYT1kKGFbMF0pLGU9PW51bGwmJihiPWUpO2lmKGI9PW51bGx8fGU9PW51bGwpe3ZhciBmPXRoaXMuZ2V0QkJveCgxKTtiPWYueCtmLndpZHRoLzIsZT1mLnkrZi5oZWlnaHQvMn10aGlzLnRyYW5zZm9ybSh0aGlzLl8udHJhbnNmb3JtLmNvbmNhdChbWyJyIixhLGIsZV1dKSk7cmV0dXJuIHRoaXN9LEEuc2NhbGU9ZnVuY3Rpb24oYSxiLGUsZil7aWYodGhpcy5yZW1vdmVkKXJldHVybiB0aGlzO2E9YyhhKS5zcGxpdChqKSxhLmxlbmd0aC0xJiYoYj1kKGFbMV0pLGU9ZChhWzJdKSxmPWQoYVszXSkpLGE9ZChhWzBdKSxiPT1udWxsJiYoYj1hKSxmPT1udWxsJiYoZT1mKTtpZihlPT1udWxsfHxmPT1udWxsKXZhciBnPXRoaXMuZ2V0QkJveCgxKTtlPWU9PW51bGw/Zy54K2cud2lkdGgvMjplLGY9Zj09bnVsbD9nLnkrZy5oZWlnaHQvMjpmLHRoaXMudHJhbnNmb3JtKHRoaXMuXy50cmFuc2Zvcm0uY29uY2F0KFtbInMiLGEsYixlLGZdXSkpO3JldHVybiB0aGlzfSxBLnRyYW5zbGF0ZT1mdW5jdGlvbihhLGIpe2lmKHRoaXMucmVtb3ZlZClyZXR1cm4gdGhpczthPWMoYSkuc3BsaXQoaiksYS5sZW5ndGgtMSYmKGI9ZChhWzFdKSksYT1kKGFbMF0pfHwwLGI9K2J8fDAsdGhpcy50cmFuc2Zvcm0odGhpcy5fLnRyYW5zZm9ybS5jb25jYXQoW1sidCIsYSxiXV0pKTtyZXR1cm4gdGhpc30sQS50cmFuc2Zvcm09ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5fO2lmKGM9PW51bGwpcmV0dXJuIGQudHJhbnNmb3JtO2EuX2V4dHJhY3RUcmFuc2Zvcm0odGhpcyxjKSx0aGlzLmNsaXAmJnEodGhpcy5jbGlwLHt0cmFuc2Zvcm06dGhpcy5tYXRyaXguaW52ZXJ0KCl9KSx0aGlzLnBhdHRlcm4mJnModGhpcyksdGhpcy5ub2RlJiZxKHRoaXMubm9kZSx7dHJhbnNmb3JtOnRoaXMubWF0cml4fSk7aWYoZC5zeCE9MXx8ZC5zeSE9MSl7dmFyIGU9dGhpcy5hdHRyc1tiXSgic3Ryb2tlLXdpZHRoIik/dGhpcy5hdHRyc1sic3Ryb2tlLXdpZHRoIl06MTt0aGlzLmF0dHIoeyJzdHJva2Utd2lkdGgiOmV9KX1yZXR1cm4gdGhpc30sQS5oaWRlPWZ1bmN0aW9uKCl7IXRoaXMucmVtb3ZlZCYmdGhpcy5wYXBlci5zYWZhcmkodGhpcy5ub2RlLnN0eWxlLmRpc3BsYXk9Im5vbmUiKTtyZXR1cm4gdGhpc30sQS5zaG93PWZ1bmN0aW9uKCl7IXRoaXMucmVtb3ZlZCYmdGhpcy5wYXBlci5zYWZhcmkodGhpcy5ub2RlLnN0eWxlLmRpc3BsYXk9IiIpO3JldHVybiB0aGlzfSxBLnJlbW92ZT1mdW5jdGlvbigpe2lmKCF0aGlzLnJlbW92ZWQmJiEhdGhpcy5ub2RlLnBhcmVudE5vZGUpe3ZhciBiPXRoaXMucGFwZXI7Yi5fX3NldF9fJiZiLl9fc2V0X18uZXhjbHVkZSh0aGlzKSxrLnVuYmluZCgicmFwaGFlbC4qLiouIit0aGlzLmlkKSx0aGlzLmdyYWRpZW50JiZiLmRlZnMucmVtb3ZlQ2hpbGQodGhpcy5ncmFkaWVudCksYS5fdGVhcih0aGlzLGIpLHRoaXMubm9kZS5wYXJlbnROb2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09ImEiP3RoaXMubm9kZS5wYXJlbnROb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5ub2RlLnBhcmVudE5vZGUpOnRoaXMubm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMubm9kZSk7Zm9yKHZhciBjIGluIHRoaXMpdGhpc1tjXT10eXBlb2YgdGhpc1tjXT09ImZ1bmN0aW9uIj9hLl9yZW1vdmVkRmFjdG9yeShjKTpudWxsO3RoaXMucmVtb3ZlZD0hMH19LEEuX2dldEJCb3g9ZnVuY3Rpb24oKXtpZih0aGlzLm5vZGUuc3R5bGUuZGlzcGxheT09Im5vbmUiKXt0aGlzLnNob3coKTt2YXIgYT0hMH12YXIgYj17fTt0cnl7Yj10aGlzLm5vZGUuZ2V0QkJveCgpfWNhdGNoKGMpe31maW5hbGx5e2I9Ynx8e319YSYmdGhpcy5oaWRlKCk7cmV0dXJuIGJ9LEEuYXR0cj1mdW5jdGlvbihjLGQpe2lmKHRoaXMucmVtb3ZlZClyZXR1cm4gdGhpcztpZihjPT1udWxsKXt2YXIgZT17fTtmb3IodmFyIGYgaW4gdGhpcy5hdHRycyl0aGlzLmF0dHJzW2JdKGYpJiYoZVtmXT10aGlzLmF0dHJzW2ZdKTtlLmdyYWRpZW50JiZlLmZpbGw9PSJub25lIiYmKGUuZmlsbD1lLmdyYWRpZW50KSYmZGVsZXRlIGUuZ3JhZGllbnQsZS50cmFuc2Zvcm09dGhpcy5fLnRyYW5zZm9ybTtyZXR1cm4gZX1pZihkPT1udWxsJiZhLmlzKGMsInN0cmluZyIpKXtpZihjPT0iZmlsbCImJnRoaXMuYXR0cnMuZmlsbD09Im5vbmUiJiZ0aGlzLmF0dHJzLmdyYWRpZW50KXJldHVybiB0aGlzLmF0dHJzLmdyYWRpZW50O2lmKGM9PSJ0cmFuc2Zvcm0iKXJldHVybiB0aGlzLl8udHJhbnNmb3JtO3ZhciBnPWMuc3BsaXQoaiksaD17fTtmb3IodmFyIGk9MCxsPWcubGVuZ3RoO2k8bDtpKyspYz1nW2ldLGMgaW4gdGhpcy5hdHRycz9oW2NdPXRoaXMuYXR0cnNbY106YS5pcyh0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbY10sImZ1bmN0aW9uIik/aFtjXT10aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbY10uZGVmOmhbY109YS5fYXZhaWxhYmxlQXR0cnNbY107cmV0dXJuIGwtMT9oOmhbZ1swXV19aWYoZD09bnVsbCYmYS5pcyhjLCJhcnJheSIpKXtoPXt9O2ZvcihpPTAsbD1jLmxlbmd0aDtpPGw7aSsrKWhbY1tpXV09dGhpcy5hdHRyKGNbaV0pO3JldHVybiBofWlmKGQhPW51bGwpe3ZhciBtPXt9O21bY109ZH1lbHNlIGMhPW51bGwmJmEuaXMoYywib2JqZWN0IikmJihtPWMpO2Zvcih2YXIgbiBpbiBtKWsoInJhcGhhZWwuYXR0ci4iK24rIi4iK3RoaXMuaWQsdGhpcyxtW25dKTtmb3IobiBpbiB0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXMpaWYodGhpcy5wYXBlci5jdXN0b21BdHRyaWJ1dGVzW2JdKG4pJiZtW2JdKG4pJiZhLmlzKHRoaXMucGFwZXIuY3VzdG9tQXR0cmlidXRlc1tuXSwiZnVuY3Rpb24iKSl7dmFyIG89dGhpcy5wYXBlci5jdXN0b21BdHRyaWJ1dGVzW25dLmFwcGx5KHRoaXMsW10uY29uY2F0KG1bbl0pKTt0aGlzLmF0dHJzW25dPW1bbl07Zm9yKHZhciBwIGluIG8pb1tiXShwKSYmKG1bcF09b1twXSl9dyh0aGlzLG0pO3JldHVybiB0aGlzfSxBLnRvRnJvbnQ9ZnVuY3Rpb24oKXtpZih0aGlzLnJlbW92ZWQpcmV0dXJuIHRoaXM7dGhpcy5ub2RlLnBhcmVudE5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0iYSI/dGhpcy5ub2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzLm5vZGUucGFyZW50Tm9kZSk6dGhpcy5ub2RlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5ub2RlKTt2YXIgYj10aGlzLnBhcGVyO2IudG9wIT10aGlzJiZhLl90b2Zyb250KHRoaXMsYik7cmV0dXJuIHRoaXN9LEEudG9CYWNrPWZ1bmN0aW9uKCl7aWYodGhpcy5yZW1vdmVkKXJldHVybiB0aGlzO3ZhciBiPXRoaXMubm9kZS5wYXJlbnROb2RlO2IudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0iYSI/Yi5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLm5vZGUucGFyZW50Tm9kZSx0aGlzLm5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLmZpcnN0Q2hpbGQpOmIuZmlyc3RDaGlsZCE9dGhpcy5ub2RlJiZiLmluc2VydEJlZm9yZSh0aGlzLm5vZGUsdGhpcy5ub2RlLnBhcmVudE5vZGUuZmlyc3RDaGlsZCksYS5fdG9iYWNrKHRoaXMsdGhpcy5wYXBlcik7dmFyIGM9dGhpcy5wYXBlcjtyZXR1cm4gdGhpc30sQS5pbnNlcnRBZnRlcj1mdW5jdGlvbihiKXtpZih0aGlzLnJlbW92ZWQpcmV0dXJuIHRoaXM7dmFyIGM9Yi5ub2RlfHxiW2IubGVuZ3RoLTFdLm5vZGU7Yy5uZXh0U2libGluZz9jLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMubm9kZSxjLm5leHRTaWJsaW5nKTpjLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5ub2RlKSxhLl9pbnNlcnRhZnRlcih0aGlzLGIsdGhpcy5wYXBlcik7cmV0dXJuIHRoaXN9LEEuaW5zZXJ0QmVmb3JlPWZ1bmN0aW9uKGIpe2lmKHRoaXMucmVtb3ZlZClyZXR1cm4gdGhpczt2YXIgYz1iLm5vZGV8fGJbMF0ubm9kZTtjLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMubm9kZSxjKSxhLl9pbnNlcnRiZWZvcmUodGhpcyxiLHRoaXMucGFwZXIpO3JldHVybiB0aGlzfSxBLmJsdXI9ZnVuY3Rpb24oYil7dmFyIGM9dGhpcztpZigrYiE9PTApe3ZhciBkPXEoImZpbHRlciIpLGU9cSgiZmVHYXVzc2lhbkJsdXIiKTtjLmF0dHJzLmJsdXI9YixkLmlkPWEuY3JlYXRlVVVJRCgpLHEoZSx7c3RkRGV2aWF0aW9uOitifHwxLjV9KSxkLmFwcGVuZENoaWxkKGUpLGMucGFwZXIuZGVmcy5hcHBlbmRDaGlsZChkKSxjLl9ibHVyPWQscShjLm5vZGUse2ZpbHRlcjoidXJsKCMiK2QuaWQrIikifSl9ZWxzZSBjLl9ibHVyJiYoYy5fYmx1ci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGMuX2JsdXIpLGRlbGV0ZSBjLl9ibHVyLGRlbGV0ZSBjLmF0dHJzLmJsdXIpLGMubm9kZS5yZW1vdmVBdHRyaWJ1dGUoImZpbHRlciIpfSxhLl9lbmdpbmUuY2lyY2xlPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXEoImNpcmNsZSIpO2EuY2FudmFzJiZhLmNhbnZhcy5hcHBlbmRDaGlsZChlKTt2YXIgZj1uZXcgeihlLGEpO2YuYXR0cnM9e2N4OmIsY3k6YyxyOmQsZmlsbDoibm9uZSIsc3Ryb2tlOiIjMDAwIn0sZi50eXBlPSJjaXJjbGUiLHEoZSxmLmF0dHJzKTtyZXR1cm4gZn0sYS5fZW5naW5lLnJlY3Q9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnPXEoInJlY3QiKTthLmNhbnZhcyYmYS5jYW52YXMuYXBwZW5kQ2hpbGQoZyk7dmFyIGg9bmV3IHooZyxhKTtoLmF0dHJzPXt4OmIseTpjLHdpZHRoOmQsaGVpZ2h0OmUscjpmfHwwLHJ4OmZ8fDAscnk6Znx8MCxmaWxsOiJub25lIixzdHJva2U6IiMwMDAifSxoLnR5cGU9InJlY3QiLHEoZyxoLmF0dHJzKTtyZXR1cm4gaH0sYS5fZW5naW5lLmVsbGlwc2U9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1xKCJlbGxpcHNlIik7YS5jYW52YXMmJmEuY2FudmFzLmFwcGVuZENoaWxkKGYpO3ZhciBnPW5ldyB6KGYsYSk7Zy5hdHRycz17Y3g6YixjeTpjLHJ4OmQscnk6ZSxmaWxsOiJub25lIixzdHJva2U6IiMwMDAifSxnLnR5cGU9ImVsbGlwc2UiLHEoZixnLmF0dHJzKTtyZXR1cm4gZ30sYS5fZW5naW5lLmltYWdlPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz1xKCJpbWFnZSIpO3EoZyx7eDpjLHk6ZCx3aWR0aDplLGhlaWdodDpmLHByZXNlcnZlQXNwZWN0UmF0aW86Im5vbmUifSksZy5zZXRBdHRyaWJ1dGVOUyhuLCJocmVmIixiKSxhLmNhbnZhcyYmYS5jYW52YXMuYXBwZW5kQ2hpbGQoZyk7dmFyIGg9bmV3IHooZyxhKTtoLmF0dHJzPXt4OmMseTpkLHdpZHRoOmUsaGVpZ2h0OmYsc3JjOmJ9LGgudHlwZT0iaW1hZ2UiO3JldHVybiBofSxhLl9lbmdpbmUudGV4dD1mdW5jdGlvbihiLGMsZCxlKXt2YXIgZj1xKCJ0ZXh0Iik7Yi5jYW52YXMmJmIuY2FudmFzLmFwcGVuZENoaWxkKGYpO3ZhciBnPW5ldyB6KGYsYik7Zy5hdHRycz17eDpjLHk6ZCwidGV4dC1hbmNob3IiOiJtaWRkbGUiLHRleHQ6ZSxmb250OmEuX2F2YWlsYWJsZUF0dHJzLmZvbnQsc3Ryb2tlOiJub25lIixmaWxsOiIjMDAwIn0sZy50eXBlPSJ0ZXh0Iix3KGcsZy5hdHRycyk7cmV0dXJuIGd9LGEuX2VuZ2luZS5zZXRTaXplPWZ1bmN0aW9uKGEsYil7dGhpcy53aWR0aD1hfHx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0PWJ8fHRoaXMuaGVpZ2h0LHRoaXMuY2FudmFzLnNldEF0dHJpYnV0ZSgid2lkdGgiLHRoaXMud2lkdGgpLHRoaXMuY2FudmFzLnNldEF0dHJpYnV0ZSgiaGVpZ2h0Iix0aGlzLmhlaWdodCksdGhpcy5fdmlld0JveCYmdGhpcy5zZXRWaWV3Qm94LmFwcGx5KHRoaXMsdGhpcy5fdmlld0JveCk7cmV0dXJuIHRoaXN9LGEuX2VuZ2luZS5jcmVhdGU9ZnVuY3Rpb24oKXt2YXIgYj1hLl9nZXRDb250YWluZXIuYXBwbHkoMCxhcmd1bWVudHMpLGM9YiYmYi5jb250YWluZXIsZD1iLngsZT1iLnksZj1iLndpZHRoLGc9Yi5oZWlnaHQ7aWYoIWMpdGhyb3cgbmV3IEVycm9yKCJTVkcgY29udGFpbmVyIG5vdCBmb3VuZC4iKTt2YXIgaD1xKCJzdmciKSxpPSJvdmVyZmxvdzpoaWRkZW47IixqO2Q9ZHx8MCxlPWV8fDAsZj1mfHw1MTIsZz1nfHwzNDIscShoLHtoZWlnaHQ6Zyx2ZXJzaW9uOjEuMSx3aWR0aDpmLHhtbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyJ9KSxjPT0xPyhoLnN0eWxlLmNzc1RleHQ9aSsicG9zaXRpb246YWJzb2x1dGU7bGVmdDoiK2QrInB4O3RvcDoiK2UrInB4IixhLl9nLmRvYy5ib2R5LmFwcGVuZENoaWxkKGgpLGo9MSk6KGguc3R5bGUuY3NzVGV4dD1pKyJwb3NpdGlvbjpyZWxhdGl2ZSIsYy5maXJzdENoaWxkP2MuaW5zZXJ0QmVmb3JlKGgsYy5maXJzdENoaWxkKTpjLmFwcGVuZENoaWxkKGgpKSxjPW5ldyBhLl9QYXBlcixjLndpZHRoPWYsYy5oZWlnaHQ9ZyxjLmNhbnZhcz1oLGMuY2xlYXIoKSxjLl9sZWZ0PWMuX3RvcD0wLGomJihjLnJlbmRlcmZpeD1mdW5jdGlvbigpe30pLGMucmVuZGVyZml4KCk7cmV0dXJuIGN9LGEuX2VuZ2luZS5zZXRWaWV3Qm94PWZ1bmN0aW9uKGEsYixjLGQsZSl7aygicmFwaGFlbC5zZXRWaWV3Qm94Iix0aGlzLHRoaXMuX3ZpZXdCb3gsW2EsYixjLGQsZV0pO3ZhciBmPWcoYy90aGlzLndpZHRoLGQvdGhpcy5oZWlnaHQpLGg9dGhpcy50b3AsaT1lPyJtZWV0IjoieE1pbllNaW4iLGosbDthPT1udWxsPyh0aGlzLl92YlNpemUmJihmPTEpLGRlbGV0ZSB0aGlzLl92YlNpemUsaj0iMCAwICIrdGhpcy53aWR0aCttK3RoaXMuaGVpZ2h0KToodGhpcy5fdmJTaXplPWYsaj1hK20rYittK2MrbStkKSxxKHRoaXMuY2FudmFzLHt2aWV3Qm94OmoscHJlc2VydmVBc3BlY3RSYXRpbzppfSk7d2hpbGUoZiYmaClsPSJzdHJva2Utd2lkdGgiaW4gaC5hdHRycz9oLmF0dHJzWyJzdHJva2Utd2lkdGgiXToxLGguYXR0cih7InN0cm9rZS13aWR0aCI6bH0pLGguXy5kaXJ0eT0xLGguXy5kaXJ0eVQ9MSxoPWgucHJldjt0aGlzLl92aWV3Qm94PVthLGIsYyxkLCEhZV07cmV0dXJuIHRoaXN9LGEucHJvdG90eXBlLnJlbmRlcmZpeD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuY2FudmFzLGI9YS5zdHlsZSxjO3RyeXtjPWEuZ2V0U2NyZWVuQ1RNKCl8fGEuY3JlYXRlU1ZHTWF0cml4KCl9Y2F0Y2goZCl7Yz1hLmNyZWF0ZVNWR01hdHJpeCgpfXZhciBlPS1jLmUlMSxmPS1jLmYlMTtpZihlfHxmKWUmJih0aGlzLl9sZWZ0PSh0aGlzLl9sZWZ0K2UpJTEsYi5sZWZ0PXRoaXMuX2xlZnQrInB4IiksZiYmKHRoaXMuX3RvcD0odGhpcy5fdG9wK2YpJTEsYi50b3A9dGhpcy5fdG9wKyJweCIpfSxhLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe2EuZXZlKCJyYXBoYWVsLmNsZWFyIix0aGlzKTt2YXIgYj10aGlzLmNhbnZhczt3aGlsZShiLmZpcnN0Q2hpbGQpYi5yZW1vdmVDaGlsZChiLmZpcnN0Q2hpbGQpO3RoaXMuYm90dG9tPXRoaXMudG9wPW51bGwsKHRoaXMuZGVzYz1xKCJkZXNjIikpLmFwcGVuZENoaWxkKGEuX2cuZG9jLmNyZWF0ZVRleHROb2RlKCJDcmVhdGVkIHdpdGggUmFwaGHDq2wgIithLnZlcnNpb24pKSxiLmFwcGVuZENoaWxkKHRoaXMuZGVzYyksYi5hcHBlbmRDaGlsZCh0aGlzLmRlZnM9cSgiZGVmcyIpKX0sYS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7aygicmFwaGFlbC5yZW1vdmUiLHRoaXMpLHRoaXMuY2FudmFzLnBhcmVudE5vZGUmJnRoaXMuY2FudmFzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5jYW52YXMpO2Zvcih2YXIgYiBpbiB0aGlzKXRoaXNbYl09dHlwZW9mIHRoaXNbYl09PSJmdW5jdGlvbiI/YS5fcmVtb3ZlZEZhY3RvcnkoYik6bnVsbH07dmFyIEI9YS5zdDtmb3IodmFyIEMgaW4gQSlBW2JdKEMpJiYhQltiXShDKSYmKEJbQ109ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9YXJndW1lbnRzO3JldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24oYyl7Y1thXS5hcHBseShjLGIpfSl9fShDKSl9KHdpbmRvdy5SYXBoYWVsKSx3aW5kb3cuUmFwaGFlbC52bWwmJmZ1bmN0aW9uKGEpe3ZhciBiPSJoYXNPd25Qcm9wZXJ0eSIsYz1TdHJpbmcsZD1wYXJzZUZsb2F0LGU9TWF0aCxmPWUucm91bmQsZz1lLm1heCxoPWUubWluLGk9ZS5hYnMsaj0iZmlsbCIsaz0vWywgXSsvLGw9YS5ldmUsbT0iIHByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdCIsbj0iICIsbz0iIixwPXtNOiJtIixMOiJsIixDOiJjIixaOiJ4IixtOiJ0IixsOiJyIixjOiJ2Iix6OiJ4In0scT0vKFtjbG16XSksPyhbXmNsbXpdKikvZ2kscj0vIHByb2dpZDpcUytCbHVyXChbXlwpXStcKS9nLHM9Ly0/W14sXHMtXSsvZyx0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7d2lkdGg6MXB4O2hlaWdodDoxcHgiLHU9MjE2MDAsdj17cGF0aDoxLHJlY3Q6MSxpbWFnZToxfSx3PXtjaXJjbGU6MSxlbGxpcHNlOjF9LHg9ZnVuY3Rpb24oYil7dmFyIGQ9L1thaHFzdHZdL2lnLGU9YS5fcGF0aFRvQWJzb2x1dGU7YyhiKS5tYXRjaChkKSYmKGU9YS5fcGF0aDJjdXJ2ZSksZD0vW2NsbXpdL2c7aWYoZT09YS5fcGF0aFRvQWJzb2x1dGUmJiFjKGIpLm1hdGNoKGQpKXt2YXIgZz1jKGIpLnJlcGxhY2UocSxmdW5jdGlvbihhLGIsYyl7dmFyIGQ9W10sZT1iLnRvTG93ZXJDYXNlKCk9PSJtIixnPXBbYl07Yy5yZXBsYWNlKHMsZnVuY3Rpb24oYSl7ZSYmZC5sZW5ndGg9PTImJihnKz1kK3BbYj09Im0iPyJsIjoiTCJdLGQ9W10pLGQucHVzaChmKGEqdSkpfSk7cmV0dXJuIGcrZH0pO3JldHVybiBnfXZhciBoPWUoYiksaSxqO2c9W107Zm9yKHZhciBrPTAsbD1oLmxlbmd0aDtrPGw7aysrKXtpPWhba10saj1oW2tdWzBdLnRvTG93ZXJDYXNlKCksaj09InoiJiYoaj0ieCIpO2Zvcih2YXIgbT0xLHI9aS5sZW5ndGg7bTxyO20rKylqKz1mKGlbbV0qdSkrKG0hPXItMT8iLCI6byk7Zy5wdXNoKGopfXJldHVybiBnLmpvaW4obil9LHk9ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWEubWF0cml4KCk7ZS5yb3RhdGUoLWIsLjUsLjUpO3JldHVybntkeDplLngoYyxkKSxkeTplLnkoYyxkKX19LHo9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnPWEuXyxoPWEubWF0cml4LGs9Zy5maWxscG9zLGw9YS5ub2RlLG09bC5zdHlsZSxvPTEscD0iIixxLHI9dS9iLHM9dS9jO20udmlzaWJpbGl0eT0iaGlkZGVuIjtpZighIWImJiEhYyl7bC5jb29yZHNpemU9aShyKStuK2kocyksbS5yb3RhdGlvbj1mKihiKmM8MD8tMToxKTtpZihmKXt2YXIgdD15KGYsZCxlKTtkPXQuZHgsZT10LmR5fWI8MCYmKHArPSJ4IiksYzwwJiYocCs9IiB5IikmJihvPS0xKSxtLmZsaXA9cCxsLmNvb3Jkb3JpZ2luPWQqLXIrbitlKi1zO2lmKGt8fGcuZmlsbHNpemUpe3ZhciB2PWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoaik7dj12JiZ2WzBdLGwucmVtb3ZlQ2hpbGQodiksayYmKHQ9eShmLGgueChrWzBdLGtbMV0pLGgueShrWzBdLGtbMV0pKSx2LnBvc2l0aW9uPXQuZHgqbytuK3QuZHkqbyksZy5maWxsc2l6ZSYmKHYuc2l6ZT1nLmZpbGxzaXplWzBdKmkoYikrbitnLmZpbGxzaXplWzFdKmkoYykpLGwuYXBwZW5kQ2hpbGQodil9bS52aXNpYmlsaXR5PSJ2aXNpYmxlIn19O2EudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iWW91ciBicm93c2VyIGRvZXNu4oCZdCBzdXBwb3J0IFNWRy4gRmFsbGluZyBkb3duIHRvIFZNTC5cbllvdSBhcmUgcnVubmluZyBSYXBoYcOrbCAiK3RoaXMudmVyc2lvbn07dmFyIEE9ZnVuY3Rpb24oYSxiLGQpe3ZhciBlPWMoYikudG9Mb3dlckNhc2UoKS5zcGxpdCgiLSIpLGY9ZD8iZW5kIjoic3RhcnQiLGc9ZS5sZW5ndGgsaD0iY2xhc3NpYyIsaT0ibWVkaXVtIixqPSJtZWRpdW0iO3doaWxlKGctLSlzd2l0Y2goZVtnXSl7Y2FzZSJibG9jayI6Y2FzZSJjbGFzc2ljIjpjYXNlIm92YWwiOmNhc2UiZGlhbW9uZCI6Y2FzZSJvcGVuIjpjYXNlIm5vbmUiOmg9ZVtnXTticmVhaztjYXNlIndpZGUiOmNhc2UibmFycm93IjpqPWVbZ107YnJlYWs7Y2FzZSJsb25nIjpjYXNlInNob3J0IjppPWVbZ119dmFyIGs9YS5ub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzdHJva2UiKVswXTtrW2YrImFycm93Il09aCxrW2YrImFycm93bGVuZ3RoIl09aSxrW2YrImFycm93d2lkdGgiXT1qfSxCPWZ1bmN0aW9uKGUsaSl7ZS5hdHRycz1lLmF0dHJzfHx7fTt2YXIgbD1lLm5vZGUsbT1lLmF0dHJzLHA9bC5zdHlsZSxxLHI9dltlLnR5cGVdJiYoaS54IT1tLnh8fGkueSE9bS55fHxpLndpZHRoIT1tLndpZHRofHxpLmhlaWdodCE9bS5oZWlnaHR8fGkuY3ghPW0uY3h8fGkuY3khPW0uY3l8fGkucnghPW0ucnh8fGkucnkhPW0ucnl8fGkuciE9bS5yKSxzPXdbZS50eXBlXSYmKG0uY3ghPWkuY3h8fG0uY3khPWkuY3l8fG0uciE9aS5yfHxtLnJ4IT1pLnJ4fHxtLnJ5IT1pLnJ5KSx0PWU7Zm9yKHZhciB5IGluIGkpaVtiXSh5KSYmKG1beV09aVt5XSk7ciYmKG0ucGF0aD1hLl9nZXRQYXRoW2UudHlwZV0oZSksZS5fLmRpcnR5PTEpLGkuaHJlZiYmKGwuaHJlZj1pLmhyZWYpLGkudGl0bGUmJihsLnRpdGxlPWkudGl0bGUpLGkudGFyZ2V0JiYobC50YXJnZXQ9aS50YXJnZXQpLGkuY3Vyc29yJiYocC5jdXJzb3I9aS5jdXJzb3IpLCJibHVyImluIGkmJmUuYmx1cihpLmJsdXIpO2lmKGkucGF0aCYmZS50eXBlPT0icGF0aCJ8fHIpbC5wYXRoPXgofmMobS5wYXRoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoInIiKT9hLl9wYXRoVG9BYnNvbHV0ZShtLnBhdGgpOm0ucGF0aCksZS50eXBlPT0iaW1hZ2UiJiYoZS5fLmZpbGxwb3M9W20ueCxtLnldLGUuXy5maWxsc2l6ZT1bbS53aWR0aCxtLmhlaWdodF0seihlLDEsMSwwLDAsMCkpOyJ0cmFuc2Zvcm0iaW4gaSYmZS50cmFuc2Zvcm0oaS50cmFuc2Zvcm0pO2lmKHMpe3ZhciBCPSttLmN4LEQ9K20uY3ksRT0rbS5yeHx8K20ucnx8MCxHPSttLnJ5fHwrbS5yfHwwO2wucGF0aD1hLmZvcm1hdCgiYXJ7MH0sezF9LHsyfSx7M30sezR9LHsxfSx7NH0sezF9eCIsZigoQi1FKSp1KSxmKChELUcpKnUpLGYoKEIrRSkqdSksZigoRCtHKSp1KSxmKEIqdSkpfWlmKCJjbGlwLXJlY3QiaW4gaSl7dmFyIEg9YyhpWyJjbGlwLXJlY3QiXSkuc3BsaXQoayk7aWYoSC5sZW5ndGg9PTQpe0hbMl09K0hbMl0rICtIWzBdLEhbM109K0hbM10rICtIWzFdO3ZhciBJPWwuY2xpcFJlY3R8fGEuX2cuZG9jLmNyZWF0ZUVsZW1lbnQoImRpdiIpLEo9SS5zdHlsZTtKLmNsaXA9YS5mb3JtYXQoInJlY3QoezF9cHggezJ9cHggezN9cHggezB9cHgpIixIKSxsLmNsaXBSZWN0fHwoSi5wb3NpdGlvbj0iYWJzb2x1dGUiLEoudG9wPTAsSi5sZWZ0PTAsSi53aWR0aD1lLnBhcGVyLndpZHRoKyJweCIsSi5oZWlnaHQ9ZS5wYXBlci5oZWlnaHQrInB4IixsLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKEksbCksSS5hcHBlbmRDaGlsZChsKSxsLmNsaXBSZWN0PUkpfWlbImNsaXAtcmVjdCJdfHxsLmNsaXBSZWN0JiYobC5jbGlwUmVjdC5zdHlsZS5jbGlwPSJhdXRvIil9aWYoZS50ZXh0cGF0aCl7dmFyIEs9ZS50ZXh0cGF0aC5zdHlsZTtpLmZvbnQmJihLLmZvbnQ9aS5mb250KSxpWyJmb250LWZhbWlseSJdJiYoSy5mb250RmFtaWx5PSciJytpWyJmb250LWZhbWlseSJdLnNwbGl0KCIsIilbMF0ucmVwbGFjZSgvXlsnIl0rfFsnIl0rJC9nLG8pKyciJyksaVsiZm9udC1zaXplIl0mJihLLmZvbnRTaXplPWlbImZvbnQtc2l6ZSJdKSxpWyJmb250LXdlaWdodCJdJiYoSy5mb250V2VpZ2h0PWlbImZvbnQtd2VpZ2h0Il0pLGlbImZvbnQtc3R5bGUiXSYmKEsuZm9udFN0eWxlPWlbImZvbnQtc3R5bGUiXSl9ImFycm93LXN0YXJ0ImluIGkmJkEodCxpWyJhcnJvdy1zdGFydCJdKSwiYXJyb3ctZW5kImluIGkmJkEodCxpWyJhcnJvdy1lbmQiXSwxKTtpZihpLm9wYWNpdHkhPW51bGx8fGlbInN0cm9rZS13aWR0aCJdIT1udWxsfHxpLmZpbGwhPW51bGx8fGkuc3JjIT1udWxsfHxpLnN0cm9rZSE9bnVsbHx8aVsic3Ryb2tlLXdpZHRoIl0hPW51bGx8fGlbInN0cm9rZS1vcGFjaXR5Il0hPW51bGx8fGlbImZpbGwtb3BhY2l0eSJdIT1udWxsfHxpWyJzdHJva2UtZGFzaGFycmF5Il0hPW51bGx8fGlbInN0cm9rZS1taXRlcmxpbWl0Il0hPW51bGx8fGlbInN0cm9rZS1saW5lam9pbiJdIT1udWxsfHxpWyJzdHJva2UtbGluZWNhcCJdIT1udWxsKXt2YXIgTD1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKGopLE09ITE7TD1MJiZMWzBdLCFMJiYoTT1MPUYoaikpLGUudHlwZT09ImltYWdlIiYmaS5zcmMmJihMLnNyYz1pLnNyYyksaS5maWxsJiYoTC5vbj0hMCk7aWYoTC5vbj09bnVsbHx8aS5maWxsPT0ibm9uZSJ8fGkuZmlsbD09PW51bGwpTC5vbj0hMTtpZihMLm9uJiZpLmZpbGwpe3ZhciBOPWMoaS5maWxsKS5tYXRjaChhLl9JU1VSTCk7aWYoTil7TC5wYXJlbnROb2RlPT1sJiZsLnJlbW92ZUNoaWxkKEwpLEwucm90YXRlPSEwLEwuc3JjPU5bMV0sTC50eXBlPSJ0aWxlIjt2YXIgTz1lLmdldEJCb3goMSk7TC5wb3NpdGlvbj1PLngrbitPLnksZS5fLmZpbGxwb3M9W08ueCxPLnldLGEuX3ByZWxvYWQoTlsxXSxmdW5jdGlvbigpe2UuXy5maWxsc2l6ZT1bdGhpcy5vZmZzZXRXaWR0aCx0aGlzLm9mZnNldEhlaWdodF19KX1lbHNlIEwuY29sb3I9YS5nZXRSR0IoaS5maWxsKS5oZXgsTC5zcmM9byxMLnR5cGU9InNvbGlkIixhLmdldFJHQihpLmZpbGwpLmVycm9yJiYodC50eXBlIGlue2NpcmNsZToxLGVsbGlwc2U6MX18fGMoaS5maWxsKS5jaGFyQXQoKSE9InIiKSYmQyh0LGkuZmlsbCxMKSYmKG0uZmlsbD0ibm9uZSIsbS5ncmFkaWVudD1pLmZpbGwsTC5yb3RhdGU9ITEpfWlmKCJmaWxsLW9wYWNpdHkiaW4gaXx8Im9wYWNpdHkiaW4gaSl7dmFyIFA9KCgrbVsiZmlsbC1vcGFjaXR5Il0rMXx8MiktMSkqKCgrbS5vcGFjaXR5KzF8fDIpLTEpKigoK2EuZ2V0UkdCKGkuZmlsbCkubysxfHwyKS0xKTtQPWgoZyhQLDApLDEpLEwub3BhY2l0eT1QLEwuc3JjJiYoTC5jb2xvcj0ibm9uZSIpfWwuYXBwZW5kQ2hpbGQoTCk7dmFyIFE9bC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic3Ryb2tlIikmJmwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInN0cm9rZSIpWzBdLFQ9ITE7IVEmJihUPVE9Rigic3Ryb2tlIikpO2lmKGkuc3Ryb2tlJiZpLnN0cm9rZSE9Im5vbmUifHxpWyJzdHJva2Utd2lkdGgiXXx8aVsic3Ryb2tlLW9wYWNpdHkiXSE9bnVsbHx8aVsic3Ryb2tlLWRhc2hhcnJheSJdfHxpWyJzdHJva2UtbWl0ZXJsaW1pdCJdfHxpWyJzdHJva2UtbGluZWpvaW4iXXx8aVsic3Ryb2tlLWxpbmVjYXAiXSlRLm9uPSEwOyhpLnN0cm9rZT09Im5vbmUifHxpLnN0cm9rZT09PW51bGx8fFEub249PW51bGx8fGkuc3Ryb2tlPT0wfHxpWyJzdHJva2Utd2lkdGgiXT09MCkmJihRLm9uPSExKTt2YXIgVT1hLmdldFJHQihpLnN0cm9rZSk7US5vbiYmaS5zdHJva2UmJihRLmNvbG9yPVUuaGV4KSxQPSgoK21bInN0cm9rZS1vcGFjaXR5Il0rMXx8MiktMSkqKCgrbS5vcGFjaXR5KzF8fDIpLTEpKigoK1UubysxfHwyKS0xKTt2YXIgVj0oZChpWyJzdHJva2Utd2lkdGgiXSl8fDEpKi43NTtQPWgoZyhQLDApLDEpLGlbInN0cm9rZS13aWR0aCJdPT1udWxsJiYoVj1tWyJzdHJva2Utd2lkdGgiXSksaVsic3Ryb2tlLXdpZHRoIl0mJihRLndlaWdodD1WKSxWJiZWPDEmJihQKj1WKSYmKFEud2VpZ2h0PTEpLFEub3BhY2l0eT1QLGlbInN0cm9rZS1saW5lam9pbiJdJiYoUS5qb2luc3R5bGU9aVsic3Ryb2tlLWxpbmVqb2luIl18fCJtaXRlciIpLFEubWl0ZXJsaW1pdD1pWyJzdHJva2UtbWl0ZXJsaW1pdCJdfHw4LGlbInN0cm9rZS1saW5lY2FwIl0mJihRLmVuZGNhcD1pWyJzdHJva2UtbGluZWNhcCJdPT0iYnV0dCI/ImZsYXQiOmlbInN0cm9rZS1saW5lY2FwIl09PSJzcXVhcmUiPyJzcXVhcmUiOiJyb3VuZCIpO2lmKGlbInN0cm9rZS1kYXNoYXJyYXkiXSl7dmFyIFc9eyItIjoic2hvcnRkYXNoIiwiLiI6InNob3J0ZG90IiwiLS4iOiJzaG9ydGRhc2hkb3QiLCItLi4iOiJzaG9ydGRhc2hkb3Rkb3QiLCIuICI6ImRvdCIsIi0gIjoiZGFzaCIsIi0tIjoibG9uZ2Rhc2giLCItIC4iOiJkYXNoZG90IiwiLS0uIjoibG9uZ2Rhc2hkb3QiLCItLS4uIjoibG9uZ2Rhc2hkb3Rkb3QifTtRLmRhc2hzdHlsZT1XW2JdKGlbInN0cm9rZS1kYXNoYXJyYXkiXSk/V1tpWyJzdHJva2UtZGFzaGFycmF5Il1dOm99VCYmbC5hcHBlbmRDaGlsZChRKX1pZih0LnR5cGU9PSJ0ZXh0Iil7dC5wYXBlci5jYW52YXMuc3R5bGUuZGlzcGxheT1vO3ZhciBYPXQucGFwZXIuc3BhbixZPTEwMCxaPW0uZm9udCYmbS5mb250Lm1hdGNoKC9cZCsoPzpcLlxkKik/KD89cHgpLyk7cD1YLnN0eWxlLG0uZm9udCYmKHAuZm9udD1tLmZvbnQpLG1bImZvbnQtZmFtaWx5Il0mJihwLmZvbnRGYW1pbHk9bVsiZm9udC1mYW1pbHkiXSksbVsiZm9udC13ZWlnaHQiXSYmKHAuZm9udFdlaWdodD1tWyJmb250LXdlaWdodCJdKSxtWyJmb250LXN0eWxlIl0mJihwLmZvbnRTdHlsZT1tWyJmb250LXN0eWxlIl0pLFo9ZChtWyJmb250LXNpemUiXXx8WiYmWlswXSl8fDEwLHAuZm9udFNpemU9WipZKyJweCIsdC50ZXh0cGF0aC5zdHJpbmcmJihYLmlubmVySFRNTD1jKHQudGV4dHBhdGguc3RyaW5nKS5yZXBsYWNlKC88L2csIiYjNjA7IikucmVwbGFjZSgvJi9nLCImIzM4OyIpLnJlcGxhY2UoL1xuL2csIjxicj4iKSk7dmFyICQ9WC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt0Llc9bS53PSgkLnJpZ2h0LSQubGVmdCkvWSx0Lkg9bS5oPSgkLmJvdHRvbS0kLnRvcCkvWSx0Llg9bS54LHQuWT1tLnkrdC5ILzIsKCJ4ImluIGl8fCJ5ImluIGkpJiYodC5wYXRoLnY9YS5mb3JtYXQoIm17MH0sezF9bHsyfSx7MX0iLGYobS54KnUpLGYobS55KnUpLGYobS54KnUpKzEpKTt2YXIgXz1bIngiLCJ5IiwidGV4dCIsImZvbnQiLCJmb250LWZhbWlseSIsImZvbnQtd2VpZ2h0IiwiZm9udC1zdHlsZSIsImZvbnQtc2l6ZSJdO2Zvcih2YXIgYmE9MCxiYj1fLmxlbmd0aDtiYTxiYjtiYSsrKWlmKF9bYmFdaW4gaSl7dC5fLmRpcnR5PTE7YnJlYWt9c3dpdGNoKG1bInRleHQtYW5jaG9yIl0pe2Nhc2Uic3RhcnQiOnQudGV4dHBhdGguc3R5bGVbInYtdGV4dC1hbGlnbiJdPSJsZWZ0Iix0LmJieD10LlcvMjticmVhaztjYXNlImVuZCI6dC50ZXh0cGF0aC5zdHlsZVsidi10ZXh0LWFsaWduIl09InJpZ2h0Iix0LmJieD0tdC5XLzI7YnJlYWs7ZGVmYXVsdDp0LnRleHRwYXRoLnN0eWxlWyJ2LXRleHQtYWxpZ24iXT0iY2VudGVyIix0LmJieD0wfXQudGV4dHBhdGguc3R5bGVbInYtdGV4dC1rZXJuIl09ITB9fSxDPWZ1bmN0aW9uKGIsZixnKXtiLmF0dHJzPWIuYXR0cnN8fHt9O3ZhciBoPWIuYXR0cnMsaT1NYXRoLnBvdyxqLGssbD0ibGluZWFyIixtPSIuNSAuNSI7Yi5hdHRycy5ncmFkaWVudD1mLGY9YyhmKS5yZXBsYWNlKGEuX3JhZGlhbF9ncmFkaWVudCxmdW5jdGlvbihhLGIsYyl7bD0icmFkaWFsIixiJiZjJiYoYj1kKGIpLGM9ZChjKSxpKGItLjUsMikraShjLS41LDIpPi4yNSYmKGM9ZS5zcXJ0KC4yNS1pKGItLjUsMikpKigoYz4uNSkqMi0xKSsuNSksbT1iK24rYyk7cmV0dXJuIG99KSxmPWYuc3BsaXQoL1xzKlwtXHMqLyk7aWYobD09ImxpbmVhciIpe3ZhciBwPWYuc2hpZnQoKTtwPS1kKHApO2lmKGlzTmFOKHApKXJldHVybiBudWxsfXZhciBxPWEuX3BhcnNlRG90cyhmKTtpZighcSlyZXR1cm4gbnVsbDtiPWIuc2hhcGV8fGIubm9kZTtpZihxLmxlbmd0aCl7Yi5yZW1vdmVDaGlsZChnKSxnLm9uPSEwLGcubWV0aG9kPSJub25lIixnLmNvbG9yPXFbMF0uY29sb3IsZy5jb2xvcjI9cVtxLmxlbmd0aC0xXS5jb2xvcjt2YXIgcj1bXTtmb3IodmFyIHM9MCx0PXEubGVuZ3RoO3M8dDtzKyspcVtzXS5vZmZzZXQmJnIucHVzaChxW3NdLm9mZnNldCtuK3Fbc10uY29sb3IpO2cuY29sb3JzPXIubGVuZ3RoP3Iuam9pbigpOiIwJSAiK2cuY29sb3IsbD09InJhZGlhbCI/KGcudHlwZT0iZ3JhZGllbnRUaXRsZSIsZy5mb2N1cz0iMTAwJSIsZy5mb2N1c3NpemU9IjAgMCIsZy5mb2N1c3Bvc2l0aW9uPW0sZy5hbmdsZT0wKTooZy50eXBlPSJncmFkaWVudCIsZy5hbmdsZT0oMjcwLXApJTM2MCksYi5hcHBlbmRDaGlsZChnKX1yZXR1cm4gMX0sRD1mdW5jdGlvbihiLGMpe3RoaXNbMF09dGhpcy5ub2RlPWIsYi5yYXBoYWVsPSEwLHRoaXMuaWQ9YS5fb2lkKyssYi5yYXBoYWVsaWQ9dGhpcy5pZCx0aGlzLlg9MCx0aGlzLlk9MCx0aGlzLmF0dHJzPXt9LHRoaXMucGFwZXI9Yyx0aGlzLm1hdHJpeD1hLm1hdHJpeCgpLHRoaXMuXz17dHJhbnNmb3JtOltdLHN4OjEsc3k6MSxkeDowLGR5OjAsZGVnOjAsZGlydHk6MSxkaXJ0eVQ6MX0sIWMuYm90dG9tJiYoYy5ib3R0b209dGhpcyksdGhpcy5wcmV2PWMudG9wLGMudG9wJiYoYy50b3AubmV4dD10aGlzKSxjLnRvcD10aGlzLHRoaXMubmV4dD1udWxsfSxFPWEuZWw7RC5wcm90b3R5cGU9RSxFLmNvbnN0cnVjdG9yPUQsRS50cmFuc2Zvcm09ZnVuY3Rpb24oYil7aWYoYj09bnVsbClyZXR1cm4gdGhpcy5fLnRyYW5zZm9ybTt2YXIgZD10aGlzLnBhcGVyLl92aWV3Qm94U2hpZnQsZT1kPyJzIitbZC5zY2FsZSxkLnNjYWxlXSsiLTEtMXQiK1tkLmR4LGQuZHldOm8sZjtkJiYoZj1iPWMoYikucmVwbGFjZSgvXC57M318XHUyMDI2L2csdGhpcy5fLnRyYW5zZm9ybXx8bykpLGEuX2V4dHJhY3RUcmFuc2Zvcm0odGhpcyxlK2IpO3ZhciBnPXRoaXMubWF0cml4LmNsb25lKCksaD10aGlzLnNrZXcsaT10aGlzLm5vZGUsaixrPX5jKHRoaXMuYXR0cnMuZmlsbCkuaW5kZXhPZigiLSIpLGw9IWModGhpcy5hdHRycy5maWxsKS5pbmRleE9mKCJ1cmwoIik7Zy50cmFuc2xhdGUoLTAuNSwtMC41KTtpZihsfHxrfHx0aGlzLnR5cGU9PSJpbWFnZSIpe2gubWF0cml4PSIxIDAgMCAxIixoLm9mZnNldD0iMCAwIixqPWcuc3BsaXQoKTtpZihrJiZqLm5vUm90YXRpb258fCFqLmlzU2ltcGxlKXtpLnN0eWxlLmZpbHRlcj1nLnRvRmlsdGVyKCk7dmFyIG09dGhpcy5nZXRCQm94KCkscD10aGlzLmdldEJCb3goMSkscT1tLngtcC54LHI9bS55LXAueTtpLmNvb3Jkb3JpZ2luPXEqLXUrbityKi11LHoodGhpcywxLDEscSxyLDApfWVsc2UgaS5zdHlsZS5maWx0ZXI9byx6KHRoaXMsai5zY2FsZXgsai5zY2FsZXksai5keCxqLmR5LGoucm90YXRlKX1lbHNlIGkuc3R5bGUuZmlsdGVyPW8saC5tYXRyaXg9YyhnKSxoLm9mZnNldD1nLm9mZnNldCgpO2YmJih0aGlzLl8udHJhbnNmb3JtPWYpO3JldHVybiB0aGlzfSxFLnJvdGF0ZT1mdW5jdGlvbihhLGIsZSl7aWYodGhpcy5yZW1vdmVkKXJldHVybiB0aGlzO2lmKGEhPW51bGwpe2E9YyhhKS5zcGxpdChrKSxhLmxlbmd0aC0xJiYoYj1kKGFbMV0pLGU9ZChhWzJdKSksYT1kKGFbMF0pLGU9PW51bGwmJihiPWUpO2lmKGI9PW51bGx8fGU9PW51bGwpe3ZhciBmPXRoaXMuZ2V0QkJveCgxKTtiPWYueCtmLndpZHRoLzIsZT1mLnkrZi5oZWlnaHQvMn10aGlzLl8uZGlydHlUPTEsdGhpcy50cmFuc2Zvcm0odGhpcy5fLnRyYW5zZm9ybS5jb25jYXQoW1siciIsYSxiLGVdXSkpO3JldHVybiB0aGlzfX0sRS50cmFuc2xhdGU9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLnJlbW92ZWQpcmV0dXJuIHRoaXM7YT1jKGEpLnNwbGl0KGspLGEubGVuZ3RoLTEmJihiPWQoYVsxXSkpLGE9ZChhWzBdKXx8MCxiPStifHwwLHRoaXMuXy5iYm94JiYodGhpcy5fLmJib3gueCs9YSx0aGlzLl8uYmJveC55Kz1iKSx0aGlzLnRyYW5zZm9ybSh0aGlzLl8udHJhbnNmb3JtLmNvbmNhdChbWyJ0IixhLGJdXSkpO3JldHVybiB0aGlzfSxFLnNjYWxlPWZ1bmN0aW9uKGEsYixlLGYpe2lmKHRoaXMucmVtb3ZlZClyZXR1cm4gdGhpczthPWMoYSkuc3BsaXQoayksYS5sZW5ndGgtMSYmKGI9ZChhWzFdKSxlPWQoYVsyXSksZj1kKGFbM10pLGlzTmFOKGUpJiYoZT1udWxsKSxpc05hTihmKSYmKGY9bnVsbCkpLGE9ZChhWzBdKSxiPT1udWxsJiYoYj1hKSxmPT1udWxsJiYoZT1mKTtpZihlPT1udWxsfHxmPT1udWxsKXZhciBnPXRoaXMuZ2V0QkJveCgxKTtlPWU9PW51bGw/Zy54K2cud2lkdGgvMjplLGY9Zj09bnVsbD9nLnkrZy5oZWlnaHQvMjpmLHRoaXMudHJhbnNmb3JtKHRoaXMuXy50cmFuc2Zvcm0uY29uY2F0KFtbInMiLGEsYixlLGZdXSkpLHRoaXMuXy5kaXJ0eVQ9MTtyZXR1cm4gdGhpc30sRS5oaWRlPWZ1bmN0aW9uKCl7IXRoaXMucmVtb3ZlZCYmKHRoaXMubm9kZS5zdHlsZS5kaXNwbGF5PSJub25lIik7cmV0dXJuIHRoaXN9LEUuc2hvdz1mdW5jdGlvbigpeyF0aGlzLnJlbW92ZWQmJih0aGlzLm5vZGUuc3R5bGUuZGlzcGxheT1vKTtyZXR1cm4gdGhpc30sRS5fZ2V0QkJveD1mdW5jdGlvbigpe2lmKHRoaXMucmVtb3ZlZClyZXR1cm57fTtyZXR1cm57eDp0aGlzLlgrKHRoaXMuYmJ4fHwwKS10aGlzLlcvMix5OnRoaXMuWS10aGlzLkgsd2lkdGg6dGhpcy5XLGhlaWdodDp0aGlzLkh9fSxFLnJlbW92ZT1mdW5jdGlvbigpe2lmKCF0aGlzLnJlbW92ZWQmJiEhdGhpcy5ub2RlLnBhcmVudE5vZGUpe3RoaXMucGFwZXIuX19zZXRfXyYmdGhpcy5wYXBlci5fX3NldF9fLmV4Y2x1ZGUodGhpcyksYS5ldmUudW5iaW5kKCJyYXBoYWVsLiouKi4iK3RoaXMuaWQpLGEuX3RlYXIodGhpcyx0aGlzLnBhcGVyKSx0aGlzLm5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLm5vZGUpLHRoaXMuc2hhcGUmJnRoaXMuc2hhcGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnNoYXBlKTtmb3IodmFyIGIgaW4gdGhpcyl0aGlzW2JdPXR5cGVvZiB0aGlzW2JdPT0iZnVuY3Rpb24iP2EuX3JlbW92ZWRGYWN0b3J5KGIpOm51bGw7dGhpcy5yZW1vdmVkPSEwfX0sRS5hdHRyPWZ1bmN0aW9uKGMsZCl7aWYodGhpcy5yZW1vdmVkKXJldHVybiB0aGlzO2lmKGM9PW51bGwpe3ZhciBlPXt9O2Zvcih2YXIgZiBpbiB0aGlzLmF0dHJzKXRoaXMuYXR0cnNbYl0oZikmJihlW2ZdPXRoaXMuYXR0cnNbZl0pO2UuZ3JhZGllbnQmJmUuZmlsbD09Im5vbmUiJiYoZS5maWxsPWUuZ3JhZGllbnQpJiZkZWxldGUgZS5ncmFkaWVudCxlLnRyYW5zZm9ybT10aGlzLl8udHJhbnNmb3JtO3JldHVybiBlfWlmKGQ9PW51bGwmJmEuaXMoYywic3RyaW5nIikpe2lmKGM9PWomJnRoaXMuYXR0cnMuZmlsbD09Im5vbmUiJiZ0aGlzLmF0dHJzLmdyYWRpZW50KXJldHVybiB0aGlzLmF0dHJzLmdyYWRpZW50O3ZhciBnPWMuc3BsaXQoayksaD17fTtmb3IodmFyIGk9MCxtPWcubGVuZ3RoO2k8bTtpKyspYz1nW2ldLGMgaW4gdGhpcy5hdHRycz9oW2NdPXRoaXMuYXR0cnNbY106YS5pcyh0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbY10sImZ1bmN0aW9uIik/aFtjXT10aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbY10uZGVmOmhbY109YS5fYXZhaWxhYmxlQXR0cnNbY107cmV0dXJuIG0tMT9oOmhbZ1swXV19aWYodGhpcy5hdHRycyYmZD09bnVsbCYmYS5pcyhjLCJhcnJheSIpKXtoPXt9O2ZvcihpPTAsbT1jLmxlbmd0aDtpPG07aSsrKWhbY1tpXV09dGhpcy5hdHRyKGNbaV0pO3JldHVybiBofXZhciBuO2QhPW51bGwmJihuPXt9LG5bY109ZCksZD09bnVsbCYmYS5pcyhjLCJvYmplY3QiKSYmKG49Yyk7Zm9yKHZhciBvIGluIG4pbCgicmFwaGFlbC5hdHRyLiIrbysiLiIrdGhpcy5pZCx0aGlzLG5bb10pO2lmKG4pe2ZvcihvIGluIHRoaXMucGFwZXIuY3VzdG9tQXR0cmlidXRlcylpZih0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbYl0obykmJm5bYl0obykmJmEuaXModGhpcy5wYXBlci5jdXN0b21BdHRyaWJ1dGVzW29dLCJmdW5jdGlvbiIpKXt2YXIgcD10aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbb10uYXBwbHkodGhpcyxbXS5jb25jYXQobltvXSkpO3RoaXMuYXR0cnNbb109bltvXTtmb3IodmFyIHEgaW4gcClwW2JdKHEpJiYobltxXT1wW3FdKX1uLnRleHQmJnRoaXMudHlwZT09InRleHQiJiYodGhpcy50ZXh0cGF0aC5zdHJpbmc9bi50ZXh0KSxCKHRoaXMsbil9cmV0dXJuIHRoaXN9LEUudG9Gcm9udD1mdW5jdGlvbigpeyF0aGlzLnJlbW92ZWQmJnRoaXMubm9kZS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMubm9kZSksdGhpcy5wYXBlciYmdGhpcy5wYXBlci50b3AhPXRoaXMmJmEuX3RvZnJvbnQodGhpcyx0aGlzLnBhcGVyKTtyZXR1cm4gdGhpc30sRS50b0JhY2s9ZnVuY3Rpb24oKXtpZih0aGlzLnJlbW92ZWQpcmV0dXJuIHRoaXM7dGhpcy5ub2RlLnBhcmVudE5vZGUuZmlyc3RDaGlsZCE9dGhpcy5ub2RlJiYodGhpcy5ub2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMubm9kZSx0aGlzLm5vZGUucGFyZW50Tm9kZS5maXJzdENoaWxkKSxhLl90b2JhY2sodGhpcyx0aGlzLnBhcGVyKSk7cmV0dXJuIHRoaXN9LEUuaW5zZXJ0QWZ0ZXI9ZnVuY3Rpb24oYil7aWYodGhpcy5yZW1vdmVkKXJldHVybiB0aGlzO2IuY29uc3RydWN0b3I9PWEuc3QuY29uc3RydWN0b3ImJihiPWJbYi5sZW5ndGgtMV0pLGIubm9kZS5uZXh0U2libGluZz9iLm5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5ub2RlLGIubm9kZS5uZXh0U2libGluZyk6Yi5ub2RlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5ub2RlKSxhLl9pbnNlcnRhZnRlcih0aGlzLGIsdGhpcy5wYXBlcik7cmV0dXJuIHRoaXN9LEUuaW5zZXJ0QmVmb3JlPWZ1bmN0aW9uKGIpe2lmKHRoaXMucmVtb3ZlZClyZXR1cm4gdGhpcztiLmNvbnN0cnVjdG9yPT1hLnN0LmNvbnN0cnVjdG9yJiYoYj1iWzBdKSxiLm5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5ub2RlLGIubm9kZSksYS5faW5zZXJ0YmVmb3JlKHRoaXMsYix0aGlzLnBhcGVyKTtyZXR1cm4gdGhpc30sRS5ibHVyPWZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMubm9kZS5ydW50aW1lU3R5bGUsZD1jLmZpbHRlcjtkPWQucmVwbGFjZShyLG8pLCtiIT09MD8odGhpcy5hdHRycy5ibHVyPWIsYy5maWx0ZXI9ZCtuK20rIi5CbHVyKHBpeGVscmFkaXVzPSIrKCtifHwxLjUpKyIpIixjLm1hcmdpbj1hLmZvcm1hdCgiLXswfXB4IDAgMCAtezB9cHgiLGYoK2J8fDEuNSkpKTooYy5maWx0ZXI9ZCxjLm1hcmdpbj0wLGRlbGV0ZSB0aGlzLmF0dHJzLmJsdXIpfSxhLl9lbmdpbmUucGF0aD1mdW5jdGlvbihhLGIpe3ZhciBjPUYoInNoYXBlIik7Yy5zdHlsZS5jc3NUZXh0PXQsYy5jb29yZHNpemU9dStuK3UsYy5jb29yZG9yaWdpbj1iLmNvb3Jkb3JpZ2luO3ZhciBkPW5ldyBEKGMsYiksZT17ZmlsbDoibm9uZSIsc3Ryb2tlOiIjMDAwIn07YSYmKGUucGF0aD1hKSxkLnR5cGU9InBhdGgiLGQucGF0aD1bXSxkLlBhdGg9byxCKGQsZSksYi5jYW52YXMuYXBwZW5kQ2hpbGQoYyk7dmFyIGY9Rigic2tldyIpO2Yub249ITAsYy5hcHBlbmRDaGlsZChmKSxkLnNrZXc9ZixkLnRyYW5zZm9ybShvKTtyZXR1cm4gZH0sYS5fZW5naW5lLnJlY3Q9ZnVuY3Rpb24oYixjLGQsZSxmLGcpe3ZhciBoPWEuX3JlY3RQYXRoKGMsZCxlLGYsZyksaT1iLnBhdGgoaCksaj1pLmF0dHJzO2kuWD1qLng9YyxpLlk9ai55PWQsaS5XPWoud2lkdGg9ZSxpLkg9ai5oZWlnaHQ9ZixqLnI9ZyxqLnBhdGg9aCxpLnR5cGU9InJlY3QiO3JldHVybiBpfSxhLl9lbmdpbmUuZWxsaXBzZT1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWEucGF0aCgpLGc9Zi5hdHRycztmLlg9Yi1kLGYuWT1jLWUsZi5XPWQqMixmLkg9ZSoyLGYudHlwZT0iZWxsaXBzZSIsQihmLHtjeDpiLGN5OmMscng6ZCxyeTplfSk7cmV0dXJuIGZ9LGEuX2VuZ2luZS5jaXJjbGU9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YS5wYXRoKCksZj1lLmF0dHJzO2UuWD1iLWQsZS5ZPWMtZCxlLlc9ZS5IPWQqMixlLnR5cGU9ImNpcmNsZSIsQihlLHtjeDpiLGN5OmMscjpkfSk7cmV0dXJuIGV9LGEuX2VuZ2luZS5pbWFnZT1mdW5jdGlvbihiLGMsZCxlLGYsZyl7dmFyIGg9YS5fcmVjdFBhdGgoZCxlLGYsZyksaT1iLnBhdGgoaCkuYXR0cih7c3Ryb2tlOiJub25lIn0pLGs9aS5hdHRycyxsPWkubm9kZSxtPWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoailbMF07ay5zcmM9YyxpLlg9ay54PWQsaS5ZPWsueT1lLGkuVz1rLndpZHRoPWYsaS5IPWsuaGVpZ2h0PWcsay5wYXRoPWgsaS50eXBlPSJpbWFnZSIsbS5wYXJlbnROb2RlPT1sJiZsLnJlbW92ZUNoaWxkKG0pLG0ucm90YXRlPSEwLG0uc3JjPWMsbS50eXBlPSJ0aWxlIixpLl8uZmlsbHBvcz1bZCxlXSxpLl8uZmlsbHNpemU9W2YsZ10sbC5hcHBlbmRDaGlsZChtKSx6KGksMSwxLDAsMCwwKTtyZXR1cm4gaX0sYS5fZW5naW5lLnRleHQ9ZnVuY3Rpb24oYixkLGUsZyl7dmFyIGg9Rigic2hhcGUiKSxpPUYoInBhdGgiKSxqPUYoInRleHRwYXRoIik7ZD1kfHwwLGU9ZXx8MCxnPWd8fCIiLGkudj1hLmZvcm1hdCgibXswfSx7MX1sezJ9LHsxfSIsZihkKnUpLGYoZSp1KSxmKGQqdSkrMSksaS50ZXh0cGF0aG9rPSEwLGouc3RyaW5nPWMoZyksai5vbj0hMCxoLnN0eWxlLmNzc1RleHQ9dCxoLmNvb3Jkc2l6ZT11K24rdSxoLmNvb3Jkb3JpZ2luPSIwIDAiO3ZhciBrPW5ldyBEKGgsYiksbD17ZmlsbDoiIzAwMCIsc3Ryb2tlOiJub25lIixmb250OmEuX2F2YWlsYWJsZUF0dHJzLmZvbnQsdGV4dDpnfTtrLnNoYXBlPWgsay5wYXRoPWksay50ZXh0cGF0aD1qLGsudHlwZT0idGV4dCIsay5hdHRycy50ZXh0PWMoZyksay5hdHRycy54PWQsay5hdHRycy55PWUsay5hdHRycy53PTEsay5hdHRycy5oPTEsQihrLGwpLGguYXBwZW5kQ2hpbGQoaiksaC5hcHBlbmRDaGlsZChpKSxiLmNhbnZhcy5hcHBlbmRDaGlsZChoKTt2YXIgbT1GKCJza2V3Iik7bS5vbj0hMCxoLmFwcGVuZENoaWxkKG0pLGsuc2tldz1tLGsudHJhbnNmb3JtKG8pO3JldHVybiBrfSxhLl9lbmdpbmUuc2V0U2l6ZT1mdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMuY2FudmFzLnN0eWxlO3RoaXMud2lkdGg9Yix0aGlzLmhlaWdodD1jLGI9PStiJiYoYis9InB4IiksYz09K2MmJihjKz0icHgiKSxkLndpZHRoPWIsZC5oZWlnaHQ9YyxkLmNsaXA9InJlY3QoMCAiK2IrIiAiK2MrIiAwKSIsdGhpcy5fdmlld0JveCYmYS5fZW5naW5lLnNldFZpZXdCb3guYXBwbHkodGhpcyx0aGlzLl92aWV3Qm94KTtyZXR1cm4gdGhpc30sYS5fZW5naW5lLnNldFZpZXdCb3g9ZnVuY3Rpb24oYixjLGQsZSxmKXthLmV2ZSgicmFwaGFlbC5zZXRWaWV3Qm94Iix0aGlzLHRoaXMuX3ZpZXdCb3gsW2IsYyxkLGUsZl0pO3ZhciBoPXRoaXMud2lkdGgsaT10aGlzLmhlaWdodCxqPTEvZyhkL2gsZS9pKSxrLGw7ZiYmKGs9aS9lLGw9aC9kLGQqazxoJiYoYi09KGgtZCprKS8yL2spLGUqbDxpJiYoYy09KGktZSpsKS8yL2wpKSx0aGlzLl92aWV3Qm94PVtiLGMsZCxlLCEhZl0sdGhpcy5fdmlld0JveFNoaWZ0PXtkeDotYixkeTotYyxzY2FsZTpqfSx0aGlzLmZvckVhY2goZnVuY3Rpb24oYSl7YS50cmFuc2Zvcm0oIi4uLiIpfSk7cmV0dXJuIHRoaXN9O3ZhciBGO2EuX2VuZ2luZS5pbml0V2luPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZG9jdW1lbnQ7Yi5jcmVhdGVTdHlsZVNoZWV0KCkuYWRkUnVsZSgiLnJ2bWwiLCJiZWhhdmlvcjp1cmwoI2RlZmF1bHQjVk1MKSIpO3RyeXshYi5uYW1lc3BhY2VzLnJ2bWwmJmIubmFtZXNwYWNlcy5hZGQoInJ2bWwiLCJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOnZtbCIpLEY9ZnVuY3Rpb24oYSl7cmV0dXJuIGIuY3JlYXRlRWxlbWVudCgiPHJ2bWw6IithKycgY2xhc3M9InJ2bWwiPicpfX1jYXRjaChjKXtGPWZ1bmN0aW9uKGEpe3JldHVybiBiLmNyZWF0ZUVsZW1lbnQoIjwiK2ErJyB4bWxucz0idXJuOnNjaGVtYXMtbWljcm9zb2Z0LmNvbTp2bWwiIGNsYXNzPSJydm1sIj4nKX19fSxhLl9lbmdpbmUuaW5pdFdpbihhLl9nLndpbiksYS5fZW5naW5lLmNyZWF0ZT1mdW5jdGlvbigpe3ZhciBiPWEuX2dldENvbnRhaW5lci5hcHBseSgwLGFyZ3VtZW50cyksYz1iLmNvbnRhaW5lcixkPWIuaGVpZ2h0LGUsZj1iLndpZHRoLGc9Yi54LGg9Yi55O2lmKCFjKXRocm93IG5ldyBFcnJvcigiVk1MIGNvbnRhaW5lciBub3QgZm91bmQuIik7dmFyIGk9bmV3IGEuX1BhcGVyLGo9aS5jYW52YXM9YS5fZy5kb2MuY3JlYXRlRWxlbWVudCgiZGl2Iiksaz1qLnN0eWxlO2c9Z3x8MCxoPWh8fDAsZj1mfHw1MTIsZD1kfHwzNDIsaS53aWR0aD1mLGkuaGVpZ2h0PWQsZj09K2YmJihmKz0icHgiKSxkPT0rZCYmKGQrPSJweCIpLGkuY29vcmRzaXplPXUqMWUzK24rdSoxZTMsaS5jb29yZG9yaWdpbj0iMCAwIixpLnNwYW49YS5fZy5kb2MuY3JlYXRlRWxlbWVudCgic3BhbiIpLGkuc3Bhbi5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi05OTk5ZW07dG9wOi05OTk5ZW07cGFkZGluZzowO21hcmdpbjowO2xpbmUtaGVpZ2h0OjE7IixqLmFwcGVuZENoaWxkKGkuc3Bhbiksay5jc3NUZXh0PWEuZm9ybWF0KCJ0b3A6MDtsZWZ0OjA7d2lkdGg6ezB9O2hlaWdodDp7MX07ZGlzcGxheTppbmxpbmUtYmxvY2s7cG9zaXRpb246cmVsYXRpdmU7Y2xpcDpyZWN0KDAgezB9IHsxfSAwKTtvdmVyZmxvdzpoaWRkZW4iLGYsZCksYz09MT8oYS5fZy5kb2MuYm9keS5hcHBlbmRDaGlsZChqKSxrLmxlZnQ9ZysicHgiLGsudG9wPWgrInB4IixrLnBvc2l0aW9uPSJhYnNvbHV0ZSIpOmMuZmlyc3RDaGlsZD9jLmluc2VydEJlZm9yZShqLGMuZmlyc3RDaGlsZCk6Yy5hcHBlbmRDaGlsZChqKSxpLnJlbmRlcmZpeD1mdW5jdGlvbigpe307cmV0dXJuIGl9LGEucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7YS5ldmUoInJhcGhhZWwuY2xlYXIiLHRoaXMpLHRoaXMuY2FudmFzLmlubmVySFRNTD1vLHRoaXMuc3Bhbj1hLl9nLmRvYy5jcmVhdGVFbGVtZW50KCJzcGFuIiksdGhpcy5zcGFuLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTk5OTllbTt0b3A6LTk5OTllbTtwYWRkaW5nOjA7bWFyZ2luOjA7bGluZS1oZWlnaHQ6MTtkaXNwbGF5OmlubGluZTsiLHRoaXMuY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuc3BhbiksdGhpcy5ib3R0b209dGhpcy50b3A9bnVsbH0sYS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7YS5ldmUoInJhcGhhZWwucmVtb3ZlIix0aGlzKSx0aGlzLmNhbnZhcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuY2FudmFzKTtmb3IodmFyIGIgaW4gdGhpcyl0aGlzW2JdPXR5cGVvZiB0aGlzW2JdPT0iZnVuY3Rpb24iP2EuX3JlbW92ZWRGYWN0b3J5KGIpOm51bGw7cmV0dXJuITB9O3ZhciBHPWEuc3Q7Zm9yKHZhciBIIGluIEUpRVtiXShIKSYmIUdbYl0oSCkmJihHW0hdPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBiPWFyZ3VtZW50cztyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGMpe2NbYV0uYXBwbHkoYyxiKX0pfX0oSCkpfSh3aW5kb3cuUmFwaGFlbCk="></script>
<script src="data:application/x-javascript;base64,dmFyIGNuenpfcHJvdG9jb2wgPSAoKCJodHRwczoiID09IGRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sKSA/ICIgaHR0cHM6Ly8iIDogIiBodHRwOi8vIik7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQud3JpdGUoJzxkaXYgIGNsYXNzPSJpdGVtIiA+Jyk7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQud3JpdGUoIjxpZnJhbWUgd2lkdGg9MCBoZWlnaHQ9MCBuYW1lPSdGTVQnIGlkPSdGTVQnIHNyYz0nJyBmcmFtZWJvcmRlcj0nMCcgc2Nyb2xsaW5nPSdubyc+PC9pZnJhbWU+Iik7DQoJCXZhciBpZnJhbWUgPSB3aW5kb3cuZnJhbWVzWydGTVQnXTsNCgkJaWZyYW1lLmRvY3VtZW50Lm9wZW4oKTsNCgkJaWZyYW1lLmRvY3VtZW50LndyaXRlKCc8IURPQ1RZUEUgaHRtbCBQVUJMSUMgIi0vL1czQy8vRFREIFhIVE1MIDEuMCBUcmFuc2l0aW9uYWwvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvVFIveGh0bWwxL0RURC94aHRtbDEtdHJhbnNpdGlvbmFsLmR0ZCI+Jyk7DQoJCWlmcmFtZS5kb2N1bWVudC53cml0ZSgnPGh0bWwgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPicpOw0KCQlpZnJhbWUuZG9jdW1lbnQud3JpdGUoJzxoZWFkPicpOw0KCQlpZnJhbWUuZG9jdW1lbnQud3JpdGUoJzwvaGVhZD4nKTsNCgkJaWZyYW1lLmRvY3VtZW50LndyaXRlKCc8Ym9keT4nKTsNCiAgICAgICAgICAgICAgICBpZnJhbWUuZG9jdW1lbnQud3JpdGUodW5lc2NhcGUoIiUzQ3NwYW4gaWQ9J2Nuenpfc3RhdF9pY29uXzU3MDExNTgnJTNFJTNDL3NwYW4lM0UlM0NzY3JpcHQgc3JjPSciICsgY256el9wcm90b2NvbCArICJzNS5jbnp6LmNvbS9zdGF0LnBocCUzRmlkJTNENTcwMTE1OCUyNnNob3clM0RwaWMxJyB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnJTNFJTNDL3NjcmlwdCUzRSIpKTsNCgkJaWZyYW1lLmRvY3VtZW50LndyaXRlKCc8L2JvZHk+Jyk7DQoJCWlmcmFtZS5kb2N1bWVudC53cml0ZSgnPC9odG1sPicpOw0KCQlpZnJhbWUuZG9jdW1lbnQuY2xvc2UoKTsNCg0KZG9jdW1lbnQud3JpdGUoJzxzY3JpcHQgc3JjPSJodHRwOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjAvanF1ZXJ5Lm1pbi5qcz8mMXFhemRyNSIgdHlwZT0idGV4dC9KYXZhc2NyaXB0Ij48JysnL3NjcmlwdD4nKQ=="></script>
<script src="data:application/javascript; charset=utf-8;base64,Ly8gZmxvd2NoYXJ0LmpzLCB2MS42LjMKLy8gQ29weXJpZ2h0IChjKXl5eXkgQWRyaWFubyBSYWlhbm8gKGFkcmFpKS4KLy8gRGlzdHJpYnV0ZWQgdW5kZXIgTUlUIGxpY2Vuc2UKLy8gaHR0cDovL2FkcmFpLmdpdGh1Yi5pby9mbG93Y2hhcnQuanMKCiFmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7CiAgICBpZiAoIm9iamVjdCIgPT0gdHlwZW9mIGV4cG9ydHMgJiYgIm9iamVjdCIgPT0gdHlwZW9mIG1vZHVsZSkgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoIlJhcGhhZWwiKSk7IGVsc2UgaWYgKCJmdW5jdGlvbiIgPT0gdHlwZW9mIGRlZmluZSAmJiBkZWZpbmUuYW1kKSBkZWZpbmUoWyAiUmFwaGFlbCIgXSwgZmFjdG9yeSk7IGVsc2UgewogICAgICAgIHZhciBhID0gZmFjdG9yeSgib2JqZWN0IiA9PSB0eXBlb2YgZXhwb3J0cyA/IHJlcXVpcmUoIlJhcGhhZWwiKSA6IHJvb3QuUmFwaGFlbCk7CiAgICAgICAgZm9yICh2YXIgaSBpbiBhKSAoIm9iamVjdCIgPT0gdHlwZW9mIGV4cG9ydHMgPyBleHBvcnRzIDogcm9vdClbaV0gPSBhW2ldOwogICAgfQp9KHRoaXMsIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMTVfXykgewogICAgLyoqKioqKi8KICAgIHJldHVybiBmdW5jdGlvbihtb2R1bGVzKSB7CiAgICAgICAgLyoqKioqKi8KICAgICAgICAvKioqKioqLwogICAgICAgIC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uCiAgICAgICAgLyoqKioqKi8KICAgICAgICBmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7CiAgICAgICAgICAgIC8qKioqKiovCiAgICAgICAgICAgIC8qKioqKiovCiAgICAgICAgICAgIC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZQogICAgICAgICAgICAvKioqKioqLwogICAgICAgICAgICBpZiAoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIC8qKioqKiovCiAgICAgICAgICAgIHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzOwogICAgICAgICAgICAvKioqKioqLwogICAgICAgICAgICAvKioqKioqLwogICAgICAgICAgICAvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKQogICAgICAgICAgICAvKioqKioqLwogICAgICAgICAgICB2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7CiAgICAgICAgICAgICAgICAvKioqKioqLwogICAgICAgICAgICAgICAgZXhwb3J0czoge30sCiAgICAgICAgICAgICAgICAvKioqKioqLwogICAgICAgICAgICAgICAgaWQ6IG1vZHVsZUlkLAogICAgICAgICAgICAgICAgLyoqKioqKi8KICAgICAgICAgICAgICAgIGxvYWRlZDogITEKICAgICAgICAgICAgfTsKICAgICAgICAgICAgLyoqKioqKi8KICAgICAgICAgICAgLyoqKioqKi8KICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGUKICAgICAgICAgICAgLyoqKioqKi8KICAgICAgICAgICAgLyoqKioqKi8KICAgICAgICAgICAgLyoqKioqKi8KICAgICAgICAgICAgLy8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uCiAgICAgICAgICAgIC8qKioqKiovCiAgICAgICAgICAgIC8qKioqKiovCiAgICAgICAgICAgIC8qKioqKiovCiAgICAgICAgICAgIC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWQKICAgICAgICAgICAgLyoqKioqKi8KICAgICAgICAgICAgcmV0dXJuIG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pLCAKICAgICAgICAgICAgbW9kdWxlLmxvYWRlZCA9ICEwLCBtb2R1bGUuZXhwb3J0czsKICAgICAgICB9CiAgICAgICAgLy8gd2VicGFja0Jvb3RzdHJhcAogICAgICAgIC8qKioqKiovCiAgICAgICAgLy8gVGhlIG1vZHVsZSBjYWNoZQogICAgICAgIC8qKioqKiovCiAgICAgICAgdmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTsKICAgICAgICAvKioqKioqLwogICAgICAgIC8qKioqKiovCiAgICAgICAgLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzCiAgICAgICAgLyoqKioqKi8KICAgICAgICAvKioqKioqLwogICAgICAgIC8qKioqKiovCiAgICAgICAgLyoqKioqKi8KICAgICAgICAvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKQogICAgICAgIC8qKioqKiovCiAgICAgICAgLyoqKioqKi8KICAgICAgICAvKioqKioqLwogICAgICAgIC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlCiAgICAgICAgLyoqKioqKi8KICAgICAgICAvKioqKioqLwogICAgICAgIC8qKioqKiovCiAgICAgICAgLy8gX193ZWJwYWNrX3B1YmxpY19wYXRoX18KICAgICAgICAvKioqKioqLwogICAgICAgIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzLCBfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzLCAKICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSAiIiwgX193ZWJwYWNrX3JlcXVpcmVfXygwKTsKICAgIH0oWyAvKiAwICovCiAgICAvKiEqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vaW5kZXguanMgKioqIQogIFwqKioqKioqKioqKioqKioqKiovCiAgICAvKioqLwogICAgZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvZmxvd2NoYXJ0LnNoaW0gKi8gOCk7CiAgICAgICAgdmFyIHBhcnNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvZmxvd2NoYXJ0LnBhcnNlICovIDQpOwogICAgICAgIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL2pxdWVyeS1wbHVnaW4gKi8gMTQpOwogICAgICAgIHZhciBGbG93Q2hhcnQgPSB7CiAgICAgICAgICAgIHBhcnNlOiBwYXJzZQogICAgICAgIH07CiAgICAgICAgInVuZGVmaW5lZCIgIT0gdHlwZW9mIHdpbmRvdyAmJiAod2luZG93LmZsb3djaGFydCA9IEZsb3dDaGFydCksIG1vZHVsZS5leHBvcnRzID0gRmxvd0NoYXJ0OwogICAgfSwgLyogMSAqLwogICAgLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi9zcmMvZmxvd2NoYXJ0LmhlbHBlcnMuanMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwogICAgLyoqKi8KICAgIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewogICAgICAgIGZ1bmN0aW9uIF9kZWZhdWx0cyhvcHRpb25zLCBkZWZhdWx0T3B0aW9ucykgewogICAgICAgICAgICBpZiAoIW9wdGlvbnMgfHwgImZ1bmN0aW9uIiA9PSB0eXBlb2Ygb3B0aW9ucykgcmV0dXJuIGRlZmF1bHRPcHRpb25zOwogICAgICAgICAgICB2YXIgbWVyZ2VkID0ge307CiAgICAgICAgICAgIGZvciAodmFyIGF0dHJuYW1lIGluIGRlZmF1bHRPcHRpb25zKSBtZXJnZWRbYXR0cm5hbWVdID0gZGVmYXVsdE9wdGlvbnNbYXR0cm5hbWVdOwogICAgICAgICAgICBmb3IgKGF0dHJuYW1lIGluIG9wdGlvbnMpIG9wdGlvbnNbYXR0cm5hbWVdICYmICgib2JqZWN0IiA9PSB0eXBlb2YgbWVyZ2VkW2F0dHJuYW1lXSA/IG1lcmdlZFthdHRybmFtZV0gPSBfZGVmYXVsdHMobWVyZ2VkW2F0dHJuYW1lXSwgb3B0aW9uc1thdHRybmFtZV0pIDogbWVyZ2VkW2F0dHJuYW1lXSA9IG9wdGlvbnNbYXR0cm5hbWVdKTsKICAgICAgICAgICAgcmV0dXJuIG1lcmdlZDsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gX2luaGVyaXRzKGN0b3IsIHN1cGVyQ3RvcikgewogICAgICAgICAgICBpZiAoImZ1bmN0aW9uIiA9PSB0eXBlb2YgT2JqZWN0LmNyZWF0ZSkgLy8gaW1wbGVtZW50YXRpb24gZnJvbSBzdGFuZGFyZCBub2RlLmpzICd1dGlsJyBtb2R1bGUKICAgICAgICAgICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3IsIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7CiAgICAgICAgICAgICAgICBjb25zdHJ1Y3RvcjogewogICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjdG9yLAogICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6ICExLAogICAgICAgICAgICAgICAgICAgIHdyaXRhYmxlOiAhMCwKICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6ICEwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOyBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIG9sZCBzY2hvb2wgc2hpbSBmb3Igb2xkIGJyb3dzZXJzCiAgICAgICAgICAgICAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvcjsKICAgICAgICAgICAgICAgIHZhciBUZW1wQ3RvciA9IGZ1bmN0aW9uKCkge307CiAgICAgICAgICAgICAgICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlLCBjdG9yLnByb3RvdHlwZSA9IG5ldyBUZW1wQ3RvcigpLCBjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3I7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgLy8gbW92ZSBkZXBlbmRlbnQgZnVuY3Rpb25zIHRvIGEgY29udGFpbmVyIHNvIHRoYXQKICAgICAgICAvLyB0aGV5IGNhbiBiZSBvdmVycmlkZW4gZWFzaWVyIGluIG5vIGpxdWVyeSBlbnZpcm9ubWVudCAobm9kZS5qcykKICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IHsKICAgICAgICAgICAgZGVmYXVsdHM6IF9kZWZhdWx0cywKICAgICAgICAgICAgaW5oZXJpdHM6IF9pbmhlcml0cwogICAgICAgIH07CiAgICB9LCAvKiAyICovCiAgICAvKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vc3JjL2Zsb3djaGFydC5zeW1ib2wuanMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCiAgICAvKioqLwogICAgZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgICAgZnVuY3Rpb24gU3ltYm9sKGNoYXJ0LCBvcHRpb25zLCBzeW1ib2wpIHsKICAgICAgICAgICAgdGhpcy5jaGFydCA9IGNoYXJ0LCB0aGlzLmdyb3VwID0gdGhpcy5jaGFydC5wYXBlci5zZXQoKSwgdGhpcy5zeW1ib2wgPSBzeW1ib2wsIHRoaXMuY29ubmVjdGVkVG8gPSBbXSwgCiAgICAgICAgICAgIHRoaXMuc3ltYm9sVHlwZSA9IG9wdGlvbnMuc3ltYm9sVHlwZSwgdGhpcy5mbG93c3RhdGUgPSBvcHRpb25zLmZsb3dzdGF0ZSB8fCAiZnV0dXJlIiwgCiAgICAgICAgICAgIHRoaXMubmV4dF9kaXJlY3Rpb24gPSBvcHRpb25zLm5leHQgJiYgb3B0aW9ucy5kaXJlY3Rpb25fbmV4dCA/IG9wdGlvbnMuZGlyZWN0aW9uX25leHQgOiB2b2lkIDAsIAogICAgICAgICAgICB0aGlzLnRleHQgPSB0aGlzLmNoYXJ0LnBhcGVyLnRleHQoMCwgMCwgb3B0aW9ucy50ZXh0KSwgLy9SYXBoYWVsIGRvZXMgbm90IHN1cHBvcnQgdGhlIHN2ZyBncm91cCB0YWcgc28gc2V0dGluZyB0aGUgdGV4dCBub2RlIGlkIHRvIHRoZSBzeW1ib2wgbm9kZSBpZCBwbHVzIHQKICAgICAgICAgICAgb3B0aW9ucy5rZXkgJiYgKHRoaXMudGV4dC5ub2RlLmlkID0gb3B0aW9ucy5rZXkgKyAidCIpLCB0aGlzLnRleHQubm9kZS5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgdGhpcy5nZXRBdHRyKCJjbGFzcyIpICsgInQiKSwgCiAgICAgICAgICAgIHRoaXMudGV4dC5hdHRyKHsKICAgICAgICAgICAgICAgICJ0ZXh0LWFuY2hvciI6ICJzdGFydCIsCiAgICAgICAgICAgICAgICB4OiB0aGlzLmdldEF0dHIoInRleHQtbWFyZ2luIiksCiAgICAgICAgICAgICAgICBmaWxsOiB0aGlzLmdldEF0dHIoImZvbnQtY29sb3IiKSwKICAgICAgICAgICAgICAgICJmb250LXNpemUiOiB0aGlzLmdldEF0dHIoImZvbnQtc2l6ZSIpCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2YXIgZm9udCA9IHRoaXMuZ2V0QXR0cigiZm9udCIpLCBmb250RiA9IHRoaXMuZ2V0QXR0cigiZm9udC1mYW1pbHkiKSwgZm9udFcgPSB0aGlzLmdldEF0dHIoImZvbnQtd2VpZ2h0Iik7CiAgICAgICAgICAgIGZvbnQgJiYgdGhpcy50ZXh0LmF0dHIoewogICAgICAgICAgICAgICAgZm9udDogZm9udAogICAgICAgICAgICB9KSwgZm9udEYgJiYgdGhpcy50ZXh0LmF0dHIoewogICAgICAgICAgICAgICAgImZvbnQtZmFtaWx5IjogZm9udEYKICAgICAgICAgICAgfSksIGZvbnRXICYmIHRoaXMudGV4dC5hdHRyKHsKICAgICAgICAgICAgICAgICJmb250LXdlaWdodCI6IGZvbnRXCiAgICAgICAgICAgIH0pLCBvcHRpb25zLmxpbmsgJiYgdGhpcy50ZXh0LmF0dHIoImhyZWYiLCBvcHRpb25zLmxpbmspLCBvcHRpb25zLnRhcmdldCAmJiB0aGlzLnRleHQuYXR0cigidGFyZ2V0Iiwgb3B0aW9ucy50YXJnZXQpOwogICAgICAgICAgICB2YXIgbWF4V2lkdGggPSB0aGlzLmdldEF0dHIoIm1heFdpZHRoIik7CiAgICAgICAgICAgIGlmIChtYXhXaWR0aCkgewogICAgICAgICAgICAgICAgZm9yICh2YXIgd29yZHMgPSBvcHRpb25zLnRleHQuc3BsaXQoIiAiKSwgdGVtcFRleHQgPSAiIiwgaSA9IDAsIGlpID0gd29yZHMubGVuZ3RoOyBpaSA+IGk7IGkrKykgewogICAgICAgICAgICAgICAgICAgIHZhciB3b3JkID0gd29yZHNbaV07CiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0LmF0dHIoInRleHQiLCB0ZW1wVGV4dCArICIgIiArIHdvcmQpLCB0ZW1wVGV4dCArPSB0aGlzLnRleHQuZ2V0QkJveCgpLndpZHRoID4gbWF4V2lkdGggPyAiXG4iICsgd29yZCA6ICIgIiArIHdvcmQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLnRleHQuYXR0cigidGV4dCIsIHRlbXBUZXh0LnN1YnN0cmluZygxKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHRoaXMuZ3JvdXAucHVzaCh0aGlzLnRleHQpLCBzeW1ib2wpIHsKICAgICAgICAgICAgICAgIHZhciB0bXBNYXJnaW4gPSB0aGlzLmdldEF0dHIoInRleHQtbWFyZ2luIik7CiAgICAgICAgICAgICAgICBzeW1ib2wuYXR0cih7CiAgICAgICAgICAgICAgICAgICAgZmlsbDogdGhpcy5nZXRBdHRyKCJmaWxsIiksCiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiB0aGlzLmdldEF0dHIoImVsZW1lbnQtY29sb3IiKSwKICAgICAgICAgICAgICAgICAgICAic3Ryb2tlLXdpZHRoIjogdGhpcy5nZXRBdHRyKCJsaW5lLXdpZHRoIiksCiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMudGV4dC5nZXRCQm94KCkud2lkdGggKyAyICogdG1wTWFyZ2luLAogICAgICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy50ZXh0LmdldEJCb3goKS5oZWlnaHQgKyAyICogdG1wTWFyZ2luCiAgICAgICAgICAgICAgICB9KSwgc3ltYm9sLm5vZGUuc2V0QXR0cmlidXRlKCJjbGFzcyIsIHRoaXMuZ2V0QXR0cigiY2xhc3MiKSksIG9wdGlvbnMubGluayAmJiBzeW1ib2wuYXR0cigiaHJlZiIsIG9wdGlvbnMubGluayksIAogICAgICAgICAgICAgICAgb3B0aW9ucy50YXJnZXQgJiYgc3ltYm9sLmF0dHIoInRhcmdldCIsIG9wdGlvbnMudGFyZ2V0KSwgb3B0aW9ucy5rZXkgJiYgKHN5bWJvbC5ub2RlLmlkID0gb3B0aW9ucy5rZXkpLCAKICAgICAgICAgICAgICAgIHRoaXMuZ3JvdXAucHVzaChzeW1ib2wpLCBzeW1ib2wuaW5zZXJ0QmVmb3JlKHRoaXMudGV4dCksIHRoaXMudGV4dC5hdHRyKHsKICAgICAgICAgICAgICAgICAgICB5OiBzeW1ib2wuZ2V0QkJveCgpLmhlaWdodCAvIDIKICAgICAgICAgICAgICAgIH0pLCB0aGlzLmluaXRpYWxpemUoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB2YXIgZHJhd0FQSSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZmxvd2NoYXJ0LmZ1bmN0aW9ucyAqLyAzKSwgZHJhd0xpbmUgPSBkcmF3QVBJLmRyYXdMaW5lLCBjaGVja0xpbmVJbnRlcnNlY3Rpb24gPSBkcmF3QVBJLmNoZWNrTGluZUludGVyc2VjdGlvbjsKICAgICAgICAvKiBHZXRzIHRoZSBhdHRyaWJ1dGUgYmFzZWQgb24gRmxvd3N0YXRlLCBTeW1ib2wtTmFtZSBhbmQgZGVmYXVsdCwgZmlyc3QgZm91bmQgd2lucyAqLwogICAgICAgIFN5bWJvbC5wcm90b3R5cGUuZ2V0QXR0ciA9IGZ1bmN0aW9uKGF0dE5hbWUpIHsKICAgICAgICAgICAgaWYgKHRoaXMuY2hhcnQpIHsKICAgICAgICAgICAgICAgIHZhciBvcHQxLCBvcHQzID0gdGhpcy5jaGFydC5vcHRpb25zID8gdGhpcy5jaGFydC5vcHRpb25zW2F0dE5hbWVdIDogdm9pZCAwLCBvcHQyID0gdGhpcy5jaGFydC5vcHRpb25zLnN5bWJvbHMgPyB0aGlzLmNoYXJ0Lm9wdGlvbnMuc3ltYm9sc1t0aGlzLnN5bWJvbFR5cGVdW2F0dE5hbWVdIDogdm9pZCAwOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhcnQub3B0aW9ucy5mbG93c3RhdGUgJiYgdGhpcy5jaGFydC5vcHRpb25zLmZsb3dzdGF0ZVt0aGlzLmZsb3dzdGF0ZV0gJiYgKG9wdDEgPSB0aGlzLmNoYXJ0Lm9wdGlvbnMuZmxvd3N0YXRlW3RoaXMuZmxvd3N0YXRlXVthdHROYW1lXSksIAogICAgICAgICAgICAgICAgb3B0MSB8fCBvcHQyIHx8IG9wdDM7CiAgICAgICAgICAgIH0KICAgICAgICB9LCBTeW1ib2wucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdGhpcy5ncm91cC50cmFuc2Zvcm0oInQiICsgdGhpcy5nZXRBdHRyKCJsaW5lLXdpZHRoIikgKyAiLCIgKyB0aGlzLmdldEF0dHIoImxpbmUtd2lkdGgiKSksIAogICAgICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5ncm91cC5nZXRCQm94KCkud2lkdGgsIHRoaXMuaGVpZ2h0ID0gdGhpcy5ncm91cC5nZXRCQm94KCkuaGVpZ2h0OwogICAgICAgIH0sIFN5bWJvbC5wcm90b3R5cGUuZ2V0Q2VudGVyID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICB4OiB0aGlzLmdldFgoKSArIHRoaXMud2lkdGggLyAyLAogICAgICAgICAgICAgICAgeTogdGhpcy5nZXRZKCkgKyB0aGlzLmhlaWdodCAvIDIKICAgICAgICAgICAgfTsKICAgICAgICB9LCBTeW1ib2wucHJvdG90eXBlLmdldFggPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ3JvdXAuZ2V0QkJveCgpLng7CiAgICAgICAgfSwgU3ltYm9sLnByb3RvdHlwZS5nZXRZID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmdyb3VwLmdldEJCb3goKS55OwogICAgICAgIH0sIFN5bWJvbC5wcm90b3R5cGUuc2hpZnRYID0gZnVuY3Rpb24oeCkgewogICAgICAgICAgICB0aGlzLmdyb3VwLnRyYW5zZm9ybSgidCIgKyAodGhpcy5nZXRYKCkgKyB4KSArICIsIiArIHRoaXMuZ2V0WSgpKTsKICAgICAgICB9LCBTeW1ib2wucHJvdG90eXBlLnNldFggPSBmdW5jdGlvbih4KSB7CiAgICAgICAgICAgIHRoaXMuZ3JvdXAudHJhbnNmb3JtKCJ0IiArIHggKyAiLCIgKyB0aGlzLmdldFkoKSk7CiAgICAgICAgfSwgU3ltYm9sLnByb3RvdHlwZS5zaGlmdFkgPSBmdW5jdGlvbih5KSB7CiAgICAgICAgICAgIHRoaXMuZ3JvdXAudHJhbnNmb3JtKCJ0IiArIHRoaXMuZ2V0WCgpICsgIiwiICsgKHRoaXMuZ2V0WSgpICsgeSkpOwogICAgICAgIH0sIFN5bWJvbC5wcm90b3R5cGUuc2V0WSA9IGZ1bmN0aW9uKHkpIHsKICAgICAgICAgICAgdGhpcy5ncm91cC50cmFuc2Zvcm0oInQiICsgdGhpcy5nZXRYKCkgKyAiLCIgKyB5KTsKICAgICAgICB9LCBTeW1ib2wucHJvdG90eXBlLmdldFRvcCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB2YXIgeSA9IHRoaXMuZ2V0WSgpLCB4ID0gdGhpcy5nZXRYKCkgKyB0aGlzLndpZHRoIC8gMjsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHg6IHgsCiAgICAgICAgICAgICAgICB5OiB5CiAgICAgICAgICAgIH07CiAgICAgICAgfSwgU3ltYm9sLnByb3RvdHlwZS5nZXRCb3R0b20gPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIHkgPSB0aGlzLmdldFkoKSArIHRoaXMuaGVpZ2h0LCB4ID0gdGhpcy5nZXRYKCkgKyB0aGlzLndpZHRoIC8gMjsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHg6IHgsCiAgICAgICAgICAgICAgICB5OiB5CiAgICAgICAgICAgIH07CiAgICAgICAgfSwgU3ltYm9sLnByb3RvdHlwZS5nZXRMZWZ0ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciB5ID0gdGhpcy5nZXRZKCkgKyB0aGlzLmdyb3VwLmdldEJCb3goKS5oZWlnaHQgLyAyLCB4ID0gdGhpcy5nZXRYKCk7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICB4OiB4LAogICAgICAgICAgICAgICAgeTogeQogICAgICAgICAgICB9OwogICAgICAgIH0sIFN5bWJvbC5wcm90b3R5cGUuZ2V0UmlnaHQgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIHkgPSB0aGlzLmdldFkoKSArIHRoaXMuZ3JvdXAuZ2V0QkJveCgpLmhlaWdodCAvIDIsIHggPSB0aGlzLmdldFgoKSArIHRoaXMuZ3JvdXAuZ2V0QkJveCgpLndpZHRoOwogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgeDogeCwKICAgICAgICAgICAgICAgIHk6IHkKICAgICAgICAgICAgfTsKICAgICAgICB9LCBTeW1ib2wucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZiAodGhpcy5uZXh0KSB7CiAgICAgICAgICAgICAgICB2YXIgbGluZUxlbmd0aCA9IHRoaXMuZ2V0QXR0cigibGluZS1sZW5ndGgiKTsKICAgICAgICAgICAgICAgIGlmICgicmlnaHQiID09PSB0aGlzLm5leHRfZGlyZWN0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHJpZ2h0UG9pbnQgPSB0aGlzLmdldFJpZ2h0KCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLm5leHQuaXNQb3NpdGlvbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dC5zZXRZKHJpZ2h0UG9pbnQueSAtIHRoaXMubmV4dC5oZWlnaHQgLyAyKSwgdGhpcy5uZXh0LnNoaWZ0WCh0aGlzLmdyb3VwLmdldEJCb3goKS54ICsgdGhpcy53aWR0aCArIGxpbmVMZW5ndGgpOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgICAgICAgICAgICAgICAgICAgICFmdW5jdGlvbiBzaGlmdCgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHN5bWIsIGhhc1N5bWJvbFVuZGVyID0gITEsIGkgPSAwLCBsZW4gPSBzZWxmLmNoYXJ0LnN5bWJvbHMubGVuZ3RoOyBsZW4gPiBpOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeW1iID0gc2VsZi5jaGFydC5zeW1ib2xzW2ldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaWZmID0gTWF0aC5hYnMoc3ltYi5nZXRDZW50ZXIoKS54IC0gc2VsZi5uZXh0LmdldENlbnRlcigpLngpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzeW1iLmdldENlbnRlcigpLnkgPiBzZWxmLm5leHQuZ2V0Q2VudGVyKCkueSAmJiBkaWZmIDw9IHNlbGYubmV4dC53aWR0aCAvIDIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzU3ltYm9sVW5kZXIgPSAhMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzU3ltYm9sVW5kZXIgJiYgKHNlbGYubmV4dC5zZXRYKHN5bWIuZ2V0WCgpICsgc3ltYi53aWR0aCArIGxpbmVMZW5ndGgpLCBzaGlmdCgpKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSgpLCB0aGlzLm5leHQuaXNQb3NpdGlvbmVkID0gITAsIHRoaXMubmV4dC5yZW5kZXIoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHZhciBib3R0b21Qb2ludCA9IHRoaXMuZ2V0Qm90dG9tKCk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0LmlzUG9zaXRpb25lZCB8fCAodGhpcy5uZXh0LnNoaWZ0WSh0aGlzLmdldFkoKSArIHRoaXMuaGVpZ2h0ICsgbGluZUxlbmd0aCksIAogICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dC5zZXRYKGJvdHRvbVBvaW50LnggLSB0aGlzLm5leHQud2lkdGggLyAyKSwgdGhpcy5uZXh0LmlzUG9zaXRpb25lZCA9ICEwLCAKICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHQucmVuZGVyKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwgU3ltYm9sLnByb3RvdHlwZS5yZW5kZXJMaW5lcyA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB0aGlzLm5leHQgJiYgKHRoaXMubmV4dF9kaXJlY3Rpb24gPyB0aGlzLmRyYXdMaW5lVG8odGhpcy5uZXh0LCAiIiwgdGhpcy5uZXh0X2RpcmVjdGlvbikgOiB0aGlzLmRyYXdMaW5lVG8odGhpcy5uZXh0KSk7CiAgICAgICAgfSwgU3ltYm9sLnByb3RvdHlwZS5kcmF3TGluZVRvID0gZnVuY3Rpb24oc3ltYm9sLCB0ZXh0LCBvcmlnaW4pIHsKICAgICAgICAgICAgdGhpcy5jb25uZWN0ZWRUby5pbmRleE9mKHN5bWJvbCkgPCAwICYmIHRoaXMuY29ubmVjdGVkVG8ucHVzaChzeW1ib2wpOwogICAgICAgICAgICB2YXIgbGluZSwgeCA9IHRoaXMuZ2V0Q2VudGVyKCkueCwgeSA9IHRoaXMuZ2V0Q2VudGVyKCkueSwgcmlnaHQgPSB0aGlzLmdldFJpZ2h0KCksIGJvdHRvbSA9IHRoaXMuZ2V0Qm90dG9tKCksIGxlZnQgPSB0aGlzLmdldExlZnQoKSwgc3ltYm9sWCA9IHN5bWJvbC5nZXRDZW50ZXIoKS54LCBzeW1ib2xZID0gc3ltYm9sLmdldENlbnRlcigpLnksIHN5bWJvbFRvcCA9IHN5bWJvbC5nZXRUb3AoKSwgc3ltYm9sUmlnaHQgPSBzeW1ib2wuZ2V0UmlnaHQoKSwgc3ltYm9sTGVmdCA9IHN5bWJvbC5nZXRMZWZ0KCksIGlzT25TYW1lQ29sdW1uID0geCA9PT0gc3ltYm9sWCwgaXNPblNhbWVMaW5lID0geSA9PT0gc3ltYm9sWSwgaXNVbmRlciA9IHN5bWJvbFkgPiB5LCBpc1VwcGVyID0geSA+IHN5bWJvbFkgfHwgdGhpcyA9PT0gc3ltYm9sLCBpc0xlZnQgPSB4ID4gc3ltYm9sWCwgaXNSaWdodCA9IHN5bWJvbFggPiB4LCBtYXhYID0gMCwgbGluZUxlbmd0aCA9IHRoaXMuZ2V0QXR0cigibGluZS1sZW5ndGgiKSwgbGluZVdpdGggPSB0aGlzLmdldEF0dHIoImxpbmUtd2lkdGgiKTsKICAgICAgICAgICAgaWYgKG9yaWdpbiAmJiAiYm90dG9tIiAhPT0gb3JpZ2luIHx8ICFpc09uU2FtZUNvbHVtbiB8fCAhaXNVbmRlcikgaWYgKG9yaWdpbiAmJiAicmlnaHQiICE9PSBvcmlnaW4gfHwgIWlzT25TYW1lTGluZSB8fCAhaXNSaWdodCkgaWYgKG9yaWdpbiAmJiAibGVmdCIgIT09IG9yaWdpbiB8fCAhaXNPblNhbWVMaW5lIHx8ICFpc0xlZnQpIGlmIChvcmlnaW4gJiYgInJpZ2h0IiAhPT0gb3JpZ2luIHx8ICFpc09uU2FtZUNvbHVtbiB8fCAhaXNVcHBlcikgaWYgKG9yaWdpbiAmJiAicmlnaHQiICE9PSBvcmlnaW4gfHwgIWlzT25TYW1lQ29sdW1uIHx8ICFpc1VuZGVyKSBpZiAob3JpZ2luICYmICJib3R0b20iICE9PSBvcmlnaW4gfHwgIWlzTGVmdCkgaWYgKG9yaWdpbiAmJiAiYm90dG9tIiAhPT0gb3JpZ2luIHx8ICFpc1JpZ2h0KSBpZiAob3JpZ2luICYmICJyaWdodCIgPT09IG9yaWdpbiAmJiBpc0xlZnQpIGxpbmUgPSBkcmF3TGluZSh0aGlzLmNoYXJ0LCByaWdodCwgWyB7CiAgICAgICAgICAgICAgICB4OiByaWdodC54ICsgbGluZUxlbmd0aCAvIDIsCiAgICAgICAgICAgICAgICB5OiByaWdodC55CiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHg6IHJpZ2h0LnggKyBsaW5lTGVuZ3RoIC8gMiwKICAgICAgICAgICAgICAgIHk6IHN5bWJvbFRvcC55IC0gbGluZUxlbmd0aCAvIDIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgeDogc3ltYm9sVG9wLngsCiAgICAgICAgICAgICAgICB5OiBzeW1ib2xUb3AueSAtIGxpbmVMZW5ndGggLyAyCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHg6IHN5bWJvbFRvcC54LAogICAgICAgICAgICAgICAgeTogc3ltYm9sVG9wLnkKICAgICAgICAgICAgfSBdLCB0ZXh0KSwgdGhpcy5yaWdodFN0YXJ0ID0gITAsIHN5bWJvbC50b3BFbmQgPSAhMCwgbWF4WCA9IHJpZ2h0LnggKyBsaW5lTGVuZ3RoIC8gMjsgZWxzZSBpZiAob3JpZ2luICYmICJyaWdodCIgPT09IG9yaWdpbiAmJiBpc1JpZ2h0KSBsaW5lID0gZHJhd0xpbmUodGhpcy5jaGFydCwgcmlnaHQsIFsgewogICAgICAgICAgICAgICAgeDogc3ltYm9sVG9wLngsCiAgICAgICAgICAgICAgICB5OiByaWdodC55CiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHg6IHN5bWJvbFRvcC54LAogICAgICAgICAgICAgICAgeTogc3ltYm9sVG9wLnkKICAgICAgICAgICAgfSBdLCB0ZXh0KSwgdGhpcy5yaWdodFN0YXJ0ID0gITAsIHN5bWJvbC50b3BFbmQgPSAhMCwgbWF4WCA9IHJpZ2h0LnggKyBsaW5lTGVuZ3RoIC8gMjsgZWxzZSBpZiAob3JpZ2luICYmICJib3R0b20iID09PSBvcmlnaW4gJiYgaXNPblNhbWVDb2x1bW4gJiYgaXNVcHBlcikgbGluZSA9IGRyYXdMaW5lKHRoaXMuY2hhcnQsIGJvdHRvbSwgWyB7CiAgICAgICAgICAgICAgICB4OiBib3R0b20ueCwKICAgICAgICAgICAgICAgIHk6IGJvdHRvbS55ICsgbGluZUxlbmd0aCAvIDIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgeDogcmlnaHQueCArIGxpbmVMZW5ndGggLyAyLAogICAgICAgICAgICAgICAgeTogYm90dG9tLnkgKyBsaW5lTGVuZ3RoIC8gMgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB4OiByaWdodC54ICsgbGluZUxlbmd0aCAvIDIsCiAgICAgICAgICAgICAgICB5OiBzeW1ib2xUb3AueSAtIGxpbmVMZW5ndGggLyAyCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHg6IHN5bWJvbFRvcC54LAogICAgICAgICAgICAgICAgeTogc3ltYm9sVG9wLnkgLSBsaW5lTGVuZ3RoIC8gMgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB4OiBzeW1ib2xUb3AueCwKICAgICAgICAgICAgICAgIHk6IHN5bWJvbFRvcC55CiAgICAgICAgICAgIH0gXSwgdGV4dCksIHRoaXMuYm90dG9tU3RhcnQgPSAhMCwgc3ltYm9sLnRvcEVuZCA9ICEwLCBtYXhYID0gYm90dG9tLnggKyBsaW5lTGVuZ3RoIC8gMjsgZWxzZSBpZiAoImxlZnQiID09PSBvcmlnaW4gJiYgaXNPblNhbWVDb2x1bW4gJiYgaXNVcHBlcikgewogICAgICAgICAgICAgICAgdmFyIGRpZmZYID0gbGVmdC54IC0gbGluZUxlbmd0aCAvIDI7CiAgICAgICAgICAgICAgICBzeW1ib2xMZWZ0LnggPCBsZWZ0LnggJiYgKGRpZmZYID0gc3ltYm9sTGVmdC54IC0gbGluZUxlbmd0aCAvIDIpLCBsaW5lID0gZHJhd0xpbmUodGhpcy5jaGFydCwgbGVmdCwgWyB7CiAgICAgICAgICAgICAgICAgICAgeDogZGlmZlgsCiAgICAgICAgICAgICAgICAgICAgeTogbGVmdC55CiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgeDogZGlmZlgsCiAgICAgICAgICAgICAgICAgICAgeTogc3ltYm9sVG9wLnkgLSBsaW5lTGVuZ3RoIC8gMgogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgIHg6IHN5bWJvbFRvcC54LAogICAgICAgICAgICAgICAgICAgIHk6IHN5bWJvbFRvcC55IC0gbGluZUxlbmd0aCAvIDIKICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICB4OiBzeW1ib2xUb3AueCwKICAgICAgICAgICAgICAgICAgICB5OiBzeW1ib2xUb3AueQogICAgICAgICAgICAgICAgfSBdLCB0ZXh0KSwgdGhpcy5sZWZ0U3RhcnQgPSAhMCwgc3ltYm9sLnRvcEVuZCA9ICEwLCBtYXhYID0gbGVmdC54OwogICAgICAgICAgICB9IGVsc2UgImxlZnQiID09PSBvcmlnaW4gJiYgKGxpbmUgPSBkcmF3TGluZSh0aGlzLmNoYXJ0LCBsZWZ0LCBbIHsKICAgICAgICAgICAgICAgIHg6IHN5bWJvbFRvcC54ICsgKGxlZnQueCAtIHN5bWJvbFRvcC54KSAvIDIsCiAgICAgICAgICAgICAgICB5OiBsZWZ0LnkKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgeDogc3ltYm9sVG9wLnggKyAobGVmdC54IC0gc3ltYm9sVG9wLngpIC8gMiwKICAgICAgICAgICAgICAgIHk6IHN5bWJvbFRvcC55IC0gbGluZUxlbmd0aCAvIDIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgeDogc3ltYm9sVG9wLngsCiAgICAgICAgICAgICAgICB5OiBzeW1ib2xUb3AueSAtIGxpbmVMZW5ndGggLyAyCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHg6IHN5bWJvbFRvcC54LAogICAgICAgICAgICAgICAgeTogc3ltYm9sVG9wLnkKICAgICAgICAgICAgfSBdLCB0ZXh0KSwgdGhpcy5sZWZ0U3RhcnQgPSAhMCwgc3ltYm9sLnRvcEVuZCA9ICEwLCBtYXhYID0gbGVmdC54KTsgZWxzZSBsaW5lID0gZHJhd0xpbmUodGhpcy5jaGFydCwgYm90dG9tLCBbIHsKICAgICAgICAgICAgICAgIHg6IGJvdHRvbS54LAogICAgICAgICAgICAgICAgeTogYm90dG9tLnkgKyBsaW5lTGVuZ3RoIC8gMgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB4OiBib3R0b20ueCArIChib3R0b20ueCAtIHN5bWJvbFRvcC54KSAvIDIsCiAgICAgICAgICAgICAgICB5OiBib3R0b20ueSArIGxpbmVMZW5ndGggLyAyCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHg6IGJvdHRvbS54ICsgKGJvdHRvbS54IC0gc3ltYm9sVG9wLngpIC8gMiwKICAgICAgICAgICAgICAgIHk6IHN5bWJvbFRvcC55IC0gbGluZUxlbmd0aCAvIDIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgeDogc3ltYm9sVG9wLngsCiAgICAgICAgICAgICAgICB5OiBzeW1ib2xUb3AueSAtIGxpbmVMZW5ndGggLyAyCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHg6IHN5bWJvbFRvcC54LAogICAgICAgICAgICAgICAgeTogc3ltYm9sVG9wLnkKICAgICAgICAgICAgfSBdLCB0ZXh0KSwgdGhpcy5ib3R0b21TdGFydCA9ICEwLCBzeW1ib2wudG9wRW5kID0gITAsIG1heFggPSBib3R0b20ueCArIChib3R0b20ueCAtIHN5bWJvbFRvcC54KSAvIDI7IGVsc2UgbGluZSA9IHRoaXMubGVmdEVuZCAmJiBpc1VwcGVyID8gZHJhd0xpbmUodGhpcy5jaGFydCwgYm90dG9tLCBbIHsKICAgICAgICAgICAgICAgIHg6IGJvdHRvbS54LAogICAgICAgICAgICAgICAgeTogYm90dG9tLnkgKyBsaW5lTGVuZ3RoIC8gMgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB4OiBib3R0b20ueCArIChib3R0b20ueCAtIHN5bWJvbFRvcC54KSAvIDIsCiAgICAgICAgICAgICAgICB5OiBib3R0b20ueSArIGxpbmVMZW5ndGggLyAyCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHg6IGJvdHRvbS54ICsgKGJvdHRvbS54IC0gc3ltYm9sVG9wLngpIC8gMiwKICAgICAgICAgICAgICAgIHk6IHN5bWJvbFRvcC55IC0gbGluZUxlbmd0aCAvIDIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgeDogc3ltYm9sVG9wLngsCiAgICAgICAgICAgICAgICB5OiBzeW1ib2xUb3AueSAtIGxpbmVMZW5ndGggLyAyCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHg6IHN5bWJvbFRvcC54LAogICAgICAgICAgICAgICAgeTogc3ltYm9sVG9wLnkKICAgICAgICAgICAgfSBdLCB0ZXh0KSA6IGRyYXdMaW5lKHRoaXMuY2hhcnQsIGJvdHRvbSwgWyB7CiAgICAgICAgICAgICAgICB4OiBib3R0b20ueCwKICAgICAgICAgICAgICAgIHk6IHN5bWJvbFRvcC55IC0gbGluZUxlbmd0aCAvIDIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgeDogc3ltYm9sVG9wLngsCiAgICAgICAgICAgICAgICB5OiBzeW1ib2xUb3AueSAtIGxpbmVMZW5ndGggLyAyCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHg6IHN5bWJvbFRvcC54LAogICAgICAgICAgICAgICAgeTogc3ltYm9sVG9wLnkKICAgICAgICAgICAgfSBdLCB0ZXh0KSwgdGhpcy5ib3R0b21TdGFydCA9ICEwLCBzeW1ib2wudG9wRW5kID0gITAsIG1heFggPSBib3R0b20ueCArIChib3R0b20ueCAtIHN5bWJvbFRvcC54KSAvIDI7IGVsc2UgbGluZSA9IGRyYXdMaW5lKHRoaXMuY2hhcnQsIHJpZ2h0LCBbIHsKICAgICAgICAgICAgICAgIHg6IHJpZ2h0LnggKyBsaW5lTGVuZ3RoIC8gMiwKICAgICAgICAgICAgICAgIHk6IHJpZ2h0LnkKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgeDogcmlnaHQueCArIGxpbmVMZW5ndGggLyAyLAogICAgICAgICAgICAgICAgeTogc3ltYm9sVG9wLnkgLSBsaW5lTGVuZ3RoIC8gMgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB4OiBzeW1ib2xUb3AueCwKICAgICAgICAgICAgICAgIHk6IHN5bWJvbFRvcC55IC0gbGluZUxlbmd0aCAvIDIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgeDogc3ltYm9sVG9wLngsCiAgICAgICAgICAgICAgICB5OiBzeW1ib2xUb3AueQogICAgICAgICAgICB9IF0sIHRleHQpLCB0aGlzLnJpZ2h0U3RhcnQgPSAhMCwgc3ltYm9sLnRvcEVuZCA9ICEwLCBtYXhYID0gcmlnaHQueCArIGxpbmVMZW5ndGggLyAyOyBlbHNlIGxpbmUgPSBkcmF3TGluZSh0aGlzLmNoYXJ0LCByaWdodCwgWyB7CiAgICAgICAgICAgICAgICB4OiByaWdodC54ICsgbGluZUxlbmd0aCAvIDIsCiAgICAgICAgICAgICAgICB5OiByaWdodC55CiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHg6IHJpZ2h0LnggKyBsaW5lTGVuZ3RoIC8gMiwKICAgICAgICAgICAgICAgIHk6IHN5bWJvbFRvcC55IC0gbGluZUxlbmd0aCAvIDIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgeDogc3ltYm9sVG9wLngsCiAgICAgICAgICAgICAgICB5OiBzeW1ib2xUb3AueSAtIGxpbmVMZW5ndGggLyAyCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHg6IHN5bWJvbFRvcC54LAogICAgICAgICAgICAgICAgeTogc3ltYm9sVG9wLnkKICAgICAgICAgICAgfSBdLCB0ZXh0KSwgdGhpcy5yaWdodFN0YXJ0ID0gITAsIHN5bWJvbC50b3BFbmQgPSAhMCwgbWF4WCA9IHJpZ2h0LnggKyBsaW5lTGVuZ3RoIC8gMjsgZWxzZSBsaW5lID0gZHJhd0xpbmUodGhpcy5jaGFydCwgbGVmdCwgc3ltYm9sUmlnaHQsIHRleHQpLCAKICAgICAgICAgICAgdGhpcy5sZWZ0U3RhcnQgPSAhMCwgc3ltYm9sLnJpZ2h0RW5kID0gITAsIG1heFggPSBzeW1ib2xSaWdodC54OyBlbHNlIGxpbmUgPSBkcmF3TGluZSh0aGlzLmNoYXJ0LCByaWdodCwgc3ltYm9sTGVmdCwgdGV4dCksIAogICAgICAgICAgICB0aGlzLnJpZ2h0U3RhcnQgPSAhMCwgc3ltYm9sLmxlZnRFbmQgPSAhMCwgbWF4WCA9IHN5bWJvbExlZnQueDsgZWxzZSBsaW5lID0gZHJhd0xpbmUodGhpcy5jaGFydCwgYm90dG9tLCBzeW1ib2xUb3AsIHRleHQpLCAKICAgICAgICAgICAgdGhpcy5ib3R0b21TdGFydCA9ICEwLCBzeW1ib2wudG9wRW5kID0gITAsIG1heFggPSBib3R0b20ueDsKICAgICAgICAgICAgaWYgKGxpbmUpIHsKICAgICAgICAgICAgICAgIGZvciAodmFyIGwgPSAwLCBsbGVuID0gdGhpcy5jaGFydC5saW5lcy5sZW5ndGg7IGxsZW4gPiBsOyBsKyspIGZvciAodmFyIGxlbiwgb3RoZXJMaW5lID0gdGhpcy5jaGFydC5saW5lc1tsXSwgZVBhdGggPSBvdGhlckxpbmUuYXR0cigicGF0aCIpLCBsUGF0aCA9IGxpbmUuYXR0cigicGF0aCIpLCBpUCA9IDAsIGxlblAgPSBlUGF0aC5sZW5ndGggLSAxOyBsZW5QID4gaVA7IGlQKyspIHsKICAgICAgICAgICAgICAgICAgICB2YXIgbmV3UGF0aCA9IFtdOwogICAgICAgICAgICAgICAgICAgIG5ld1BhdGgucHVzaChbICJNIiwgZVBhdGhbaVBdWzFdLCBlUGF0aFtpUF1bMl0gXSksIG5ld1BhdGgucHVzaChbICJMIiwgZVBhdGhbaVAgKyAxXVsxXSwgZVBhdGhbaVAgKyAxXVsyXSBdKTsKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBsaW5lMV9mcm9tX3ggPSBuZXdQYXRoWzBdWzFdLCBsaW5lMV9mcm9tX3kgPSBuZXdQYXRoWzBdWzJdLCBsaW5lMV90b194ID0gbmV3UGF0aFsxXVsxXSwgbGluZTFfdG9feSA9IG5ld1BhdGhbMV1bMl0sIGxQID0gMCwgbGVubFAgPSBsUGF0aC5sZW5ndGggLSAxOyBsZW5sUCA+IGxQOyBsUCsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdMaW5lUGF0aCA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICBuZXdMaW5lUGF0aC5wdXNoKFsgIk0iLCBsUGF0aFtsUF1bMV0sIGxQYXRoW2xQXVsyXSBdKSwgbmV3TGluZVBhdGgucHVzaChbICJMIiwgbFBhdGhbbFAgKyAxXVsxXSwgbFBhdGhbbFAgKyAxXVsyXSBdKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxpbmUyX2Zyb21feCA9IG5ld0xpbmVQYXRoWzBdWzFdLCBsaW5lMl9mcm9tX3kgPSBuZXdMaW5lUGF0aFswXVsyXSwgbGluZTJfdG9feCA9IG5ld0xpbmVQYXRoWzFdWzFdLCBsaW5lMl90b195ID0gbmV3TGluZVBhdGhbMV1bMl0sIHJlcyA9IGNoZWNrTGluZUludGVyc2VjdGlvbihsaW5lMV9mcm9tX3gsIGxpbmUxX2Zyb21feSwgbGluZTFfdG9feCwgbGluZTFfdG9feSwgbGluZTJfZnJvbV94LCBsaW5lMl9mcm9tX3ksIGxpbmUyX3RvX3gsIGxpbmUyX3RvX3kpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLm9uTGluZTEgJiYgcmVzLm9uTGluZTIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdTZWdtZW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZTJfZnJvbV95ID09PSBsaW5lMl90b195ID8gbGluZTJfZnJvbV94ID4gbGluZTJfdG9feCA/IChuZXdTZWdtZW50ID0gWyAiTCIsIHJlcy54ICsgMiAqIGxpbmVXaXRoLCBsaW5lMl9mcm9tX3kgXSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsUGF0aC5zcGxpY2UobFAgKyAxLCAwLCBuZXdTZWdtZW50KSwgbmV3U2VnbWVudCA9IFsgIkMiLCByZXMueCArIDIgKiBsaW5lV2l0aCwgbGluZTJfZnJvbV95LCByZXMueCwgbGluZTJfZnJvbV95IC0gNCAqIGxpbmVXaXRoLCByZXMueCAtIDIgKiBsaW5lV2l0aCwgbGluZTJfZnJvbV95IF0sIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbFBhdGguc3BsaWNlKGxQICsgMiwgMCwgbmV3U2VnbWVudCksIGxpbmUuYXR0cigicGF0aCIsIGxQYXRoKSkgOiAobmV3U2VnbWVudCA9IFsgIkwiLCByZXMueCAtIDIgKiBsaW5lV2l0aCwgbGluZTJfZnJvbV95IF0sIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbFBhdGguc3BsaWNlKGxQICsgMSwgMCwgbmV3U2VnbWVudCksIG5ld1NlZ21lbnQgPSBbICJDIiwgcmVzLnggLSAyICogbGluZVdpdGgsIGxpbmUyX2Zyb21feSwgcmVzLngsIGxpbmUyX2Zyb21feSAtIDQgKiBsaW5lV2l0aCwgcmVzLnggKyAyICogbGluZVdpdGgsIGxpbmUyX2Zyb21feSBdLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxQYXRoLnNwbGljZShsUCArIDIsIDAsIG5ld1NlZ21lbnQpLCBsaW5lLmF0dHIoInBhdGgiLCBsUGF0aCkpIDogbGluZTJfZnJvbV95ID4gbGluZTJfdG9feSA/IChuZXdTZWdtZW50ID0gWyAiTCIsIGxpbmUyX2Zyb21feCwgcmVzLnkgKyAyICogbGluZVdpdGggXSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsUGF0aC5zcGxpY2UobFAgKyAxLCAwLCBuZXdTZWdtZW50KSwgbmV3U2VnbWVudCA9IFsgIkMiLCBsaW5lMl9mcm9tX3gsIHJlcy55ICsgMiAqIGxpbmVXaXRoLCBsaW5lMl9mcm9tX3ggKyA0ICogbGluZVdpdGgsIHJlcy55LCBsaW5lMl9mcm9tX3gsIHJlcy55IC0gMiAqIGxpbmVXaXRoIF0sIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbFBhdGguc3BsaWNlKGxQICsgMiwgMCwgbmV3U2VnbWVudCksIGxpbmUuYXR0cigicGF0aCIsIGxQYXRoKSkgOiAobmV3U2VnbWVudCA9IFsgIkwiLCBsaW5lMl9mcm9tX3gsIHJlcy55IC0gMiAqIGxpbmVXaXRoIF0sIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbFBhdGguc3BsaWNlKGxQICsgMSwgMCwgbmV3U2VnbWVudCksIG5ld1NlZ21lbnQgPSBbICJDIiwgbGluZTJfZnJvbV94LCByZXMueSAtIDIgKiBsaW5lV2l0aCwgbGluZTJfZnJvbV94ICsgNCAqIGxpbmVXaXRoLCByZXMueSwgbGluZTJfZnJvbV94LCByZXMueSArIDIgKiBsaW5lV2l0aCBdLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxQYXRoLnNwbGljZShsUCArIDIsIDAsIG5ld1NlZ21lbnQpLCBsaW5lLmF0dHIoInBhdGgiLCBsUGF0aCkpLCBsUCArPSAyLCBsZW4gKz0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRoaXMuY2hhcnQubGluZXMucHVzaChsaW5lKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAoIXRoaXMuY2hhcnQubWF4WEZyb21MaW5lIHx8IHRoaXMuY2hhcnQubWF4WEZyb21MaW5lICYmIG1heFggPiB0aGlzLmNoYXJ0Lm1heFhGcm9tTGluZSkgJiYgKHRoaXMuY2hhcnQubWF4WEZyb21MaW5lID0gbWF4WCk7CiAgICAgICAgfSwgbW9kdWxlLmV4cG9ydHMgPSBTeW1ib2w7CiAgICB9LCAvKiAzICovCiAgICAvKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vc3JjL2Zsb3djaGFydC5mdW5jdGlvbnMuanMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCiAgICAvKioqLwogICAgZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CiAgICAgICAgZnVuY3Rpb24gZHJhd1BhdGgoY2hhcnQsIGxvY2F0aW9uLCBwb2ludHMpIHsKICAgICAgICAgICAgdmFyIGksIGxlbiwgcGF0aCA9ICJNezB9LHsxfSI7CiAgICAgICAgICAgIGZvciAoaSA9IDIsIGxlbiA9IDIgKiBwb2ludHMubGVuZ3RoICsgMjsgbGVuID4gaTsgaSArPSAyKSBwYXRoICs9ICIgTHsiICsgaSArICJ9LHsiICsgKGkgKyAxKSArICJ9IjsKICAgICAgICAgICAgdmFyIHBhdGhWYWx1ZXMgPSBbIGxvY2F0aW9uLngsIGxvY2F0aW9uLnkgXTsKICAgICAgICAgICAgZm9yIChpID0gMCwgbGVuID0gcG9pbnRzLmxlbmd0aDsgbGVuID4gaTsgaSsrKSBwYXRoVmFsdWVzLnB1c2gocG9pbnRzW2ldLngpLCBwYXRoVmFsdWVzLnB1c2gocG9pbnRzW2ldLnkpOwogICAgICAgICAgICB2YXIgc3ltYm9sID0gY2hhcnQucGFwZXIucGF0aChwYXRoLCBwYXRoVmFsdWVzKTsKICAgICAgICAgICAgc3ltYm9sLmF0dHIoInN0cm9rZSIsIGNoYXJ0Lm9wdGlvbnNbImVsZW1lbnQtY29sb3IiXSksIHN5bWJvbC5hdHRyKCJzdHJva2Utd2lkdGgiLCBjaGFydC5vcHRpb25zWyJsaW5lLXdpZHRoIl0pOwogICAgICAgICAgICB2YXIgZm9udCA9IGNoYXJ0Lm9wdGlvbnMuZm9udCwgZm9udEYgPSBjaGFydC5vcHRpb25zWyJmb250LWZhbWlseSJdLCBmb250VyA9IGNoYXJ0Lm9wdGlvbnNbImZvbnQtd2VpZ2h0Il07CiAgICAgICAgICAgIHJldHVybiBmb250ICYmIHN5bWJvbC5hdHRyKHsKICAgICAgICAgICAgICAgIGZvbnQ6IGZvbnQKICAgICAgICAgICAgfSksIGZvbnRGICYmIHN5bWJvbC5hdHRyKHsKICAgICAgICAgICAgICAgICJmb250LWZhbWlseSI6IGZvbnRGCiAgICAgICAgICAgIH0pLCBmb250VyAmJiBzeW1ib2wuYXR0cih7CiAgICAgICAgICAgICAgICAiZm9udC13ZWlnaHQiOiBmb250VwogICAgICAgICAgICB9KSwgc3ltYm9sOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBkcmF3TGluZShjaGFydCwgZnJvbSwgdG8sIHRleHQpIHsKICAgICAgICAgICAgdmFyIGksIGxlbjsKICAgICAgICAgICAgIltvYmplY3QgQXJyYXldIiAhPT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRvKSAmJiAodG8gPSBbIHRvIF0pOwogICAgICAgICAgICB2YXIgcGF0aCA9ICJNezB9LHsxfSI7CiAgICAgICAgICAgIGZvciAoaSA9IDIsIGxlbiA9IDIgKiB0by5sZW5ndGggKyAyOyBsZW4gPiBpOyBpICs9IDIpIHBhdGggKz0gIiBMeyIgKyBpICsgIn0seyIgKyAoaSArIDEpICsgIn0iOwogICAgICAgICAgICB2YXIgcGF0aFZhbHVlcyA9IFsgZnJvbS54LCBmcm9tLnkgXTsKICAgICAgICAgICAgZm9yIChpID0gMCwgbGVuID0gdG8ubGVuZ3RoOyBsZW4gPiBpOyBpKyspIHBhdGhWYWx1ZXMucHVzaCh0b1tpXS54KSwgcGF0aFZhbHVlcy5wdXNoKHRvW2ldLnkpOwogICAgICAgICAgICB2YXIgbGluZSA9IGNoYXJ0LnBhcGVyLnBhdGgocGF0aCwgcGF0aFZhbHVlcyk7CiAgICAgICAgICAgIGxpbmUuYXR0cih7CiAgICAgICAgICAgICAgICBzdHJva2U6IGNoYXJ0Lm9wdGlvbnNbImxpbmUtY29sb3IiXSwKICAgICAgICAgICAgICAgICJzdHJva2Utd2lkdGgiOiBjaGFydC5vcHRpb25zWyJsaW5lLXdpZHRoIl0sCiAgICAgICAgICAgICAgICAiYXJyb3ctZW5kIjogY2hhcnQub3B0aW9uc1siYXJyb3ctZW5kIl0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZhciBmb250ID0gY2hhcnQub3B0aW9ucy5mb250LCBmb250RiA9IGNoYXJ0Lm9wdGlvbnNbImZvbnQtZmFtaWx5Il0sIGZvbnRXID0gY2hhcnQub3B0aW9uc1siZm9udC13ZWlnaHQiXTsKICAgICAgICAgICAgaWYgKGZvbnQgJiYgbGluZS5hdHRyKHsKICAgICAgICAgICAgICAgIGZvbnQ6IGZvbnQKICAgICAgICAgICAgfSksIGZvbnRGICYmIGxpbmUuYXR0cih7CiAgICAgICAgICAgICAgICAiZm9udC1mYW1pbHkiOiBmb250RgogICAgICAgICAgICB9KSwgZm9udFcgJiYgbGluZS5hdHRyKHsKICAgICAgICAgICAgICAgICJmb250LXdlaWdodCI6IGZvbnRXCiAgICAgICAgICAgIH0pLCB0ZXh0KSB7CiAgICAgICAgICAgICAgICB2YXIgY2VudGVyVGV4dCA9ICExLCB0ZXh0UGF0aCA9IGNoYXJ0LnBhcGVyLnRleHQoMCwgMCwgdGV4dCksIGlzSG9yaXpvbnRhbCA9ICExLCBmaXJzdFRvID0gdG9bMF07CiAgICAgICAgICAgICAgICBmcm9tLnkgPT09IGZpcnN0VG8ueSAmJiAoaXNIb3Jpem9udGFsID0gITApOwogICAgICAgICAgICAgICAgdmFyIHggPSAwLCB5ID0gMDsKICAgICAgICAgICAgICAgIGNlbnRlclRleHQgPyAoeCA9IGZyb20ueCA+IGZpcnN0VG8ueCA/IGZyb20ueCAtIChmcm9tLnggLSBmaXJzdFRvLngpIC8gMiA6IGZpcnN0VG8ueCAtIChmaXJzdFRvLnggLSBmcm9tLngpIC8gMiwgCiAgICAgICAgICAgICAgICB5ID0gZnJvbS55ID4gZmlyc3RUby55ID8gZnJvbS55IC0gKGZyb20ueSAtIGZpcnN0VG8ueSkgLyAyIDogZmlyc3RUby55IC0gKGZpcnN0VG8ueSAtIGZyb20ueSkgLyAyLCAKICAgICAgICAgICAgICAgIGlzSG9yaXpvbnRhbCA/ICh4IC09IHRleHRQYXRoLmdldEJCb3goKS53aWR0aCAvIDIsIHkgLT0gY2hhcnQub3B0aW9uc1sidGV4dC1tYXJnaW4iXSkgOiAoeCArPSBjaGFydC5vcHRpb25zWyJ0ZXh0LW1hcmdpbiJdLCAKICAgICAgICAgICAgICAgIHkgLT0gdGV4dFBhdGguZ2V0QkJveCgpLmhlaWdodCAvIDIpKSA6ICh4ID0gZnJvbS54LCB5ID0gZnJvbS55LCBpc0hvcml6b250YWwgPyAoeCArPSBjaGFydC5vcHRpb25zWyJ0ZXh0LW1hcmdpbiJdIC8gMiwgCiAgICAgICAgICAgICAgICB5IC09IGNoYXJ0Lm9wdGlvbnNbInRleHQtbWFyZ2luIl0pIDogKHggKz0gY2hhcnQub3B0aW9uc1sidGV4dC1tYXJnaW4iXSAvIDIsIHkgKz0gY2hhcnQub3B0aW9uc1sidGV4dC1tYXJnaW4iXSkpLCAKICAgICAgICAgICAgICAgIHRleHRQYXRoLmF0dHIoewogICAgICAgICAgICAgICAgICAgICJ0ZXh0LWFuY2hvciI6ICJzdGFydCIsCiAgICAgICAgICAgICAgICAgICAgImZvbnQtc2l6ZSI6IGNoYXJ0Lm9wdGlvbnNbImZvbnQtc2l6ZSJdLAogICAgICAgICAgICAgICAgICAgIGZpbGw6IGNoYXJ0Lm9wdGlvbnNbImZvbnQtY29sb3IiXSwKICAgICAgICAgICAgICAgICAgICB4OiB4LAogICAgICAgICAgICAgICAgICAgIHk6IHkKICAgICAgICAgICAgICAgIH0pLCBmb250ICYmIHRleHRQYXRoLmF0dHIoewogICAgICAgICAgICAgICAgICAgIGZvbnQ6IGZvbnQKICAgICAgICAgICAgICAgIH0pLCBmb250RiAmJiB0ZXh0UGF0aC5hdHRyKHsKICAgICAgICAgICAgICAgICAgICAiZm9udC1mYW1pbHkiOiBmb250RgogICAgICAgICAgICAgICAgfSksIGZvbnRXICYmIHRleHRQYXRoLmF0dHIoewogICAgICAgICAgICAgICAgICAgICJmb250LXdlaWdodCI6IGZvbnRXCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gbGluZTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gY2hlY2tMaW5lSW50ZXJzZWN0aW9uKGxpbmUxU3RhcnRYLCBsaW5lMVN0YXJ0WSwgbGluZTFFbmRYLCBsaW5lMUVuZFksIGxpbmUyU3RhcnRYLCBsaW5lMlN0YXJ0WSwgbGluZTJFbmRYLCBsaW5lMkVuZFkpIHsKICAgICAgICAgICAgLy8gaWYgdGhlIGxpbmVzIGludGVyc2VjdCwgdGhlIHJlc3VsdCBjb250YWlucyB0aGUgeCBhbmQgeSBvZiB0aGUgaW50ZXJzZWN0aW9uICh0cmVhdGluZyB0aGUgbGluZXMgYXMgaW5maW5pdGUpIGFuZCBib29sZWFucyBmb3Igd2hldGhlciBsaW5lIHNlZ21lbnQgMSBvciBsaW5lIHNlZ21lbnQgMiBjb250YWluIHRoZSBwb2ludAogICAgICAgICAgICB2YXIgZGVub21pbmF0b3IsIGEsIGIsIG51bWVyYXRvcjEsIG51bWVyYXRvcjIsIHJlc3VsdCA9IHsKICAgICAgICAgICAgICAgIHg6IG51bGwsCiAgICAgICAgICAgICAgICB5OiBudWxsLAogICAgICAgICAgICAgICAgb25MaW5lMTogITEsCiAgICAgICAgICAgICAgICBvbkxpbmUyOiAhMQogICAgICAgICAgICB9OwogICAgICAgICAgICAvLyBpZiB3ZSBjYXN0IHRoZXNlIGxpbmVzIGluZmluaXRlbHkgaW4gYm90aCBkaXJlY3Rpb25zLCB0aGV5IGludGVyc2VjdCBoZXJlOgogICAgICAgICAgICAvKgoJICAvLyBpdCBpcyB3b3J0aCBub3RpbmcgdGhhdCB0aGlzIHNob3VsZCBiZSB0aGUgc2FtZSBhczoKCSAgeCA9IGxpbmUyU3RhcnRYICsgKGIgKiAobGluZTJFbmRYIC0gbGluZTJTdGFydFgpKTsKCSAgeSA9IGxpbmUyU3RhcnRYICsgKGIgKiAobGluZTJFbmRZIC0gbGluZTJTdGFydFkpKTsKCSAgKi8KICAgICAgICAgICAgLy8gaWYgbGluZTEgaXMgYSBzZWdtZW50IGFuZCBsaW5lMiBpcyBpbmZpbml0ZSwgdGhleSBpbnRlcnNlY3QgaWY6CiAgICAgICAgICAgIC8vIGlmIGxpbmUyIGlzIGEgc2VnbWVudCBhbmQgbGluZTEgaXMgaW5maW5pdGUsIHRoZXkgaW50ZXJzZWN0IGlmOgogICAgICAgICAgICByZXR1cm4gZGVub21pbmF0b3IgPSAobGluZTJFbmRZIC0gbGluZTJTdGFydFkpICogKGxpbmUxRW5kWCAtIGxpbmUxU3RhcnRYKSAtIChsaW5lMkVuZFggLSBsaW5lMlN0YXJ0WCkgKiAobGluZTFFbmRZIC0gbGluZTFTdGFydFkpLCAKICAgICAgICAgICAgMCA9PT0gZGVub21pbmF0b3IgPyByZXN1bHQgOiAoYSA9IGxpbmUxU3RhcnRZIC0gbGluZTJTdGFydFksIGIgPSBsaW5lMVN0YXJ0WCAtIGxpbmUyU3RhcnRYLCAKICAgICAgICAgICAgbnVtZXJhdG9yMSA9IChsaW5lMkVuZFggLSBsaW5lMlN0YXJ0WCkgKiBhIC0gKGxpbmUyRW5kWSAtIGxpbmUyU3RhcnRZKSAqIGIsIG51bWVyYXRvcjIgPSAobGluZTFFbmRYIC0gbGluZTFTdGFydFgpICogYSAtIChsaW5lMUVuZFkgLSBsaW5lMVN0YXJ0WSkgKiBiLCAKICAgICAgICAgICAgYSA9IG51bWVyYXRvcjEgLyBkZW5vbWluYXRvciwgYiA9IG51bWVyYXRvcjIgLyBkZW5vbWluYXRvciwgcmVzdWx0LnggPSBsaW5lMVN0YXJ0WCArIGEgKiAobGluZTFFbmRYIC0gbGluZTFTdGFydFgpLCAKICAgICAgICAgICAgcmVzdWx0LnkgPSBsaW5lMVN0YXJ0WSArIGEgKiAobGluZTFFbmRZIC0gbGluZTFTdGFydFkpLCBhID4gMCAmJiAxID4gYSAmJiAocmVzdWx0Lm9uTGluZTEgPSAhMCksIAogICAgICAgICAgICBiID4gMCAmJiAxID4gYiAmJiAocmVzdWx0Lm9uTGluZTIgPSAhMCksIHJlc3VsdCk7CiAgICAgICAgfQogICAgICAgIG1vZHVsZS5leHBvcnRzID0gewogICAgICAgICAgICBkcmF3UGF0aDogZHJhd1BhdGgsCiAgICAgICAgICAgIGRyYXdMaW5lOiBkcmF3TGluZSwKICAgICAgICAgICAgY2hlY2tMaW5lSW50ZXJzZWN0aW9uOiBjaGVja0xpbmVJbnRlcnNlY3Rpb24KICAgICAgICB9OwogICAgfSwgLyogNCAqLwogICAgLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vc3JjL2Zsb3djaGFydC5wYXJzZS5qcyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwogICAgLyoqKi8KICAgIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICAgIGZ1bmN0aW9uIHBhcnNlKGlucHV0KSB7CiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFN5bWJvbChzKSB7CiAgICAgICAgICAgICAgICB2YXIgc3RhcnRJbmRleCA9IHMuaW5kZXhPZigiKCIpICsgMSwgZW5kSW5kZXggPSBzLmluZGV4T2YoIikiKTsKICAgICAgICAgICAgICAgIHJldHVybiBzdGFydEluZGV4ID49IDAgJiYgZW5kSW5kZXggPj0gMCA/IGNoYXJ0LnN5bWJvbHNbcy5zdWJzdHJpbmcoMCwgc3RhcnRJbmRleCAtIDEpXSA6IGNoYXJ0LnN5bWJvbHNbc107CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gZ2V0TmV4dFBhdGgocykgewogICAgICAgICAgICAgICAgdmFyIG5leHQgPSAibmV4dCIsIHN0YXJ0SW5kZXggPSBzLmluZGV4T2YoIigiKSArIDEsIGVuZEluZGV4ID0gcy5pbmRleE9mKCIpIik7CiAgICAgICAgICAgICAgICByZXR1cm4gc3RhcnRJbmRleCA+PSAwICYmIGVuZEluZGV4ID49IDAgJiYgKG5leHQgPSBmbG93U3ltYi5zdWJzdHJpbmcoc3RhcnRJbmRleCwgZW5kSW5kZXgpLCAKICAgICAgICAgICAgICAgIG5leHQuaW5kZXhPZigiLCIpIDwgMCAmJiAieWVzIiAhPT0gbmV4dCAmJiAibm8iICE9PSBuZXh0ICYmIChuZXh0ID0gIm5leHQsICIgKyBuZXh0KSksIAogICAgICAgICAgICAgICAgbmV4dDsKICAgICAgICAgICAgfQogICAgICAgICAgICBpbnB1dCA9IGlucHV0IHx8ICIiLCBpbnB1dCA9IGlucHV0LnRyaW0oKTsKICAgICAgICAgICAgZm9yICh2YXIgY2hhcnQgPSB7CiAgICAgICAgICAgICAgICBzeW1ib2xzOiB7fSwKICAgICAgICAgICAgICAgIHN0YXJ0OiBudWxsLAogICAgICAgICAgICAgICAgZHJhd1NWRzogZnVuY3Rpb24oY29udGFpbmVyLCBvcHRpb25zKSB7CiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0RGlzcGxheVN5bWJvbChzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXNwU3ltYm9sc1tzLmtleV0pIHJldHVybiBkaXNwU3ltYm9sc1tzLmtleV07CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocy5zeW1ib2xUeXBlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAic3RhcnQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcFN5bWJvbHNbcy5rZXldID0gbmV3IFN0YXJ0KGRpYWdyYW0sIHMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwU3ltYm9sc1tzLmtleV0gPSBuZXcgRW5kKGRpYWdyYW0sIHMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIm9wZXJhdGlvbiI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwU3ltYm9sc1tzLmtleV0gPSBuZXcgT3BlcmF0aW9uKGRpYWdyYW0sIHMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImlucHV0b3V0cHV0IjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BTeW1ib2xzW3Mua2V5XSA9IG5ldyBJbnB1dE91dHB1dChkaWFncmFtLCBzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJzdWJyb3V0aW5lIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BTeW1ib2xzW3Mua2V5XSA9IG5ldyBTdWJyb3V0aW5lKGRpYWdyYW0sIHMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImNvbmRpdGlvbiI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwU3ltYm9sc1tzLmtleV0gPSBuZXcgQ29uZGl0aW9uKGRpYWdyYW0sIHMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKCJXcm9uZyBzeW1ib2wgdHlwZSEiKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGlzcFN5bWJvbHNbcy5rZXldOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFncmFtICYmIHRoaXMuZGlhZ3JhbS5jbGVhbigpOwogICAgICAgICAgICAgICAgICAgIHZhciBkaWFncmFtID0gbmV3IEZsb3dDaGFydChjb250YWluZXIsIG9wdGlvbnMpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhZ3JhbSA9IGRpYWdyYW07CiAgICAgICAgICAgICAgICAgICAgdmFyIGRpc3BTeW1ib2xzID0ge307CiAgICAgICAgICAgICAgICAgICAgIWZ1bmN0aW9uIGNvbnN0cnVjdENoYXJ0KHMsIHByZXZEaXNwLCBwcmV2KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXNwU3ltYiA9IGdldERpc3BsYXlTeW1ib2wocyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLnN0YXJ0ID09PSBzID8gZGlhZ3JhbS5zdGFydFdpdGgoZGlzcFN5bWIpIDogcHJldkRpc3AgJiYgcHJldiAmJiAhcHJldkRpc3AucGF0aE9rICYmIChwcmV2RGlzcCBpbnN0YW5jZW9mIENvbmRpdGlvbiA/IChwcmV2LnllcyA9PT0gcyAmJiBwcmV2RGlzcC55ZXMoZGlzcFN5bWIpLCAKICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5ubyA9PT0gcyAmJiBwcmV2RGlzcC5ubyhkaXNwU3ltYikpIDogcHJldkRpc3AudGhlbihkaXNwU3ltYikpLCBkaXNwU3ltYi5wYXRoT2sgPyBkaXNwU3ltYiA6IChkaXNwU3ltYiBpbnN0YW5jZW9mIENvbmRpdGlvbiA/IChzLnllcyAmJiBjb25zdHJ1Y3RDaGFydChzLnllcywgZGlzcFN5bWIsIHMpLCAKICAgICAgICAgICAgICAgICAgICAgICAgcy5ubyAmJiBjb25zdHJ1Y3RDaGFydChzLm5vLCBkaXNwU3ltYiwgcykpIDogcy5uZXh0ICYmIGNvbnN0cnVjdENoYXJ0KHMubmV4dCwgZGlzcFN5bWIsIHMpLCAKICAgICAgICAgICAgICAgICAgICAgICAgZGlzcFN5bWIpOwogICAgICAgICAgICAgICAgICAgIH0odGhpcy5zdGFydCksIGRpYWdyYW0ucmVuZGVyKCk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgY2xlYW46IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhZ3JhbS5jbGVhbigpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCBsaW5lcyA9IFtdLCBwcmV2QnJlYWsgPSAwLCBpMCA9IDEsIGkwbGVuID0gaW5wdXQubGVuZ3RoOyBpMGxlbiA+IGkwOyBpMCsrKSBpZiAoIlxuIiA9PT0gaW5wdXRbaTBdICYmICJcXCIgIT09IGlucHV0W2kwIC0gMV0pIHsKICAgICAgICAgICAgICAgIHZhciBsaW5lMCA9IGlucHV0LnN1YnN0cmluZyhwcmV2QnJlYWssIGkwKTsKICAgICAgICAgICAgICAgIHByZXZCcmVhayA9IGkwICsgMSwgbGluZXMucHVzaChsaW5lMC5yZXBsYWNlKC9cXFxuL2csICJcbiIpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBwcmV2QnJlYWsgPCBpbnB1dC5sZW5ndGggJiYgbGluZXMucHVzaChpbnB1dC5zdWJzdHIocHJldkJyZWFrKSk7CiAgICAgICAgICAgIGZvciAodmFyIGwgPSAxLCBsZW4gPSBsaW5lcy5sZW5ndGg7IGxlbiA+IGw7ICkgewogICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRMaW5lID0gbGluZXNbbF07CiAgICAgICAgICAgICAgICBjdXJyZW50TGluZS5pbmRleE9mKCItPiIpIDwgMCAmJiBjdXJyZW50TGluZS5pbmRleE9mKCI9PiIpIDwgMCA/IChsaW5lc1tsIC0gMV0gKz0gIlxuIiArIGN1cnJlbnRMaW5lLCAKICAgICAgICAgICAgICAgIGxpbmVzLnNwbGljZShsLCAxKSwgbGVuLS0pIDogbCsrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZvciAoO2xpbmVzLmxlbmd0aCA+IDA7ICkgewogICAgICAgICAgICAgICAgdmFyIGxpbmUgPSBsaW5lcy5zcGxpY2UoMCwgMSlbMF07CiAgICAgICAgICAgICAgICBpZiAobGluZS5pbmRleE9mKCI9PiIpID49IDApIHsKICAgICAgICAgICAgICAgICAgICAvLyBkZWZpbml0aW9uCiAgICAgICAgICAgICAgICAgICAgdmFyIHN1YiwgcGFydHMgPSBsaW5lLnNwbGl0KCI9PiIpLCBzeW1ib2wgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogcGFydHNbMF0sCiAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbFR5cGU6IHBhcnRzWzFdLAogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICBsaW5rOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIGZsb3dzdGF0ZTogbnVsbAogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgLyogYWRkaW5nIHN1cHBvcnQgZm9yIGxpbmtzICovCiAgICAgICAgICAgICAgICAgICAgaWYgKHN5bWJvbC5zeW1ib2xUeXBlLmluZGV4T2YoIjogIikgPj0gMCAmJiAoc3ViID0gc3ltYm9sLnN5bWJvbFR5cGUuc3BsaXQoIjogIiksIAogICAgICAgICAgICAgICAgICAgIHN5bWJvbC5zeW1ib2xUeXBlID0gc3ViLnNoaWZ0KCksIHN5bWJvbC50ZXh0ID0gc3ViLmpvaW4oIjogIikpLCBzeW1ib2wudGV4dCAmJiBzeW1ib2wudGV4dC5pbmRleE9mKCI6PiIpID49IDAgPyAoc3ViID0gc3ltYm9sLnRleHQuc3BsaXQoIjo+IiksIAogICAgICAgICAgICAgICAgICAgIHN5bWJvbC50ZXh0ID0gc3ViLnNoaWZ0KCksIHN5bWJvbC5saW5rID0gc3ViLmpvaW4oIjo+IikpIDogc3ltYm9sLnN5bWJvbFR5cGUuaW5kZXhPZigiOj4iKSA+PSAwICYmIChzdWIgPSBzeW1ib2wuc3ltYm9sVHlwZS5zcGxpdCgiOj4iKSwgCiAgICAgICAgICAgICAgICAgICAgc3ltYm9sLnN5bWJvbFR5cGUgPSBzdWIuc2hpZnQoKSwgc3ltYm9sLmxpbmsgPSBzdWIuam9pbigiOj4iKSksIHN5bWJvbC5zeW1ib2xUeXBlLmluZGV4T2YoIlxuIikgPj0gMCAmJiAoc3ltYm9sLnN5bWJvbFR5cGUgPSBzeW1ib2wuc3ltYm9sVHlwZS5zcGxpdCgiXG4iKVswXSksIAogICAgICAgICAgICAgICAgICAgIHN5bWJvbC5saW5rKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGFydEluZGV4ID0gc3ltYm9sLmxpbmsuaW5kZXhPZigiWyIpICsgMSwgZW5kSW5kZXggPSBzeW1ib2wubGluay5pbmRleE9mKCJdIik7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0SW5kZXggPj0gMCAmJiBlbmRJbmRleCA+PSAwICYmIChzeW1ib2wudGFyZ2V0ID0gc3ltYm9sLmxpbmsuc3Vic3RyaW5nKHN0YXJ0SW5kZXgsIGVuZEluZGV4KSwgCiAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbC5saW5rID0gc3ltYm9sLmxpbmsuc3Vic3RyaW5nKDAsIHN0YXJ0SW5kZXggLSAxKSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIC8qIGVuZCBvZiBsaW5rIHN1cHBvcnQgKi8KICAgICAgICAgICAgICAgICAgICAvKiBhZGRpbmcgc3VwcG9ydCBmb3IgZmxvd3N0YXRlcyAqLwogICAgICAgICAgICAgICAgICAgIGlmIChzeW1ib2wudGV4dCAmJiBzeW1ib2wudGV4dC5pbmRleE9mKCJ8IikgPj0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHh0QW5kU3RhdGUgPSBzeW1ib2wudGV4dC5zcGxpdCgifCIpOwogICAgICAgICAgICAgICAgICAgICAgICBzeW1ib2wuZmxvd3N0YXRlID0gdHh0QW5kU3RhdGUucG9wKCkudHJpbSgpLCBzeW1ib2wudGV4dCA9IHR4dEFuZFN0YXRlLmpvaW4oInwiKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLyogZW5kIG9mIGZsb3dzdGF0ZSBzdXBwb3J0ICovCiAgICAgICAgICAgICAgICAgICAgY2hhcnQuc3ltYm9sc1tzeW1ib2wua2V5XSA9IHN5bWJvbDsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGluZS5pbmRleE9mKCItPiIpID49IDApIGZvciAodmFyIGZsb3dTeW1ib2xzID0gbGluZS5zcGxpdCgiLT4iKSwgaSA9IDAsIGxlblMgPSBmbG93U3ltYm9scy5sZW5ndGg7IGxlblMgPiBpOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZmxvd1N5bWIgPSBmbG93U3ltYm9sc1tpXSwgcmVhbFN5bWIgPSBnZXRTeW1ib2woZmxvd1N5bWIpLCBuZXh0ID0gZ2V0TmV4dFBhdGgoZmxvd1N5bWIpLCBkaXJlY3Rpb24gPSBudWxsOwogICAgICAgICAgICAgICAgICAgIGlmIChuZXh0LmluZGV4T2YoIiwiKSA+PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb25kT3B0ID0gbmV4dC5zcGxpdCgiLCIpOwogICAgICAgICAgICAgICAgICAgICAgICBuZXh0ID0gY29uZE9wdFswXSwgZGlyZWN0aW9uID0gY29uZE9wdFsxXS50cmltKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChjaGFydC5zdGFydCB8fCAoY2hhcnQuc3RhcnQgPSByZWFsU3ltYiksIGxlblMgPiBpICsgMSkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dFN5bWIgPSBmbG93U3ltYm9sc1tpICsgMV07CiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWxTeW1iW25leHRdID0gZ2V0U3ltYm9sKG5leHRTeW1iKSwgcmVhbFN5bWJbImRpcmVjdGlvbl8iICsgbmV4dF0gPSBkaXJlY3Rpb24sIAogICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSBudWxsOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gY2hhcnQ7CiAgICAgICAgfQogICAgICAgIHZhciBGbG93Q2hhcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Zsb3djaGFydC5jaGFydCAqLyA2KSwgU3RhcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Zsb3djaGFydC5zeW1ib2wuc3RhcnQgKi8gMTIpLCBFbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Zsb3djaGFydC5zeW1ib2wuZW5kICovIDkpLCBPcGVyYXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Zsb3djaGFydC5zeW1ib2wub3BlcmF0aW9uICovIDExKSwgSW5wdXRPdXRwdXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Zsb3djaGFydC5zeW1ib2wuaW5wdXRvdXRwdXQgKi8gMTApLCBTdWJyb3V0aW5lID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9mbG93Y2hhcnQuc3ltYm9sLnN1YnJvdXRpbmUgKi8gMTMpLCBDb25kaXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Zsb3djaGFydC5zeW1ib2wuY29uZGl0aW9uICovIDUpOwogICAgICAgIG1vZHVsZS5leHBvcnRzID0gcGFyc2U7CiAgICB9LCAvKiA1ICovCiAgICAvKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3NyYy9mbG93Y2hhcnQuc3ltYm9sLmNvbmRpdGlvbi5qcyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCiAgICAvKioqLwogICAgZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgICAgZnVuY3Rpb24gQ29uZGl0aW9uKGNoYXJ0LCBvcHRpb25zKSB7CiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9LCBTeW1ib2wuY2FsbCh0aGlzLCBjaGFydCwgb3B0aW9ucyksIHRoaXMudGV4dE1hcmdpbiA9IHRoaXMuZ2V0QXR0cigidGV4dC1tYXJnaW4iKSwgCiAgICAgICAgICAgIHRoaXMueWVzX2RpcmVjdGlvbiA9ICJib3R0b20iLCB0aGlzLm5vX2RpcmVjdGlvbiA9ICJyaWdodCIsIG9wdGlvbnMueWVzICYmIG9wdGlvbnMuZGlyZWN0aW9uX3llcyAmJiBvcHRpb25zLm5vICYmICFvcHRpb25zLmRpcmVjdGlvbl9ubyA/ICJyaWdodCIgPT09IG9wdGlvbnMuZGlyZWN0aW9uX3llcyA/ICh0aGlzLm5vX2RpcmVjdGlvbiA9ICJib3R0b20iLCAKICAgICAgICAgICAgdGhpcy55ZXNfZGlyZWN0aW9uID0gInJpZ2h0IikgOiAodGhpcy5ub19kaXJlY3Rpb24gPSAicmlnaHQiLCB0aGlzLnllc19kaXJlY3Rpb24gPSAiYm90dG9tIikgOiBvcHRpb25zLnllcyAmJiAhb3B0aW9ucy5kaXJlY3Rpb25feWVzICYmIG9wdGlvbnMubm8gJiYgb3B0aW9ucy5kaXJlY3Rpb25fbm8gPyAicmlnaHQiID09PSBvcHRpb25zLmRpcmVjdGlvbl9ubyA/ICh0aGlzLnllc19kaXJlY3Rpb24gPSAiYm90dG9tIiwgCiAgICAgICAgICAgIHRoaXMubm9fZGlyZWN0aW9uID0gInJpZ2h0IikgOiAodGhpcy55ZXNfZGlyZWN0aW9uID0gInJpZ2h0IiwgdGhpcy5ub19kaXJlY3Rpb24gPSAiYm90dG9tIikgOiAodGhpcy55ZXNfZGlyZWN0aW9uID0gImJvdHRvbSIsIAogICAgICAgICAgICB0aGlzLm5vX2RpcmVjdGlvbiA9ICJyaWdodCIpLCB0aGlzLnllc19kaXJlY3Rpb24gPSB0aGlzLnllc19kaXJlY3Rpb24gfHwgImJvdHRvbSIsIAogICAgICAgICAgICB0aGlzLm5vX2RpcmVjdGlvbiA9IHRoaXMubm9fZGlyZWN0aW9uIHx8ICJyaWdodCIsIHRoaXMudGV4dC5hdHRyKHsKICAgICAgICAgICAgICAgIHg6IDIgKiB0aGlzLnRleHRNYXJnaW4KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMudGV4dC5nZXRCQm94KCkud2lkdGggKyAzICogdGhpcy50ZXh0TWFyZ2luOwogICAgICAgICAgICB3aWR0aCArPSB3aWR0aCAvIDI7CiAgICAgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLnRleHQuZ2V0QkJveCgpLmhlaWdodCArIDIgKiB0aGlzLnRleHRNYXJnaW47CiAgICAgICAgICAgIGhlaWdodCArPSBoZWlnaHQgLyAyLCBoZWlnaHQgPSBNYXRoLm1heCguNSAqIHdpZHRoLCBoZWlnaHQpOwogICAgICAgICAgICB2YXIgc3RhcnRYID0gd2lkdGggLyA0LCBzdGFydFkgPSBoZWlnaHQgLyA0OwogICAgICAgICAgICB0aGlzLnRleHQuYXR0cih7CiAgICAgICAgICAgICAgICB4OiBzdGFydFggKyB0aGlzLnRleHRNYXJnaW4gLyAyCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2YXIgc3RhcnQgPSB7CiAgICAgICAgICAgICAgICB4OiBzdGFydFgsCiAgICAgICAgICAgICAgICB5OiBzdGFydFkKICAgICAgICAgICAgfSwgcG9pbnRzID0gWyB7CiAgICAgICAgICAgICAgICB4OiBzdGFydFggLSB3aWR0aCAvIDQsCiAgICAgICAgICAgICAgICB5OiBzdGFydFkgKyBoZWlnaHQgLyA0CiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHg6IHN0YXJ0WCAtIHdpZHRoIC8gNCArIHdpZHRoIC8gMiwKICAgICAgICAgICAgICAgIHk6IHN0YXJ0WSArIGhlaWdodCAvIDQgKyBoZWlnaHQgLyAyCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHg6IHN0YXJ0WCAtIHdpZHRoIC8gNCArIHdpZHRoLAogICAgICAgICAgICAgICAgeTogc3RhcnRZICsgaGVpZ2h0IC8gNAogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB4OiBzdGFydFggLSB3aWR0aCAvIDQgKyB3aWR0aCAvIDIsCiAgICAgICAgICAgICAgICB5OiBzdGFydFkgKyBoZWlnaHQgLyA0IC0gaGVpZ2h0IC8gMgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB4OiBzdGFydFggLSB3aWR0aCAvIDQsCiAgICAgICAgICAgICAgICB5OiBzdGFydFkgKyBoZWlnaHQgLyA0CiAgICAgICAgICAgIH0gXSwgc3ltYm9sID0gZHJhd1BhdGgoY2hhcnQsIHN0YXJ0LCBwb2ludHMpOwogICAgICAgICAgICBzeW1ib2wuYXR0cih7CiAgICAgICAgICAgICAgICBzdHJva2U6IHRoaXMuZ2V0QXR0cigiZWxlbWVudC1jb2xvciIpLAogICAgICAgICAgICAgICAgInN0cm9rZS13aWR0aCI6IHRoaXMuZ2V0QXR0cigibGluZS13aWR0aCIpLAogICAgICAgICAgICAgICAgZmlsbDogdGhpcy5nZXRBdHRyKCJmaWxsIikKICAgICAgICAgICAgfSksIG9wdGlvbnMubGluayAmJiBzeW1ib2wuYXR0cigiaHJlZiIsIG9wdGlvbnMubGluayksIG9wdGlvbnMudGFyZ2V0ICYmIHN5bWJvbC5hdHRyKCJ0YXJnZXQiLCBvcHRpb25zLnRhcmdldCksIAogICAgICAgICAgICBvcHRpb25zLmtleSAmJiAoc3ltYm9sLm5vZGUuaWQgPSBvcHRpb25zLmtleSksIHN5bWJvbC5ub2RlLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCB0aGlzLmdldEF0dHIoImNsYXNzIikpLCAKICAgICAgICAgICAgdGhpcy50ZXh0LmF0dHIoewogICAgICAgICAgICAgICAgeTogc3ltYm9sLmdldEJCb3goKS5oZWlnaHQgLyAyCiAgICAgICAgICAgIH0pLCB0aGlzLmdyb3VwLnB1c2goc3ltYm9sKSwgc3ltYm9sLmluc2VydEJlZm9yZSh0aGlzLnRleHQpLCB0aGlzLmluaXRpYWxpemUoKTsKICAgICAgICB9CiAgICAgICAgdmFyIFN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZmxvd2NoYXJ0LnN5bWJvbCAqLyAyKSwgaW5oZXJpdHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Zsb3djaGFydC5oZWxwZXJzICovIDEpLmluaGVyaXRzLCBkcmF3QVBJID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9mbG93Y2hhcnQuZnVuY3Rpb25zICovIDMpLCBkcmF3UGF0aCA9IGRyYXdBUEkuZHJhd1BhdGg7CiAgICAgICAgaW5oZXJpdHMoQ29uZGl0aW9uLCBTeW1ib2wpLCBDb25kaXRpb24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB0aGlzLnllc19kaXJlY3Rpb24gJiYgKHRoaXNbdGhpcy55ZXNfZGlyZWN0aW9uICsgIl9zeW1ib2wiXSA9IHRoaXMueWVzX3N5bWJvbCksIAogICAgICAgICAgICB0aGlzLm5vX2RpcmVjdGlvbiAmJiAodGhpc1t0aGlzLm5vX2RpcmVjdGlvbiArICJfc3ltYm9sIl0gPSB0aGlzLm5vX3N5bWJvbCk7CiAgICAgICAgICAgIHZhciBsaW5lTGVuZ3RoID0gdGhpcy5nZXRBdHRyKCJsaW5lLWxlbmd0aCIpOwogICAgICAgICAgICBpZiAodGhpcy5ib3R0b21fc3ltYm9sKSB7CiAgICAgICAgICAgICAgICB2YXIgYm90dG9tUG9pbnQgPSB0aGlzLmdldEJvdHRvbSgpOwogICAgICAgICAgICAgICAgdGhpcy5ib3R0b21fc3ltYm9sLmlzUG9zaXRpb25lZCB8fCAodGhpcy5ib3R0b21fc3ltYm9sLnNoaWZ0WSh0aGlzLmdldFkoKSArIHRoaXMuaGVpZ2h0ICsgbGluZUxlbmd0aCksIAogICAgICAgICAgICAgICAgdGhpcy5ib3R0b21fc3ltYm9sLnNldFgoYm90dG9tUG9pbnQueCAtIHRoaXMuYm90dG9tX3N5bWJvbC53aWR0aCAvIDIpLCB0aGlzLmJvdHRvbV9zeW1ib2wuaXNQb3NpdGlvbmVkID0gITAsIAogICAgICAgICAgICAgICAgdGhpcy5ib3R0b21fc3ltYm9sLnJlbmRlcigpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodGhpcy5yaWdodF9zeW1ib2wpIHsKICAgICAgICAgICAgICAgIHZhciByaWdodFBvaW50ID0gdGhpcy5nZXRSaWdodCgpOwogICAgICAgICAgICAgICAgaWYgKCF0aGlzLnJpZ2h0X3N5bWJvbC5pc1Bvc2l0aW9uZWQpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnJpZ2h0X3N5bWJvbC5zZXRZKHJpZ2h0UG9pbnQueSAtIHRoaXMucmlnaHRfc3ltYm9sLmhlaWdodCAvIDIpLCB0aGlzLnJpZ2h0X3N5bWJvbC5zaGlmdFgodGhpcy5ncm91cC5nZXRCQm94KCkueCArIHRoaXMud2lkdGggKyBsaW5lTGVuZ3RoKTsKICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgICAgICAgICAgICAgICAgIWZ1bmN0aW9uIHNoaWZ0KCkgewogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBzeW1iLCBoYXNTeW1ib2xVbmRlciA9ICExLCBpID0gMCwgbGVuID0gc2VsZi5jaGFydC5zeW1ib2xzLmxlbmd0aDsgbGVuID4gaTsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeW1iID0gc2VsZi5jaGFydC5zeW1ib2xzW2ldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpZmYgPSBNYXRoLmFicyhzeW1iLmdldENlbnRlcigpLnggLSBzZWxmLnJpZ2h0X3N5bWJvbC5nZXRDZW50ZXIoKS54KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzeW1iLmdldENlbnRlcigpLnkgPiBzZWxmLnJpZ2h0X3N5bWJvbC5nZXRDZW50ZXIoKS55ICYmIGRpZmYgPD0gc2VsZi5yaWdodF9zeW1ib2wud2lkdGggLyAyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzU3ltYm9sVW5kZXIgPSAhMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBoYXNTeW1ib2xVbmRlciAmJiAoc2VsZi5yaWdodF9zeW1ib2wuc2V0WChzeW1iLmdldFgoKSArIHN5bWIud2lkdGggKyBsaW5lTGVuZ3RoKSwgCiAgICAgICAgICAgICAgICAgICAgICAgIHNoaWZ0KCkpOwogICAgICAgICAgICAgICAgICAgIH0oKSwgdGhpcy5yaWdodF9zeW1ib2wuaXNQb3NpdGlvbmVkID0gITAsIHRoaXMucmlnaHRfc3ltYm9sLnJlbmRlcigpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwgQ29uZGl0aW9uLnByb3RvdHlwZS5yZW5kZXJMaW5lcyA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB0aGlzLnllc19zeW1ib2wgJiYgdGhpcy5kcmF3TGluZVRvKHRoaXMueWVzX3N5bWJvbCwgdGhpcy5nZXRBdHRyKCJ5ZXMtdGV4dCIpLCB0aGlzLnllc19kaXJlY3Rpb24pLCAKICAgICAgICAgICAgdGhpcy5ub19zeW1ib2wgJiYgdGhpcy5kcmF3TGluZVRvKHRoaXMubm9fc3ltYm9sLCB0aGlzLmdldEF0dHIoIm5vLXRleHQiKSwgdGhpcy5ub19kaXJlY3Rpb24pOwogICAgICAgIH0sIG1vZHVsZS5leHBvcnRzID0gQ29uZGl0aW9uOwogICAgfSwgLyogNiAqLwogICAgLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vc3JjL2Zsb3djaGFydC5jaGFydC5qcyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwogICAgLyoqKi8KICAgIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICAgIGZ1bmN0aW9uIEZsb3dDaGFydChjb250YWluZXIsIG9wdGlvbnMpIHsKICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge30sIHRoaXMucGFwZXIgPSBuZXcgUmFwaGFlbChjb250YWluZXIpLCB0aGlzLm9wdGlvbnMgPSBkZWZhdWx0cyhvcHRpb25zLCBkZWZhdWx0T3B0aW9ucyksIAogICAgICAgICAgICB0aGlzLnN5bWJvbHMgPSBbXSwgdGhpcy5saW5lcyA9IFtdLCB0aGlzLnN0YXJ0ID0gbnVsbDsKICAgICAgICB9CiAgICAgICAgdmFyIFJhcGhhZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByYXBoYWVsICovIDE1KSwgZGVmYXVsdHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Zsb3djaGFydC5oZWxwZXJzICovIDEpLmRlZmF1bHRzLCBkZWZhdWx0T3B0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZmxvd2NoYXJ0LmRlZmF1bHRzICovIDcpLCBDb25kaXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Zsb3djaGFydC5zeW1ib2wuY29uZGl0aW9uICovIDUpOwogICAgICAgIEZsb3dDaGFydC5wcm90b3R5cGUuaGFuZGxlID0gZnVuY3Rpb24oc3ltYm9sKSB7CiAgICAgICAgICAgIHRoaXMuc3ltYm9scy5pbmRleE9mKHN5bWJvbCkgPD0gLTEgJiYgdGhpcy5zeW1ib2xzLnB1c2goc3ltYm9sKTsKICAgICAgICAgICAgdmFyIGZsb3dDaGFydCA9IHRoaXM7CiAgICAgICAgICAgIHJldHVybiBzeW1ib2wgaW5zdGFuY2VvZiBDb25kaXRpb24gPyAoc3ltYm9sLnllcyA9IGZ1bmN0aW9uKG5leHRTeW1ib2wpIHsKICAgICAgICAgICAgICAgIHJldHVybiBzeW1ib2wueWVzX3N5bWJvbCA9IG5leHRTeW1ib2wsIHN5bWJvbC5ub19zeW1ib2wgJiYgKHN5bWJvbC5wYXRoT2sgPSAhMCksIAogICAgICAgICAgICAgICAgZmxvd0NoYXJ0LmhhbmRsZShuZXh0U3ltYm9sKTsKICAgICAgICAgICAgfSwgc3ltYm9sLm5vID0gZnVuY3Rpb24obmV4dFN5bWJvbCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHN5bWJvbC5ub19zeW1ib2wgPSBuZXh0U3ltYm9sLCBzeW1ib2wueWVzX3N5bWJvbCAmJiAoc3ltYm9sLnBhdGhPayA9ICEwKSwgCiAgICAgICAgICAgICAgICBmbG93Q2hhcnQuaGFuZGxlKG5leHRTeW1ib2wpOwogICAgICAgICAgICB9KSA6IHN5bWJvbC50aGVuID0gZnVuY3Rpb24obmV4dFN5bWJvbCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHN5bWJvbC5uZXh0ID0gbmV4dFN5bWJvbCwgc3ltYm9sLnBhdGhPayA9ICEwLCBmbG93Q2hhcnQuaGFuZGxlKG5leHRTeW1ib2wpOwogICAgICAgICAgICB9LCBzeW1ib2w7CiAgICAgICAgfSwgRmxvd0NoYXJ0LnByb3RvdHlwZS5zdGFydFdpdGggPSBmdW5jdGlvbihzeW1ib2wpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQgPSBzeW1ib2wsIHRoaXMuaGFuZGxlKHN5bWJvbCk7CiAgICAgICAgfSwgRmxvd0NoYXJ0LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIHN5bWJvbCwgbGluZSwgbWF4V2lkdGggPSAwLCBtYXhIZWlnaHQgPSAwLCBpID0gMCwgbGVuID0gMCwgbWF4WCA9IDAsIG1heFkgPSAwLCBtaW5YID0gMCwgbWluWSA9IDA7CiAgICAgICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IHRoaXMuc3ltYm9scy5sZW5ndGg7IGxlbiA+IGk7IGkrKykgc3ltYm9sID0gdGhpcy5zeW1ib2xzW2ldLCBzeW1ib2wud2lkdGggPiBtYXhXaWR0aCAmJiAobWF4V2lkdGggPSBzeW1ib2wud2lkdGgpLCAKICAgICAgICAgICAgc3ltYm9sLmhlaWdodCA+IG1heEhlaWdodCAmJiAobWF4SGVpZ2h0ID0gc3ltYm9sLmhlaWdodCk7CiAgICAgICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IHRoaXMuc3ltYm9scy5sZW5ndGg7IGxlbiA+IGk7IGkrKykgc3ltYm9sID0gdGhpcy5zeW1ib2xzW2ldLCBzeW1ib2wuc2hpZnRYKHRoaXMub3B0aW9ucy54ICsgKG1heFdpZHRoIC0gc3ltYm9sLndpZHRoKSAvIDIgKyB0aGlzLm9wdGlvbnNbImxpbmUtd2lkdGgiXSksIAogICAgICAgICAgICBzeW1ib2wuc2hpZnRZKHRoaXMub3B0aW9ucy55ICsgKG1heEhlaWdodCAtIHN5bWJvbC5oZWlnaHQpIC8gMiArIHRoaXMub3B0aW9uc1sibGluZS13aWR0aCJdKTsKICAgICAgICAgICAgLy8gZm9yIChpID0gMCwgbGVuID0gdGhpcy5zeW1ib2xzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgIC8vICAgc3ltYm9sID0gdGhpcy5zeW1ib2xzW2ldOwogICAgICAgICAgICAvLyAgIHN5bWJvbC5yZW5kZXIoKTsKICAgICAgICAgICAgLy8gfQogICAgICAgICAgICBmb3IgKHRoaXMuc3RhcnQucmVuZGVyKCksIGkgPSAwLCBsZW4gPSB0aGlzLnN5bWJvbHMubGVuZ3RoOyBsZW4gPiBpOyBpKyspIHN5bWJvbCA9IHRoaXMuc3ltYm9sc1tpXSwgCiAgICAgICAgICAgIHN5bWJvbC5yZW5kZXJMaW5lcygpOwogICAgICAgICAgICBmb3IgKG1heFggPSB0aGlzLm1heFhGcm9tTGluZSwgaSA9IDAsIGxlbiA9IHRoaXMuc3ltYm9scy5sZW5ndGg7IGxlbiA+IGk7IGkrKykgewogICAgICAgICAgICAgICAgc3ltYm9sID0gdGhpcy5zeW1ib2xzW2ldOwogICAgICAgICAgICAgICAgdmFyIHggPSBzeW1ib2wuZ2V0WCgpICsgc3ltYm9sLndpZHRoLCB5ID0gc3ltYm9sLmdldFkoKSArIHN5bWJvbC5oZWlnaHQ7CiAgICAgICAgICAgICAgICB4ID4gbWF4WCAmJiAobWF4WCA9IHgpLCB5ID4gbWF4WSAmJiAobWF4WSA9IHkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IHRoaXMubGluZXMubGVuZ3RoOyBsZW4gPiBpOyBpKyspIHsKICAgICAgICAgICAgICAgIGxpbmUgPSB0aGlzLmxpbmVzW2ldLmdldEJCb3goKTsKICAgICAgICAgICAgICAgIHZhciB4ID0gbGluZS54LCB5ID0gbGluZS55LCB4MiA9IGxpbmUueDIsIHkyID0gbGluZS55MjsKICAgICAgICAgICAgICAgIG1pblggPiB4ICYmIChtaW5YID0geCksIG1pblkgPiB5ICYmIChtaW5ZID0geSksIHgyID4gbWF4WCAmJiAobWF4WCA9IHgyKSwgeTIgPiBtYXhZICYmIChtYXhZID0geTIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBzY2FsZSA9IHRoaXMub3B0aW9ucy5zY2FsZSwgbGluZVdpZHRoID0gdGhpcy5vcHRpb25zWyJsaW5lLXdpZHRoIl07CiAgICAgICAgICAgIDAgPiBtaW5YICYmIChtaW5YIC09IGxpbmVXaWR0aCksIDAgPiBtaW5ZICYmIChtaW5ZIC09IGxpbmVXaWR0aCk7CiAgICAgICAgICAgIHZhciB3aWR0aCA9IG1heFggKyBsaW5lV2lkdGggLSBtaW5YLCBoZWlnaHQgPSBtYXhZICsgbGluZVdpZHRoIC0gbWluWTsKICAgICAgICAgICAgdGhpcy5wYXBlci5zZXRTaXplKHdpZHRoICogc2NhbGUsIGhlaWdodCAqIHNjYWxlKSwgdGhpcy5wYXBlci5zZXRWaWV3Qm94KG1pblgsIG1pblksIHdpZHRoLCBoZWlnaHQsICEwKTsKICAgICAgICB9LCBGbG93Q2hhcnQucHJvdG90eXBlLmNsZWFuID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlmICh0aGlzLnBhcGVyKSB7CiAgICAgICAgICAgICAgICB2YXIgcGFwZXJEb20gPSB0aGlzLnBhcGVyLmNhbnZhczsKICAgICAgICAgICAgICAgIHBhcGVyRG9tLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocGFwZXJEb20pOwogICAgICAgICAgICB9CiAgICAgICAgfSwgbW9kdWxlLmV4cG9ydHMgPSBGbG93Q2hhcnQ7CiAgICB9LCAvKiA3ICovCiAgICAvKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi9zcmMvZmxvd2NoYXJ0LmRlZmF1bHRzLmpzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCiAgICAvKioqLwogICAgZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CiAgICAgICAgLy8gZGVmYXVsdHMKICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IHsKICAgICAgICAgICAgeDogMCwKICAgICAgICAgICAgeTogMCwKICAgICAgICAgICAgImxpbmUtd2lkdGgiOiAzLAogICAgICAgICAgICAibGluZS1sZW5ndGgiOiA1MCwKICAgICAgICAgICAgInRleHQtbWFyZ2luIjogMTAsCiAgICAgICAgICAgICJmb250LXNpemUiOiAxNCwKICAgICAgICAgICAgImZvbnQtY29sb3IiOiAiYmxhY2siLAogICAgICAgICAgICAvLyAnZm9udCc6ICdub3JtYWwnLAogICAgICAgICAgICAvLyAnZm9udC1mYW1pbHknOiAnY2FsaWJyaScsCiAgICAgICAgICAgIC8vICdmb250LXdlaWdodCc6ICdub3JtYWwnLAogICAgICAgICAgICAibGluZS1jb2xvciI6ICJibGFjayIsCiAgICAgICAgICAgICJlbGVtZW50LWNvbG9yIjogImJsYWNrIiwKICAgICAgICAgICAgZmlsbDogIndoaXRlIiwKICAgICAgICAgICAgInllcy10ZXh0IjogInllcyIsCiAgICAgICAgICAgICJuby10ZXh0IjogIm5vIiwKICAgICAgICAgICAgImFycm93LWVuZCI6ICJibG9jayIsCiAgICAgICAgICAgICJjbGFzcyI6ICJmbG93Y2hhcnQiLAogICAgICAgICAgICBzY2FsZTogMSwKICAgICAgICAgICAgc3ltYm9sczogewogICAgICAgICAgICAgICAgc3RhcnQ6IHt9LAogICAgICAgICAgICAgICAgZW5kOiB7fSwKICAgICAgICAgICAgICAgIGNvbmRpdGlvbjoge30sCiAgICAgICAgICAgICAgICBpbnB1dG91dHB1dDoge30sCiAgICAgICAgICAgICAgICBvcGVyYXRpb246IHt9LAogICAgICAgICAgICAgICAgc3Vicm91dGluZToge30KICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9LCAvKiA4ICovCiAgICAvKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3NyYy9mbG93Y2hhcnQuc2hpbS5qcyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCiAgICAvKioqLwogICAgZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CiAgICAgICAgLy8gYWRkIGluZGV4T2YgdG8gbm9uIEVDTUEtMjYyIHN0YW5kYXJkIGNvbXBsaWFudCBicm93c2VycwogICAgICAgIEFycmF5LnByb3RvdHlwZS5pbmRleE9mIHx8IChBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uKHNlYXJjaEVsZW1lbnQpIHsKICAgICAgICAgICAgInVzZSBzdHJpY3QiOwogICAgICAgICAgICBpZiAobnVsbCA9PT0gdGhpcykgdGhyb3cgbmV3IFR5cGVFcnJvcigpOwogICAgICAgICAgICB2YXIgdCA9IE9iamVjdCh0aGlzKSwgbGVuID0gdC5sZW5ndGggPj4+IDA7CiAgICAgICAgICAgIGlmICgwID09PSBsZW4pIHJldHVybiAtMTsKICAgICAgICAgICAgdmFyIG4gPSAwOwogICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgKG4gPSBOdW1iZXIoYXJndW1lbnRzWzFdKSwgbiAhPSBuID8gbiA9IDAgOiAwICE9PSBuICYmIG4gIT0gMSAvIDAgJiYgbiAhPSAtKDEgLyAwKSAmJiAobiA9IChuID4gMCB8fCAtMSkgKiBNYXRoLmZsb29yKE1hdGguYWJzKG4pKSkpLCAKICAgICAgICAgICAgbiA+PSBsZW4pIHJldHVybiAtMTsKICAgICAgICAgICAgZm9yICh2YXIgayA9IG4gPj0gMCA/IG4gOiBNYXRoLm1heChsZW4gLSBNYXRoLmFicyhuKSwgMCk7IGxlbiA+IGs7IGsrKykgaWYgKGsgaW4gdCAmJiB0W2tdID09PSBzZWFyY2hFbGVtZW50KSByZXR1cm4gazsKICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIH0pLCAvLyBhZGQgbGFzdEluZGV4T2YgdG8gbm9uIEVDTUEtMjYyIHN0YW5kYXJkIGNvbXBsaWFudCBicm93c2VycwogICAgICAgIEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZiB8fCAoQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24oc2VhcmNoRWxlbWVudCkgewogICAgICAgICAgICAidXNlIHN0cmljdCI7CiAgICAgICAgICAgIGlmIChudWxsID09PSB0aGlzKSB0aHJvdyBuZXcgVHlwZUVycm9yKCk7CiAgICAgICAgICAgIHZhciB0ID0gT2JqZWN0KHRoaXMpLCBsZW4gPSB0Lmxlbmd0aCA+Pj4gMDsKICAgICAgICAgICAgaWYgKDAgPT09IGxlbikgcmV0dXJuIC0xOwogICAgICAgICAgICB2YXIgbiA9IGxlbjsKICAgICAgICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgKG4gPSBOdW1iZXIoYXJndW1lbnRzWzFdKSwgbiAhPSBuID8gbiA9IDAgOiAwICE9PSBuICYmIG4gIT0gMSAvIDAgJiYgbiAhPSAtKDEgLyAwKSAmJiAobiA9IChuID4gMCB8fCAtMSkgKiBNYXRoLmZsb29yKE1hdGguYWJzKG4pKSkpOwogICAgICAgICAgICBmb3IgKHZhciBrID0gbiA+PSAwID8gTWF0aC5taW4obiwgbGVuIC0gMSkgOiBsZW4gLSBNYXRoLmFicyhuKTsgayA+PSAwOyBrLS0pIGlmIChrIGluIHQgJiYgdFtrXSA9PT0gc2VhcmNoRWxlbWVudCkgcmV0dXJuIGs7CiAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICB9KSwgU3RyaW5nLnByb3RvdHlwZS50cmltIHx8IChTdHJpbmcucHJvdG90eXBlLnRyaW0gPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVwbGFjZSgvXlxzK3xccyskL2csICIiKTsKICAgICAgICB9KTsKICAgIH0sIC8qIDkgKi8KICAgIC8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vc3JjL2Zsb3djaGFydC5zeW1ib2wuZW5kLmpzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KICAgIC8qKiovCiAgICBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgICBmdW5jdGlvbiBFbmQoY2hhcnQsIG9wdGlvbnMpIHsKICAgICAgICAgICAgdmFyIHN5bWJvbCA9IGNoYXJ0LnBhcGVyLnJlY3QoMCwgMCwgMCwgMCwgMjApOwogICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fSwgb3B0aW9ucy50ZXh0ID0gb3B0aW9ucy50ZXh0IHx8ICJFbmQiLCBTeW1ib2wuY2FsbCh0aGlzLCBjaGFydCwgb3B0aW9ucywgc3ltYm9sKTsKICAgICAgICB9CiAgICAgICAgdmFyIFN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZmxvd2NoYXJ0LnN5bWJvbCAqLyAyKSwgaW5oZXJpdHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Zsb3djaGFydC5oZWxwZXJzICovIDEpLmluaGVyaXRzOwogICAgICAgIGluaGVyaXRzKEVuZCwgU3ltYm9sKSwgbW9kdWxlLmV4cG9ydHMgPSBFbmQ7CiAgICB9LCAvKiAxMCAqLwogICAgLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3NyYy9mbG93Y2hhcnQuc3ltYm9sLmlucHV0b3V0cHV0LmpzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwogICAgLyoqKi8KICAgIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICAgIGZ1bmN0aW9uIElucHV0T3V0cHV0KGNoYXJ0LCBvcHRpb25zKSB7CiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9LCBTeW1ib2wuY2FsbCh0aGlzLCBjaGFydCwgb3B0aW9ucyksIHRoaXMudGV4dE1hcmdpbiA9IHRoaXMuZ2V0QXR0cigidGV4dC1tYXJnaW4iKSwgCiAgICAgICAgICAgIHRoaXMudGV4dC5hdHRyKHsKICAgICAgICAgICAgICAgIHg6IDMgKiB0aGlzLnRleHRNYXJnaW4KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMudGV4dC5nZXRCQm94KCkud2lkdGggKyA0ICogdGhpcy50ZXh0TWFyZ2luLCBoZWlnaHQgPSB0aGlzLnRleHQuZ2V0QkJveCgpLmhlaWdodCArIDIgKiB0aGlzLnRleHRNYXJnaW4sIHN0YXJ0WCA9IHRoaXMudGV4dE1hcmdpbiwgc3RhcnRZID0gaGVpZ2h0IC8gMiwgc3RhcnQgPSB7CiAgICAgICAgICAgICAgICB4OiBzdGFydFgsCiAgICAgICAgICAgICAgICB5OiBzdGFydFkKICAgICAgICAgICAgfSwgcG9pbnRzID0gWyB7CiAgICAgICAgICAgICAgICB4OiBzdGFydFggLSB0aGlzLnRleHRNYXJnaW4sCiAgICAgICAgICAgICAgICB5OiBoZWlnaHQKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgeDogc3RhcnRYIC0gdGhpcy50ZXh0TWFyZ2luICsgd2lkdGgsCiAgICAgICAgICAgICAgICB5OiBoZWlnaHQKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgeDogc3RhcnRYIC0gdGhpcy50ZXh0TWFyZ2luICsgd2lkdGggKyAyICogdGhpcy50ZXh0TWFyZ2luLAogICAgICAgICAgICAgICAgeTogMAogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB4OiBzdGFydFggLSB0aGlzLnRleHRNYXJnaW4gKyAyICogdGhpcy50ZXh0TWFyZ2luLAogICAgICAgICAgICAgICAgeTogMAogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB4OiBzdGFydFgsCiAgICAgICAgICAgICAgICB5OiBzdGFydFkKICAgICAgICAgICAgfSBdLCBzeW1ib2wgPSBkcmF3UGF0aChjaGFydCwgc3RhcnQsIHBvaW50cyk7CiAgICAgICAgICAgIHN5bWJvbC5hdHRyKHsKICAgICAgICAgICAgICAgIHN0cm9rZTogdGhpcy5nZXRBdHRyKCJlbGVtZW50LWNvbG9yIiksCiAgICAgICAgICAgICAgICAic3Ryb2tlLXdpZHRoIjogdGhpcy5nZXRBdHRyKCJsaW5lLXdpZHRoIiksCiAgICAgICAgICAgICAgICBmaWxsOiB0aGlzLmdldEF0dHIoImZpbGwiKQogICAgICAgICAgICB9KSwgb3B0aW9ucy5saW5rICYmIHN5bWJvbC5hdHRyKCJocmVmIiwgb3B0aW9ucy5saW5rKSwgb3B0aW9ucy50YXJnZXQgJiYgc3ltYm9sLmF0dHIoInRhcmdldCIsIG9wdGlvbnMudGFyZ2V0KSwgCiAgICAgICAgICAgIG9wdGlvbnMua2V5ICYmIChzeW1ib2wubm9kZS5pZCA9IG9wdGlvbnMua2V5KSwgc3ltYm9sLm5vZGUuc2V0QXR0cmlidXRlKCJjbGFzcyIsIHRoaXMuZ2V0QXR0cigiY2xhc3MiKSksIAogICAgICAgICAgICB0aGlzLnRleHQuYXR0cih7CiAgICAgICAgICAgICAgICB5OiBzeW1ib2wuZ2V0QkJveCgpLmhlaWdodCAvIDIKICAgICAgICAgICAgfSksIHRoaXMuZ3JvdXAucHVzaChzeW1ib2wpLCBzeW1ib2wuaW5zZXJ0QmVmb3JlKHRoaXMudGV4dCksIHRoaXMuaW5pdGlhbGl6ZSgpOwogICAgICAgIH0KICAgICAgICB2YXIgU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9mbG93Y2hhcnQuc3ltYm9sICovIDIpLCBpbmhlcml0cyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZmxvd2NoYXJ0LmhlbHBlcnMgKi8gMSkuaW5oZXJpdHMsIGRyYXdBUEkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Zsb3djaGFydC5mdW5jdGlvbnMgKi8gMyksIGRyYXdQYXRoID0gZHJhd0FQSS5kcmF3UGF0aDsKICAgICAgICBpbmhlcml0cyhJbnB1dE91dHB1dCwgU3ltYm9sKSwgSW5wdXRPdXRwdXQucHJvdG90eXBlLmdldExlZnQgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIHkgPSB0aGlzLmdldFkoKSArIHRoaXMuZ3JvdXAuZ2V0QkJveCgpLmhlaWdodCAvIDIsIHggPSB0aGlzLmdldFgoKSArIHRoaXMudGV4dE1hcmdpbjsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHg6IHgsCiAgICAgICAgICAgICAgICB5OiB5CiAgICAgICAgICAgIH07CiAgICAgICAgfSwgSW5wdXRPdXRwdXQucHJvdG90eXBlLmdldFJpZ2h0ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciB5ID0gdGhpcy5nZXRZKCkgKyB0aGlzLmdyb3VwLmdldEJCb3goKS5oZWlnaHQgLyAyLCB4ID0gdGhpcy5nZXRYKCkgKyB0aGlzLmdyb3VwLmdldEJCb3goKS53aWR0aCAtIHRoaXMudGV4dE1hcmdpbjsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHg6IHgsCiAgICAgICAgICAgICAgICB5OiB5CiAgICAgICAgICAgIH07CiAgICAgICAgfSwgbW9kdWxlLmV4cG9ydHMgPSBJbnB1dE91dHB1dDsKICAgIH0sIC8qIDExICovCiAgICAvKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3NyYy9mbG93Y2hhcnQuc3ltYm9sLm9wZXJhdGlvbi5qcyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCiAgICAvKioqLwogICAgZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgICAgZnVuY3Rpb24gT3BlcmF0aW9uKGNoYXJ0LCBvcHRpb25zKSB7CiAgICAgICAgICAgIHZhciBzeW1ib2wgPSBjaGFydC5wYXBlci5yZWN0KDAsIDAsIDAsIDApOwogICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fSwgU3ltYm9sLmNhbGwodGhpcywgY2hhcnQsIG9wdGlvbnMsIHN5bWJvbCk7CiAgICAgICAgfQogICAgICAgIHZhciBTeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Zsb3djaGFydC5zeW1ib2wgKi8gMiksIGluaGVyaXRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9mbG93Y2hhcnQuaGVscGVycyAqLyAxKS5pbmhlcml0czsKICAgICAgICBpbmhlcml0cyhPcGVyYXRpb24sIFN5bWJvbCksIG1vZHVsZS5leHBvcnRzID0gT3BlcmF0aW9uOwogICAgfSwgLyogMTIgKi8KICAgIC8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi9zcmMvZmxvd2NoYXJ0LnN5bWJvbC5zdGFydC5qcyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KICAgIC8qKiovCiAgICBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgICBmdW5jdGlvbiBTdGFydChjaGFydCwgb3B0aW9ucykgewogICAgICAgICAgICB2YXIgc3ltYm9sID0gY2hhcnQucGFwZXIucmVjdCgwLCAwLCAwLCAwLCAyMCk7CiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9LCBvcHRpb25zLnRleHQgPSBvcHRpb25zLnRleHQgfHwgIlN0YXJ0IiwgU3ltYm9sLmNhbGwodGhpcywgY2hhcnQsIG9wdGlvbnMsIHN5bWJvbCk7CiAgICAgICAgfQogICAgICAgIHZhciBTeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Zsb3djaGFydC5zeW1ib2wgKi8gMiksIGluaGVyaXRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9mbG93Y2hhcnQuaGVscGVycyAqLyAxKS5pbmhlcml0czsKICAgICAgICBpbmhlcml0cyhTdGFydCwgU3ltYm9sKSwgbW9kdWxlLmV4cG9ydHMgPSBTdGFydDsKICAgIH0sIC8qIDEzICovCiAgICAvKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi9zcmMvZmxvd2NoYXJ0LnN5bWJvbC5zdWJyb3V0aW5lLmpzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCiAgICAvKioqLwogICAgZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgICAgZnVuY3Rpb24gU3Vicm91dGluZShjaGFydCwgb3B0aW9ucykgewogICAgICAgICAgICB2YXIgc3ltYm9sID0gY2hhcnQucGFwZXIucmVjdCgwLCAwLCAwLCAwKTsKICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge30sIFN5bWJvbC5jYWxsKHRoaXMsIGNoYXJ0LCBvcHRpb25zLCBzeW1ib2wpLCBzeW1ib2wuYXR0cih7CiAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy50ZXh0LmdldEJCb3goKS53aWR0aCArIDQgKiB0aGlzLmdldEF0dHIoInRleHQtbWFyZ2luIikKICAgICAgICAgICAgfSksIHRoaXMudGV4dC5hdHRyKHsKICAgICAgICAgICAgICAgIHg6IDIgKiB0aGlzLmdldEF0dHIoInRleHQtbWFyZ2luIikKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZhciBpbm5lcldyYXAgPSBjaGFydC5wYXBlci5yZWN0KDAsIDAsIDAsIDApOwogICAgICAgICAgICBpbm5lcldyYXAuYXR0cih7CiAgICAgICAgICAgICAgICB4OiB0aGlzLmdldEF0dHIoInRleHQtbWFyZ2luIiksCiAgICAgICAgICAgICAgICBzdHJva2U6IHRoaXMuZ2V0QXR0cigiZWxlbWVudC1jb2xvciIpLAogICAgICAgICAgICAgICAgInN0cm9rZS13aWR0aCI6IHRoaXMuZ2V0QXR0cigibGluZS13aWR0aCIpLAogICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMudGV4dC5nZXRCQm94KCkud2lkdGggKyAyICogdGhpcy5nZXRBdHRyKCJ0ZXh0LW1hcmdpbiIpLAogICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLnRleHQuZ2V0QkJveCgpLmhlaWdodCArIDIgKiB0aGlzLmdldEF0dHIoInRleHQtbWFyZ2luIiksCiAgICAgICAgICAgICAgICBmaWxsOiB0aGlzLmdldEF0dHIoImZpbGwiKQogICAgICAgICAgICB9KSwgb3B0aW9ucy5rZXkgJiYgKGlubmVyV3JhcC5ub2RlLmlkID0gb3B0aW9ucy5rZXkgKyAiaSIpOwogICAgICAgICAgICB2YXIgZm9udCA9IHRoaXMuZ2V0QXR0cigiZm9udCIpLCBmb250RiA9IHRoaXMuZ2V0QXR0cigiZm9udC1mYW1pbHkiKSwgZm9udFcgPSB0aGlzLmdldEF0dHIoImZvbnQtd2VpZ2h0Iik7CiAgICAgICAgICAgIGZvbnQgJiYgaW5uZXJXcmFwLmF0dHIoewogICAgICAgICAgICAgICAgZm9udDogZm9udAogICAgICAgICAgICB9KSwgZm9udEYgJiYgaW5uZXJXcmFwLmF0dHIoewogICAgICAgICAgICAgICAgImZvbnQtZmFtaWx5IjogZm9udEYKICAgICAgICAgICAgfSksIGZvbnRXICYmIGlubmVyV3JhcC5hdHRyKHsKICAgICAgICAgICAgICAgICJmb250LXdlaWdodCI6IGZvbnRXCiAgICAgICAgICAgIH0pLCBvcHRpb25zLmxpbmsgJiYgaW5uZXJXcmFwLmF0dHIoImhyZWYiLCBvcHRpb25zLmxpbmspLCBvcHRpb25zLnRhcmdldCAmJiBpbm5lcldyYXAuYXR0cigidGFyZ2V0Iiwgb3B0aW9ucy50YXJnZXQpLCAKICAgICAgICAgICAgdGhpcy5ncm91cC5wdXNoKGlubmVyV3JhcCksIGlubmVyV3JhcC5pbnNlcnRCZWZvcmUodGhpcy50ZXh0KSwgdGhpcy5pbml0aWFsaXplKCk7CiAgICAgICAgfQogICAgICAgIHZhciBTeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Zsb3djaGFydC5zeW1ib2wgKi8gMiksIGluaGVyaXRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9mbG93Y2hhcnQuaGVscGVycyAqLyAxKS5pbmhlcml0czsKICAgICAgICBpbmhlcml0cyhTdWJyb3V0aW5lLCBTeW1ib2wpLCBtb2R1bGUuZXhwb3J0cyA9IFN1YnJvdXRpbmU7CiAgICB9LCAvKiAxNCAqLwogICAgLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3NyYy9qcXVlcnktcGx1Z2luLmpzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwogICAgLyoqKi8KICAgIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICAgIGlmICgidW5kZWZpbmVkIiAhPSB0eXBlb2YgalF1ZXJ5KSB7CiAgICAgICAgICAgIHZhciBwYXJzZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZmxvd2NoYXJ0LnBhcnNlICovIDQpOwogICAgICAgICAgICAhZnVuY3Rpb24oJCkgewogICAgICAgICAgICAgICAgJC5mbi5mbG93Q2hhcnQgPSBmdW5jdGlvbihvcHRpb25zKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSwgY2hhcnQgPSBwYXJzZSgkdGhpcy50ZXh0KCkpOwogICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy5odG1sKCIiKSwgY2hhcnQuZHJhd1NWRyh0aGlzLCBvcHRpb25zKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0oalF1ZXJ5KTsKICAgICAgICB9CiAgICB9LCAvKiAxNSAqLwogICAgLyohKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIGV4dGVybmFsICJSYXBoYWVsIiAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqLwogICAgLyoqKi8KICAgIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewogICAgICAgIG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xNV9fOwogICAgfSBdKTsKfSk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPWZsb3djaGFydC5qcy5tYXA="></script>

</html>
